{"version":3,"sources":["actions/types.js","actions/auth.js","actions/menu.js","components/layout/Header.js","assets/ifcb-gallery.png","assets/ditylum-gradient.png","assets/webpage.png","assets/chaetoceros-gradient.png","assets/lithodesmium-gradient.png","components/layout/Landing.js","components/layout/Learn.js","actions/preferences.js","components/annotations/Preferences.js","actions/classify.js","components/features/Note.js","components/annotations/BinNote.js","components/annotations/Plankton.js","components/annotations/ClassMenu.js","icons/green-check.png","icons/red-x.png","icons/dropdown.png","components/annotations/time/TimeSeriesControl.js","components/annotations/time/YearControl.js","components/annotations/time/DayControl.js","components/annotations/time/Bar.js","components/annotations/time/FileControl.js","components/annotations/loader.GIF","icons/to-top.png","components/annotations/Annotations.js","assets/akashiwo-character.png","components/annotations/Tutorial.js","components/annotations/PublicClassify.js","components/annotations/Classify.js","components/features/Notebook.js","components/features/Analysis.js","components/features/ClassDownload.js","components/features/Search.js","components/accounts/Login.js","components/accounts/Register.js","components/common/loader.GIF","components/common/PrivateRoute.js","reducers/auth.js","reducers/menu.js","reducers/classify.js","reducers/index.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["USER_LOADING","USER_LOADED","LOCATION_SAVED","AUTH_ERROR","LOGIN_ATTEMPT","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","SCALE_CHANGED","PREFERENCES_LOADED","PREFERENCES_ERROR","HOME_PAGE","LEARN_PAGE","REGISTER_PAGE","LOGIN_PAGE","CLASSIFY_PAGE","NOTEBOOK_PAGE","ANALYSIS_PAGE","CLASSDOWNLOAD_PAGE","SEARCH_PAGE","SAVE_SUCCESS","SAVE_PROGRESS","SYNC_SUCCESS","SYNC_PROGRESS","NOTES_CHANGED","NOTES_RECORDED","REPLY_OPEN","REPLY_RESOLVED","NOTEBOOK_FILTERED","TARGETS_BASIC_SEARCHED","BINS_BASIC_SEARCHED","tokenConfig","getState","token","auth","config","headers","goto_home","dispatch","type","Header","pathname","this","props","isAuthenticated","user","location","onClassify","to","onNotebook","onAnalysis","onLearn","authLinks","className","username","onClick","goto_learn","goto_classify","logout","groups","goto_notebook","goto_analysis","href","guestLinks","goto_register","goto_login","Component","connect","state","onHome","menu","axios","post","then","res","Landing","onRegister","onLogin","src","ditylum","alt","preview","ifcbGallery","width","loop","chaetoceros","lithodesmium","changeScale","newScale","payload","Preferences","recentChecked","phytoGuideChecked","sortChecked","AZ","ZA","LS","SL","scaleEntry","onSortChange","bind","onScaleChange","onLoadChange","onPhytoGuideChange","sort","setState","load","phytoGuide","scale","document","getElementById","style","display","classList","toggle","history","go","e","target","value","setScalePreference","setSortPreference","setLoadPreference","setPhytoGuidePreference","id","close","name","checked","onChange","for","step","React","loadPref","JSON","stringify","catch","err","console","log","sortPref","phytoGuidePref","sendNotesChange","receiveNotesChange","addBinNote","author","entry","parent","replies","timeseries","ifcb","file","image","note","classifyRow","targets","startInd","endInd","put","classifyAll","set","classAbbr","save","sync","year","day","get","Note","onSubmit","preventDefault","reset","sendReplyOpen","deleteBinNote","flagBinNote","isFlagged","date","flag","slice","reply","delete","getFlagButton","rows","notes","classify","BinNote","parents","getNotes","data","count","iters","findIndex","element","margin","String","length","map","renderNote","noteChangeFlag","replyChangeFlag","receiveReplyOpen","PlanktonImage","url","nameSpace","timestamp","targetNum","classification","height","Number","Plankton","class_name","infoChange","infoStyle","getHeight","getWidth","renderImage","public","onMouseEnter","onMouseLeave","handleInfoClick","editor","infoShowing","includes","class_abbr","Micrometer","ClassMenu","indexSelected","indexHovered","x","i","options","classes","handleMenuClick","handleMouseOver","handleMouseOut","showPhytoGuide","handleSelectAllClick","handleUndoClick","descriptions","examples","nonexamples","TimeSeriesControl","dropdown","handleDropdown","YearControl","DayControl","Bar","num","onHover","number","handleHover","current","FileControl","fileName","NavButton","text","Annotations","loading","newFile","newTimeSeries","classAbbrs","classDescriptions","classExamples","classNonexamples","classPicker","classMark","planktonClickEnabled","bin","timeSeriesOptions","yearOptions","dayOptions","barHeights","fileOptions","setOptions","filledDays","targetNumbers","scrollToIndex","undefined","jumpEntry","jumpSubmit","initialTargetJump","lastEditBin","lastEditTarget","lastScroll","dayOption","previous","next","onTargetJumpChange","onTargetJumpSubmit","contains","option","closeDropdown","urlInfo","split","preferences","jumpToLastEdit","getNewTimeSeries","c","display_name","replace","abbr","description","filter","n","Math","round","phytoguide","year_options","reverse","day_options","file_options","set_options","filled_days","targetResponse","t","prevProps","prevState","match","setTimeout","highlightTarget","unhighlightTarget","container","backgroundColor","color","histogram","body","scrollTop","documentElement","dayNumber","handleBar","prevMenu","addEventListener","ids","getElementsByClassName","idTexts","removeEventListener","remove","add","concat","newHistory","parse","scrollHeight","j","row","k","start","end","targetRow","bool","infoClassList","newInfoShowing","item","classifyTarget","showButton","innerHTML","infoButtons","dir","initialScale","rowResponse","getNewYear","handleNewDay","handleNewFile","handleSyncClick","handleDownload","gb","handleBarHover","direction","fileNumber","yearNumber","loader","returnToClassify","event","isNaN","cache","CellMeasurerCache","defaultHeight","minHeight","fixedWidth","closePreferences","renderPreferences","renderTimeSeriesControl","renderYearControl","renderDayControl","renderFileControl","placeholder","showNotes","hideInfo","renderSync","renderDownload","handleHistogramClick","openPreferences","renderBar","renderClassMenu","isSaving","renderLoader","rowCount","rowHeight","rowRenderer","index","key","rowIndex","measure","registerChild","ref","onLoad","handleRowClick","handlePlanktonClick","disablePlanktonClick","scrollToAlignment","clientWidth","toTop","backToTop","renderNavButton","newURL","renderNotFound","renderPage","flipBackToTop","Tutorial","toc","title","buttons","track","tracks","slide","prevTrack","akashiwo","button","handleButton","back","PublicClassify","timeSeriesNames","dateOptions","public_name","Date","join","classifyPublicTarget","selectedDate","onDateChange","selected","includeDates","placeholderText","inline","Classify","group","Filter","applyFilter","renderOption","Notebook","searchTerms","newAppliedFilters","appliedFilters","category","choice","filterNotebook","flags","authors","bins","ifcbs","types","filters","Array","fill","getNotebook","applied","handleFilterChoiceClick","handleApplyFilter","handleRemoveFilter","toUpperCase","skips","rendered","renderReply","cellRenderer","columnIndex","noteIndex","includesFlag","handleFilterClick","renderAppliedFilters","renderFilterChoice","columnCount","columnWidth","deferredMeasurementCache","ceil","search","AnalysisOption","heading","handleClick","Analysis","analysisOptions","goto_search","goto_classdownload","onClassDownload","onSearch","renderAnalysisOption","ClassDownload","handleNumberChange","classifiers","classChoice","optionalChoices","include","exclude","classifierIncludes","classifierExcludes","indexOf","splice","newExcludes","newIncludes","handleClassOptionClick","handleClassifierOptionClick","renderClassOption","renderClassifierOption","min","handleAllClick","download","onload","loadFrame","Target","initialWidth","binIndex","showMore","showLess","redirectToFile","Search","basicSearch","renderable","searchTargets","targetSearchResults","redirectInfo","getBins","binsSearchResults","resultsDisplay","renderTarget","binIDs","Login","password","attempted","login","error","push","loginFailed","Register","email","password2","labcode","newUser","register","icon","form","handleRoleHover","handleCommunityRole","handleLabRole","component","rest","render","window","isLoading","initialState","localStorage","getItem","registerFailed","locationCount","isSyncing","combineReducers","action","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","userRes","prefRes","exact","path","withRouter","Learn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.742bee29.chunk.js","sourcesContent":["// Authentication\nexport const USER_LOADING = \"USER_LOADING\";\nexport const USER_LOADED = \"USER_LOADED\";\nexport const LOCATION_SAVED = \"LOCATION_SAVED\";\nexport const AUTH_ERROR = \"AUTH_ERROR\";\nexport const LOGIN_ATTEMPT = \"LOGIN_ATTEMPT\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\n\n// Preferences\nexport const SCALE_CHANGED = \"SCALE_CHANGED\";\nexport const PREFERENCES_LOADED = \"USER_LOADED\";\nexport const PREFERENCES_ERROR = \"PREFERENCES_ERROR\";\n\n// Menu\nexport const HOME_PAGE = \"HOME_PAGE\";\nexport const LEARN_PAGE = \"LEARN_PAGE\";\nexport const REGISTER_PAGE = \"REGISTER_PAGE\";\nexport const LOGIN_PAGE = \"LOGIN_PAGE\";\nexport const CLASSIFY_PAGE = \"CLASSIFY_PAGE\";\nexport const NOTEBOOK_PAGE = \"NOTEBOOK_PAGE\";\nexport const ANALYSIS_PAGE = \"ANALYSIS_PAGE\";\nexport const CLASSDOWNLOAD_PAGE = \"CLASSDOWNLOAD_PAGE\";\nexport const SEARCH_PAGE = \"SEARCH_PAGE\";\n\n// Classification\nexport const SAVE_SUCCESS = \"SAVE_SUCCESS\";\nexport const SAVE_PROGRESS = \"SAVE_PROGRESS\";\nexport const SYNC_SUCCESS = \"SYNC_SUCCESS\";\nexport const SYNC_PROGRESS = \"SYNC_PROGRESS\";\nexport const NOTES_CHANGED = \"NOTES_CHANGED\";\nexport const NOTES_RECORDED = \"NOTES_RECORDED\";\nexport const REPLY_OPEN = \"REPLY_OPEN\";\nexport const REPLY_RESOLVED = \"REPLY_RESOLVED\";\nexport const NOTE_SUCCESS = \"NOTE_SUCCESS\";\nexport const NOTEBOOK_FILTERED = \"NOTEBOOK_FILTERED\";\nexport const TARGETS_BASIC_SEARCHED = \"TARGETS_BASIC_SEARCHED\";\nexport const BINS_BASIC_SEARCHED = \"BINS_BASIC_SEARCHED\";","import axios from 'axios';\nimport {\n    USER_LOADED,\n    USER_LOADING,\n    PREFERENCES_ERROR,\n    LOCATION_SAVED,\n    AUTH_ERROR,\n    LOGIN_ATTEMPT,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL\n} from '../actions/types';\n\n// CHECK TOKEN & LOAD USER\nexport const loadUser = () => (dispatch, getState) => {\n    // User Loading\n    dispatch({ type: USER_LOADING });\n\n    axios\n        .get('/api/auth/user', tokenConfig(getState))\n        .then(userRes => {\n            axios\n                .get('/preferences/' + userRes.data.username + '/')\n                .then(prefRes => {\n                    dispatch({\n                        type: USER_LOADED,\n                        payload: {user: userRes.data, preferences: prefRes.data}\n                    });\n                })\n                .catch(err => {\n                    dispatch({\n                        type: PREFERENCES_ERROR\n                    });\n                });\n        })\n        .catch(err => {\n            dispatch({\n                type: AUTH_ERROR\n            });\n        })\n}\n\n// SAVE LOCATION\nexport const saveLocation = (location) => (dispatch) => {\n    dispatch({ \n        type: LOCATION_SAVED,\n        payload: location\n    });\n}\n\n// LOGIN USER\nexport const login = (username, password) => dispatch => {\n    \n    dispatch({\n        type: LOGIN_ATTEMPT\n    });\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // Request Body\n    const body = JSON.stringify({ username, password });\n\n    axios\n        .post('/api/auth/login', body, config)\n        .then(res => {\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: LOGIN_FAIL\n            });\n        })\n};\n\n// REGISTER USER\nexport const register = ({ groups, username, password, email }) => dispatch => {\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // Request Body\n    const body = JSON.stringify({ groups, username, email, password });\n    console.log(groups);\n\n    axios\n        .post('/api/auth/register', body, config)\n        .then(res => {\n            dispatch({\n                type: REGISTER_SUCCESS,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: REGISTER_FAIL\n            });\n        })\n};\n\n// LOGOUT USER\nexport const logout = () => (dispatch, getState) => {\n    axios\n        .post('/api/auth/logout/', null, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: LOGOUT_SUCCESS\n            });\n        });\n};\n\n// Setup config with token (helper function)\nexport const tokenConfig = getState => {\n    \n    // Get token from state\n    const token = getState().auth.token\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // if token, add to headers config\n    if(token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    return config;\n}","import {\n    CLASSIFY_PAGE,\n    NOTEBOOK_PAGE,\n    ANALYSIS_PAGE,\n    CLASSDOWNLOAD_PAGE,\n    SEARCH_PAGE,\n    HOME_PAGE,\n    LEARN_PAGE,\n    REGISTER_PAGE,\n    LOGIN_PAGE,\n} from '../actions/types';\n\nexport const goto_home = () => (dispatch) => {\n    dispatch({\n        type: HOME_PAGE\n    });\n};\n\nexport const goto_learn = () => (dispatch) => {\n    dispatch({\n        type: LEARN_PAGE\n    });\n};\n\nexport const goto_register = () => (dispatch) => {\n    dispatch({\n        type: REGISTER_PAGE\n    });\n};\n\nexport const goto_login = () => (dispatch) => {\n    dispatch({\n        type: LOGIN_PAGE\n    });\n};\n\nexport const goto_classify = () => (dispatch) => {\n    dispatch({\n        type: CLASSIFY_PAGE\n    });\n};\n\nexport const goto_notebook = () => (dispatch) => {\n    dispatch({\n        type: NOTEBOOK_PAGE\n    });\n};\n\nexport const goto_analysis = () => (dispatch) => {\n    dispatch({\n        type: ANALYSIS_PAGE\n    });\n};\n\nexport const goto_classdownload = () => (dispatch) => {\n    console.log('Going to Download');\n    dispatch({\n        type: CLASSDOWNLOAD_PAGE\n    });\n};\n\nexport const goto_search = () => (dispatch) => {\n    console.log('Going to Download');\n    dispatch({\n        type: SEARCH_PAGE\n    });\n};","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link,  Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { logout } from \"../../actions/auth\";\nimport { goto_home, goto_learn, goto_register, goto_login, goto_classify, goto_notebook, goto_analysis } from \"../../actions/menu\";\n\nexport class Header extends Component {\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n        logout: PropTypes.func.isRequired,\n        location: PropTypes.object.isRequired,\n        goto_home: PropTypes.func.isRequired,\n        goto_learn: PropTypes.func.isRequired,\n        goto_register: PropTypes.func.isRequired,\n        goto_login: PropTypes.func.isRequired,\n        goto_classify: PropTypes.func.isRequired,\n        goto_notebook: PropTypes.func.isRequired,\n        goto_analysis: PropTypes.func.isRequired,\n    };\n\n    render() {\n        const { isAuthenticated, user } = this.props.auth;\n        var pathname;\n        {this.props.location ? pathname = this.props.location.pathname : pathname = null}\n\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        } else if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        } else if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis\" />\n        } else if(this.props.onLearn) {\n            return <Redirect to=\"/learn\" />\n        }\n        var authLinks = (\n            <ul className=\"logoutbar\">\n                <span className='nav-hello'>\n                    <strong className='nav-hello'>\n                        { user ? `Welcome, ${user.username}` : \"\" }\n                    </strong>\n                </span>\n                <div className=\"login-navbar\">\n                    <li>\n                        <button  \n                            onClick={this.props.goto_home}\n                            className=\"login-nav-link\">\n                                Home\n                        </button>\n                    </li>\n                    <li>\n                        <button  \n                            onClick={this.props.goto_learn}\n                            className=\"login-nav-link\">\n                                Learn\n                        </button>\n                    </li>\n                    <li>\n                        <button  \n                            onClick={this.props.goto_classify}\n                            className=\"login-nav-link\">\n                                Classify\n                        </button>\n                    </li>\n                </div>\n                <li className=\"nav-item\">\n                    <button \n                        onClick={this.props.logout} \n                        to=\"/login\" \n                        className=\"logout\">Logout</button>\n                </li>\n            </ul>\n        );\n\n        if(this.props.user !== null) {\n            if(this.props.user.groups[0] === 1) {\n                authLinks = (\n                    <ul className=\"logoutbar\">\n                        <span className='nav-hello'>\n                            <strong className='nav-hello'>\n                                { user ? `Welcome, ${user.username}` : \"\" }\n                            </strong>\n                        </span>\n                        <div className=\"login-navbar\">\n                            <li>\n                                <button \n                                    onClick={this.props.goto_classify}\n                                    className=\"login-nav-link\">\n                                        Classify\n                                </button>\n                            </li>\n                            <li>\n                                <button  \n                                    onClick={this.props.goto_notebook}\n                                    className=\"login-nav-link\">\n                                        Notebook\n                                </button>\n                            </li>\n                            <li>\n                                <button  \n                                    onClick={this.props.goto_analysis}\n                                    className=\"login-nav-link\">\n                                        Analysis\n                                </button>\n                            </li>\n                            <li>\n                                <a  \n                                    href=\"http://odontella.oceandatacenter.ucsc.edu:8000/admin/\"\n                                    className=\"login-nav-link\">\n                                        Admin\n                                </a>\n                            </li>\n                        </div>\n                        <li className=\"nav-item\">\n                            <button \n                                onClick={this.props.logout} \n                                to=\"/login\" \n                                className=\"logout\">Logout</button>\n                        </li>\n                    </ul>\n                );\n            } \n        }\n\n        const guestLinks = (\n            <ul className=\"navbar\">\n                <li className=\"nav-item\">\n                    <Link to=\"/register\" className=\"nav-link\" onClick={this.props.goto_register}>Register</Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link to=\"/login\" className=\"nav-link\" onClick={this.props.goto_login}>Login</Link>\n                </li>\n            </ul>\n        );\n        \n        return (\n            <header className={pathname === '/' ? 'home-header' : 'general-header'}>\n                <button  \n                    onClick={this.props.goto_home}\n                    className=\"h3\">\n                        IFCB Classification\n                </button>\n                { isAuthenticated ? authLinks : guestLinks }\n            </header>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n});\n\nexport default connect(mapStateToProps, { logout, goto_home, goto_learn, goto_register, goto_login, goto_classify, goto_notebook, goto_analysis })(Header);","export default __webpack_public_path__ + \"static/media/ifcb-gallery.095b81b2.png\";","export default __webpack_public_path__ + \"static/media/ditylum-gradient.982b042e.png\";","export default __webpack_public_path__ + \"static/media/webpage.e2242b84.png\";","export default __webpack_public_path__ + \"static/media/chaetoceros-gradient.f5286ef9.png\";","export default __webpack_public_path__ + \"static/media/lithodesmium-gradient.4b062529.png\";","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from '../layout/Header';\nimport ifcbGallery from \"../../assets/ifcb-gallery.png\";\nimport ditylum from \"../../assets/ditylum-gradient.png\";\nimport preview from \"../../assets/webpage.png\";\nimport chaetoceros from \"../../assets/chaetoceros-gradient.png\";\nimport lithodesmium from \"../../assets/lithodesmium-gradient.png\";\n\nexport class Landing extends Component {\n    // TODO: Make hero into img and add alt text\n    // media query smaller version when width is less than 950px\n\n    static propTypes = {\n        onHome: PropTypes.bool,\n        onClassify: PropTypes.bool,\n        onLearn: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        onRegister: PropTypes.bool,\n        onLogin: PropTypes.bool,\n      };\n\n    render() {\n\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n        if(this.props.onLearn) {\n            return <Redirect to=\"/learn\" />\n        }\n        if(this.props.onRegister) {\n            return <Redirect to=\"/register\" />\n        }\n        if(this.props.onLogin) {\n            return <Redirect to=\"/login\" />\n        }\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n        if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis/\" />\n        }\n\n        return (\n            <main>\n                <Header location={this.props.location} />\n                <div className='landing-hero-container'>\n                    <div className='landing-hero'>\n                        <h2 className='landing-title'>Dive Into Phytoplankton</h2>\n                        <p className='landing-subtitle'>Identify phytoplankton types photographed by a robot! Help us monitor the ever-changing marine environment.</p>\n                    </div>\n                </div>\n                <div className='landing-content'>\n                    <div className='main-panel'>\n                        <div className='hor-section'>\n                            <img className='hor-image' src={ditylum} alt='The community science webpage, which features a title reading \"Classify Phytoplankton,\" a gallery of blank and white microscope images of phytoplankton, and a menu of phytoplankton classification names.'></img>\n                            <div className='hor-text'>\n                                <h2 className='section-heading'>The Classification Project</h2>\n                                <p className='section-body'>A description of the project and why it’s important. Include details of the significance of manual classification data collection.</p>\n                            </div>\n                        </div>\n                        <div className='side-text'>\n                            <h2 className='side-heading'>You can make a difference for our oceans.</h2>\n                            <p className='side-body'>Community scientists have the potential to drive marine data collection.</p>\n                        </div>\n                        <img className='website-preview' src={preview} alt='A preview of the classification webpage, which includes a tutorial, buttons for picking plankton sample, images for classification, and more.'></img>\n                        <div className='get-involved-section'>\n                        <img src={ifcbGallery} alt=\"Cursor clicking plankton images to identify them\" width=\"80\" loop=\"infinite\" className=\"ifcb-gallery\"></img>\n                            <div className='side-text'>\n                                <h2 className='side-heading get-involved-heading'>Get Involved</h2>\n                                <p className='side-body'>Make an account and start classifying! No experience necessary. Explore the beautiful world of phytoplankton while making real contributions to scientific discovery and ocean conservation.</p>\n                                <button className='landing-button'>Learn More</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='external-container'>\n                        <div className='vert-section'>\n                            <img src={chaetoceros} alt=\"A long, ribbon-like phytoplankton with lots of tendrils\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>What is an IFCB?</h2>\n                                <p className='vert-body'>An IFCB is a robotic microscope that collects water and takes pictures without a human.</p>\n                            </div>\n                            <button className='external-button'>Learn More</button>\n                        </div>\n                        <div className='vert-section righthand-container'>\n                            <img src={lithodesmium} alt=\"A translucent, pillow-like phytoplankton with a dark circular middle\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>The Kudela Lab</h2>\n                                <p className='vert-body'>We use satellites, robots, and good old fashioned chemistry to understand phytoplankton.</p>\n                            </div>\n                            <button className='external-button'>Learn More</button>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    onClassify: state.menu.onClassify,\n    onLearn: state.menu.onLearn,\n    onRegister: state.menu.onRegister,\n    onLogin: state.menu.onLogin,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\n export default connect(mapStateToProps)(Landing);","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from '../layout/Header';\nimport ifcbGallery from \"../../assets/ifcb-gallery.png\";\nimport ditylum from \"../../assets/ditylum-gradient.png\";\nimport chaetoceros from \"../../assets/chaetoceros-gradient.png\";\nimport lithodesmium from \"../../assets/lithodesmium-gradient.png\";\n\nexport class Landing extends Component {\n    // TODO: Make hero into img and add alt text\n    // media query smaller version when width is less than 950px\n\n    static propTypes = {\n        onHome: PropTypes.bool,\n        onClassify: PropTypes.bool,\n        onLearn: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n      };\n\n    render() {\n\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n        if(this.props.onHome) {\n            return <Redirect to=\"/\" />\n        }\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n        if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis/\" />\n        }\n\n        return (\n            <main>\n                <Header location={this.props.location} />\n                <div className='landing-hero-container'>\n                    <div className='landing-hero'>\n                        <h2 className='landing-title'>Dive Into Phytoplankton</h2>\n                        <p className='landing-subtitle'>Identify phytoplankton types photographed by a robot! Help us monitor the ever-changing marine environment.</p>\n                    </div>\n                </div>\n                <div className='landing-content'>\n                    <div className='main-panel'>\n                        <div className='hor-section'>\n                            <img className='hor-image' src={ditylum} alt='The community science webpage, which features a title reading \"Classify Phytoplankton,\" a gallery of blank and white microscope images of phytoplankton, and a menu of phytoplankton classification names.'></img>\n                            <div className='hor-text'>\n                                <h2 className='section-heading'>The Classification Project</h2>\n                                <p className='section-body'>A description of the project and why it’s important. Include details of the significance of manual classification data collection.</p>\n                            </div>\n                        </div>\n                        <div className='side-text'>\n                            <h2 className='side-heading'>You can make a difference for our oceans.</h2>\n                            <p className='side-body'>Community scientists have the potential to drive marine data collection.</p>\n                        </div>\n                        <div className='website-preview'></div>\n                        <div className='get-involved-section'>\n                        <img src={ifcbGallery} alt=\"Cursor clicking plankton images to identify them\" width=\"80\" loop=\"infinite\" className=\"ifcb-gallery\"></img>\n                            <div className='side-text'>\n                                <h2 className='side-heading get-involved-heading'>Get Involved</h2>\n                                <p className='side-body'>Make an account and start classifying! No experience necessary. Explore the beautiful world of phytoplankton while making real contributions to scientific discovery and ocean conservation.</p>\n                                <button className='landing-button'>Learn More</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='external-container'>\n                        <div className='vert-section'>\n                            <img src={chaetoceros} alt=\"A long, ribbon-like phytoplankton with lots of tendrils\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>What is an IFCB?</h2>\n                                <p className='vert-body'>An IFCB is a robotic microscope that collects water and takes pictures without a human.</p>\n                            </div>\n                            <button className='external-button'>Learn More</button>\n                        </div>\n                        <div className='vert-section righthand-container'>\n                            <img src={lithodesmium} alt=\"A translucent, pillow-like phytoplankton with a dark circular middle\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>The Kudela Lab</h2>\n                                <p className='vert-body'>We use satellites, robots, and good old fashioned chemistry to understand phytoplankton.</p>\n                            </div>\n                            <button className='external-button'>Learn More</button>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    onClassify: state.menu.onClassify,\n    onHome: state.menu.onHome,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\n export default connect(mapStateToProps)(Landing);","import axios from \"axios\";\nimport { tokenConfig } from './auth';\nimport { \n    PREFERENCES_LOADED,\n    PREFERENCES_ERROR,\n    SCALE_CHANGED,\n} from \"./types\";\n\n\nexport const loadPreferences = (username) => (dispatch) => {\n    axios\n        .get('/preferences/' + username + '/')\n        .then(prefRes => {\n            dispatch({\n                type: PREFERENCES_LOADED,\n                payload: prefRes.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: PREFERENCES_ERROR\n            });\n        });\n}\n\nexport const setLoadPreference = (loadPref, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/preferences/setload/' + username + '/', JSON.stringify(loadPref), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const setScalePreference = (scale, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/preferences/setscale/' + username + '/', JSON.stringify(scale), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const setSortPreference = (sortPref, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    var sort;\n    if (sortPref.AZ) {\n        sort = 'AZ';\n    } else if (sortPref.ZA) {\n        sort = 'ZA';\n    } else if (sortPref.LS) {\n        sort = 'LS';\n    } else if (sortPref.SL) {\n        sort = 'SL';\n    }\n\n    axios\n        .post('/preferences/setsort/' + username + '/', JSON.stringify(sort), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const setPhytoGuidePreference = (phytoGuidePref, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/preferences/setphytoguide/' + username + '/', JSON.stringify(phytoGuidePref), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const changeScale = (newScale) => (dispatch) => {\n    dispatch({\n        type: SCALE_CHANGED,\n        payload: newScale\n    });\n}","import React from \"react\";\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { changeScale, setLoadPreference, setScalePreference, setSortPreference, setPhytoGuidePreference } from \"../../actions/preferences\";\nimport '../../css/classify-styles.css';\n\nclass Preferences extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            recentChecked: true,\n            phytoGuideChecked: true,\n            sortChecked: {AZ: true, ZA: false, LS: false, SL: false},\n            scaleEntry: 560,\n        }\n        this.onSortChange = this.onSortChange.bind(this);\n        this.onScaleChange = this.onScaleChange.bind(this);\n        this.onLoadChange = this.onLoadChange.bind(this);\n        this.onPhytoGuideChange = this.onPhytoGuideChange.bind(this);\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        changeScale: PropTypes.func,\n        setLoadPreference: PropTypes.func,\n        setScalePreference: PropTypes.func,\n        setSortPreference: PropTypes.func,\n        setPhytoGuidePreference: PropTypes.func,\n    }\n\n    componentDidMount() {\n        switch (this.props.sort) {\n            case 'AZ':\n                this.setState({ \n                    sortChecked: {AZ: true, ZA: false, LS: false, SL: false},\n                });\n                break\n            case 'ZA':\n                this.setState({ \n                    sortChecked: {AZ: false, ZA: true, LS: false, SL: false},\n                });\n                break\n            case 'LS':\n                this.setState({ \n                    sortChecked: {AZ: false, ZA: false, LS: true, SL: false},\n                });\n                break\n            case 'SL':\n                this.setState({ \n                    sortChecked: {AZ: false, ZA: false, LS: false, SL: true},\n                });\n        }\n        this.setState({\n            recentChecked: this.props.load==='recent',\n            phytoGuideChecked: this.props.phytoGuide===true,\n            scaleEntry: this.props.scale,\n        });\n    }\n    \n    close() {\n        document.getElementById(\"overlay\").style.display = \"none\";\n        document.getElementById('preferences').classList.toggle('show-pref');\n        this.props.history.go(0);\n    }\n\n    onScaleChange(e) {\n        this.setState({ scaleEntry: e.target.value });\n        this.props.changeScale(e.target.value);\n        this.props.setScalePreference(e.target.value, this.props.user.username);\n    }\n\n    onSortChange(e) {\n        switch (e.target.value){\n            case 'AZ':\n                this.setState({ sortChecked: {AZ: true, ZA: false, LS: false, SL: false} });\n                this.props.setSortPreference({AZ: true, ZA: false, LS: false, SL: false}, this.props.user.username);\n                break\n            case 'ZA':\n                this.setState({ sortChecked: {AZ: false, ZA: true, LS: false, SL: false} });\n                this.props.setSortPreference({AZ: false, ZA: true, LS: false, SL: false}, this.props.user.username);\n                break\n            case 'LS':\n                this.setState({ sortChecked: {AZ: false, ZA: false, LS: true, SL: false} });\n                this.props.setSortPreference({AZ: false, ZA: false, LS: true, SL: false}, this.props.user.username);\n                break\n            case 'SL':\n                this.setState({ sortChecked: {AZ: false, ZA: false, LS: false, SL: true} });\n                this.props.setSortPreference({AZ: false, ZA: false, LS: false, SL: true}, this.props.user.username);\n        }\n    } \n    \n    onLoadChange(e) {\n        switch (e.target.value){\n            case 'recent':\n                this.setState({ recentChecked: true });\n                break\n            case 'edited':\n                this.setState({ recentChecked: false })\n        }\n        this.props.setLoadPreference(e.target.value, this.props.user.username);\n    }\n\n    onPhytoGuideChange(e) {\n        switch (e.target.value){\n            case 'True':\n                this.setState({ phytoGuideChecked: true });\n                break\n            case 'False':\n                this.setState({ phytoGuideChecked: false })\n        }\n        this.props.setPhytoGuidePreference(e.target.value, this.props.user.username);\n    }\n    \n    render() {\n\n        return(\n            <div className=\"preferences-window\" id=\"preferences\">\n                <div className=\"window-close\" onClick={() => this.close()}></div>\n                <h1 className=\"preferences-heading\">Preferences</h1>\n                <div className=\"preferences-container\">\n                    <div className=\"left-pref-col\">\n                        <div className=\"pref-category\">\n                            <p className=\"pref-subheading\">On Website Load</p>\n                            <div className=\"pref-form\">\n                                <div style={{'display':'flex'}}>\n                                    <input \n                                        type=\"radio\" \n                                        name=\"load\" \n                                        id=\"recent\" \n                                        className=\"pref-radio\" \n                                        value=\"recent\"\n                                        checked={this.state.recentChecked}\n                                        onChange={this.onLoadChange}\n                                    />\n                                    <label className=\"pref-radio-label\" for=\"recent\">Load most recent file</label>\n                                </div>\n                                <div style={{'display':'flex'}}>\n                                    <input \n                                        type=\"radio\" \n                                        name=\"load\" \n                                        id=\"edited\" \n                                        className=\"pref-radio\" \n                                        value=\"edited\"\n                                        checked={!this.state.recentChecked}\n                                        onChange={this.onLoadChange}\n                                    />\n                                    <label className=\"pref-radio-label\" for=\"edited\">Load last edited file</label>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"pref-category\" style={{'margin':'2vw 0 0 0'}}>\n                            <p className=\"pref-subheading\">Show PhytoGuide</p>\n                            <div className=\"pref-form\">\n                                <input \n                                    type=\"radio\" \n                                    name=\"phytoguide\" \n                                    id=\"showPhytoGuide\" \n                                    className=\"pref-radio\" \n                                    value=\"True\"\n                                    checked={this.state.phytoGuideChecked}\n                                    onChange={this.onPhytoGuideChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"recent\">Show guide</label>\n                                </div>\n                                <div style={{'display':'flex'}}>\n                                    <input \n                                        type=\"radio\" \n                                        name=\"phytoguide\" \n                                        id=\"showPhytoGuide\" \n                                        className=\"pref-radio\" \n                                        value=\"False\"\n                                        checked={!this.state.phytoGuideChecked}\n                                        onChange={this.onPhytoGuideChange}\n                                    />\n                                    <label className=\"pref-radio-label\" for=\"edited\">Do not show guide</label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"right-pref-col\">\n                        <div className=\"pref-category\">\n                            <p className=\"pref-subheading\">Sort Targets</p>\n                            <div className=\"pref-form\">\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"AZ\" \n                                    className=\"pref-radio\" \n                                    value=\"AZ\"\n                                    checked={this.state.sortChecked.AZ}\n                                    onChange={this.onSortChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"recent\">By class, from A to Z</label><br></br>\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"ZA\" \n                                    className=\"pref-radio\" \n                                    value=\"ZA\"\n                                    checked={this.state.sortChecked.ZA}\n                                    onChange={this.onSortChange} \n                                />\n                                <label className=\"pref-radio-label\" for=\"edited\">By class, from Z to A</label><br></br>\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"LS\" \n                                    className=\"pref-radio\" \n                                    value=\"LS\"\n                                    checked={this.state.sortChecked.LS}\n                                    onChange={this.onSortChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"edited\">By size, from largest to smallest</label><br></br>\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"SL\" \n                                    className=\"pref-radio\" \n                                    value=\"SL\"\n                                    checked={this.state.sortChecked.SL}\n                                    onChange={this.onSortChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"edited\">By size, from smallest to largest</label><br></br>\n                            </div>\n                        </div>\n                        <div className=\"pref-category\" style={{'margin':'2vw 0 0 0'}}>\n                            <p className=\"pref-subheading\">Image Scale</p>\n                            <div className=\"pref-form\">\n                                <input \n                                    type=\"number\" \n                                    name=\"scale\" \n                                    id=\"scale\" \n                                    value={this.state.scaleEntry}\n                                    className=\"target-jump-container scale\"\n                                    step='0.01'\n                                    onChange={this.onScaleChange}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n});\n\nexport default connect(mapStateToProps, {changeScale, setLoadPreference, setScalePreference, setSortPreference, setPhytoGuidePreference})(Preferences)","import axios from \"axios\";\nimport { tokenConfig } from './auth';\nimport { \n    SAVE_PROGRESS,\n    SAVE_SUCCESS,\n    SYNC_PROGRESS,\n    SYNC_SUCCESS,\n    NOTES_CHANGED,\n    NOTES_RECORDED,\n    REPLY_OPEN,\n    REPLY_RESOLVED,\n    NOTEBOOK_FILTERED,\n    TARGETS_BASIC_SEARCHED,\n    BINS_BASIC_SEARCHED\n} from \"./types\";\n\n\nexport const sendNotesChange = () => (dispatch, getState) => {\n    dispatch({\n        type: NOTES_CHANGED\n    });\n}\n\nexport const receiveNotesChange = () => (dispatch, getState) => {\n    dispatch({\n        type: NOTES_RECORDED\n    });\n}\n\nexport const sendReplyOpen = () => (dispatch, getState) => {\n    dispatch({\n        type: REPLY_OPEN\n    });\n}\n\nexport const receiveReplyOpen = () => (dispatch, getState) => {\n    dispatch({\n        type: REPLY_RESOLVED\n    });\n}\n\nexport const addBinNote = (author, entry, parent, replies, timeseries, ifcb, file, image) => (dispatch, getState) => {\n    const note = JSON.stringify({ author, entry, parent, replies, timeseries, ifcb, file, image});\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/add/note/', note, config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const deleteBinNote = (id) => (dispatch, getState) => {\n    axios\n        .delete('/delete/note/' + id + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const flagBinNote = (id) => (dispatch, getState) => {\n    axios\n        .put('/flag/note/' + id + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const filterNotebook = (appliedFilters, search) => (dispatch, getState) => {\n    const filters = JSON.stringify(appliedFilters, search)\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/notebook/applyfilters/', filters, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: NOTEBOOK_FILTERED,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const searchTargets = (search) => (dispatch, getState) => {\n    const searchTerms = JSON.stringify(search)\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/searchtargets/', searchTerms, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: TARGETS_BASIC_SEARCHED,\n                payload: (typeof res.data.length !== \"undefined\") ? (res.data) : (res.data)\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const getBins = (bins) => (dispatch, getState) => {\n    const binIDs = JSON.stringify(bins);\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/bins/', binIDs, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: BINS_BASIC_SEARCHED,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const classifyTarget = (target, timeseries, file, number) => (dispatch, getState) => {\n    axios\n        .put('/edit/target/' + timeseries + '/' + file + \n            '/' + number + '/', target, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyPublicTarget = (target, timeseries, file, number, user) => (dispatch, getState) => {\n    axios\n        .put('/edit/target/' + timeseries + '/' + file + \n            '/' + number + '/' + user + '/', target, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyRow = (targets, timeseries, file, sort, startInd, endInd) => (dispatch, getState) => {\n    axios\n        .put('/edit/targetrow/' + timeseries + '/' + file + \n            '/' + sort + '/' + startInd + '/' + endInd + '/', \n            targets, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyAll = (timeseries, file, set, sort, className, classAbbr) => (dispatch, getState) => {\n    axios\n        .put('/edit/all/' + timeseries + '/' + file + \n            '/' + set + '/' + sort + '/' + className + \n            '/' + classAbbr + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const save = (targets, timeseries, file, sort) => (dispatch, getState) => {\n    dispatch({\n        type: SAVE_PROGRESS,\n    });\n    axios\n        .put('/save/' + timeseries + '/' + file + \n            '/' + sort + '/', targets, \n            tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: SAVE_SUCCESS,\n            });\n        })\n        .catch((err) => console.log(err));\n    return \n}\n\nexport const sync = (timeseries, year, day, file) => (dispatch, getState) => {\n    dispatch({\n        type: SYNC_PROGRESS,\n    });\n    axios\n        .get('sync/' + timeseries + '/' + year + '/' + day + '/' + file + '/')\n        .then(res => {\n            dispatch({\n                type: SYNC_SUCCESS,\n            });\n        })\n        .catch((err) => console.log(err));\n    return \n}","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { PropTypes } from \"prop-types\";\n\nimport { addBinNote, deleteBinNote, flagBinNote, sendNotesChange, sendReplyOpen } from \"../../actions/classify\";\n\nclass Note extends React.Component {\n    state = {\n        entry: '',\n    }\n\n    static propTypes = {\n        addBinNote: PropTypes.func,\n        deleteBinNote: PropTypes.func,\n        sendNotesChange: PropTypes.func,\n        sendReplyOpenChange: PropTypes.func,\n        notes: PropTypes.array,\n    };\n    \n    reply(id) {\n        document.getElementById('reply-form' + id).classList.toggle('show');\n        this.props.sendReplyOpen();\n    }\n\n    delete(id) {\n        this.props.deleteBinNote(id);\n        this.props.sendNotesChange();\n    }\n\n    flag(id) {\n        this.props.flagBinNote(id);\n        this.props.sendNotesChange();\n    }\n\n    getFlagButton(isFlagged) {\n        if (isFlagged) {\n            return 'Unflag'\n        } else {\n            return 'Flag'\n        }\n    }\n\n    onChange = e => this.setState({ entry: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.addBinNote(this.props.user, this.state.entry, this.props.note.id, [], this.props.timeseries, this.props.ifcb, this.props.file, this.props.image);\n        this.props.sendNotesChange();\n        const replyForm = document.getElementById(\"note-form\");\n        replyForm.reset()\n        document.getElementById('reply-form' + this.props.note.id).classList.toggle('show');\n    }\n    \n    render() {\n        const { id, author, date, entry, parent, replies, timeseries, file, image, flag } = this.props.note;\n        return (\n            <div className={this.props.type + \"-note\"} id={id}>\n                <div className={this.props.type + \"-note-header\"}>\n                    <p className=\"note-author\">{author}</p>\n                    <p className=\"note-date\">{date.slice(0,10)}</p>\n                    {(flag) ? <div className=\"flag-small\"></div> : <div></div>}\n                </div>\n                <p className={this.props.type + \"-note-entry\"}>{entry}</p>\n                {(this.props.type === 'bin') ? \n                    <button className=\"reply-button\" onClick={() => this.reply(id)}>Reply</button> :\n                    <div></div>}\n                {(author === this.props.user) ? \n                    <button className=\"reply-button\" onClick={() => this.delete(id)}>Delete</button> :\n                    <div></div>}\n                {(author === this.props.user) ? \n                    <button className=\"reply-button\" onClick={() => this.flag(id)}>{this.getFlagButton(flag)}</button> :\n                    <div></div>}\n                <div className=\"reply-form\" id={\"reply-form\" + id}>\n                        <form onSubmit={this.onSubmit} id=\"note-form\">\n                            <div className=\"new-note\">\n                            <input\n                                type=\"textarea\"\n                                rows=\"10\"\n                                className=\"note-input\"\n                                name=\"note-entry\"\n                                id=\"note-entry\"\n                                onChange={this.onChange}\n                                value={this.entry}\n                            />\n                            <button type=\"submit\" className={this.props.type + \"-note-submit\"}></button>\n                            </div>\n                        </form>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    notes: state.classify.notes,\n });\n\nexport default connect(mapStateToProps, {addBinNote, deleteBinNote, flagBinNote, sendNotesChange, sendReplyOpen})(Note);","import React from \"react\";\nimport axios from \"axios\";\nimport { connect } from 'react-redux';\nimport { PropTypes } from \"prop-types\";\n\nimport { addBinNote, sendNotesChange, receiveNotesChange, receiveReplyOpen } from \"../../actions/classify\";\nimport Note from \"../features/Note\";\n\nexport class BinNote extends React.Component {\n    state = {\n        entry: '',\n        parents: [],\n        notes: [],\n    }\n    \n    static propTypes = {\n        addBinNote: PropTypes.func,\n        receiveNotesChange: PropTypes.func,\n        noteChangeFlag: PropTypes.bool,\n        receiveReplyOpen: PropTypes.func,\n        replyChangeFlag: PropTypes.bool,\n        user: PropTypes.object,\n    };\n\n    getNotes() {\n        axios\n            .get('/process/note/' + this.props.timeseries + '/' + this.props.file + '/' + this.props.image + '/')\n            .then((res) => {\n                this.setState({ notes: res.data });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    renderNote(note, count) {\n        if (note.parent !== null) {\n            var reply = note;\n            var iters = 0;\n            while (reply.parent !== null) {\n                var parentFunc = (element) => element.id === reply.parent;\n                var reply = this.state.notes[this.state.notes.findIndex(parentFunc)];\n                iters = iters + 1;\n            }\n            if (count!==iters) {\n                return;\n            }\n        }\n        return(\n            <div>\n                <Note\n                    note={note}\n                    user={this.props.user.username}\n                    timeseries={this.props.timeseries}\n                    ifcb={this.props.ifcb}\n                    file={this.props.file}\n                    type={this.props.type}\n                    image={this.props.image}\n                />\n                <div className=\"reply\" style={{margin: \"0 0 0 \" + String((count+1)) + \"vw\"}}>\n                {(note.replies.length !== 0) ?\n                    note.replies.map((reply) => this.renderNote(reply, count+1)) :\n                    <div></div>\n                }\n                </div>\n            </div>\n        \n        );\n    }\n\n    componentDidMount() {\n        this.getNotes();\n    }\n\n    componentDidUpdate() {\n        if(this.props.noteChangeFlag) {\n            this.props.receiveNotesChange();\n            this.getNotes();\n        }\n        if(this.props.replyChangeFlag) {\n            this.props.receiveReplyOpen();\n            this.getNotes();\n        }\n    }\n\n    onChange = e => this.setState({ entry: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.addBinNote(this.props.user.username, this.state.entry, null, [], this.props.timeseries, this.props.ifcb, this.props.file, this.props.image);\n        this.props.sendNotesChange();\n        this.getNotes();\n        const noteForm = document.getElementById(\"note-form\");\n        noteForm.reset()\n    }\n    \n    render() {\n        return(\n            <div className={this.props.type + \"-notes-content\"}>\n                {(this.props.type === 'bin') ? <div className=\"refresh\" onClick={() => this.getNotes()}></div> : <div></div>}\n                <div id=\"note-container\">\n                    {this.state.notes.map((note) => this.renderNote(note, 0))}\n                </div>\n                    <div className={this.props.type + \"-note-form\"}>\n                        <form onSubmit={this.onSubmit} id=\"note-form\">\n                            <div className={this.props.type + \"-new-note\"}>\n                            <input\n                                type=\"textarea\"\n                                rows=\"10\"\n                                className={this.props.type + \"-note-input\"}\n                                name={this.props.type + \"-note-entry\"}\n                                id=\"note-entry\"\n                                onChange={this.onChange}\n                                value={this.entry}\n                            />\n                            <button type=\"submit\" className={this.props.type + \"-note-submit\"}></button>\n                            </div>\n                            {(this.state.notes === []) ? <p className=\"bin-note-label\">Add a Note</p> : <div></div>}\n                        </form>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    noteChangeFlag: state.classify.noteChangeFlag,\n    replyChangeFlag: state.classify.replyChangeFlag,\n    user: state.auth.user\n });\n\nexport default connect(mapStateToProps, {addBinNote, sendNotesChange, receiveNotesChange, receiveReplyOpen})(BinNote);","import React from \"react\";\nimport BinNote from './BinNote';\n\nimport '../../css/classify-styles.css';\n\nclass PlanktonImage extends React.Component {\n\n    render() {\n    const url = this.props.nameSpace + this.props.timestamp + '_' + this.props.ifcb + '_' + this.props.targetNum + '.jpg';\n        return(\n            <img src={url} className=\"image\" \n            alt={this.props.classification} \n            id={this.props.targetNum + '-image'}\n            style={{height: String(Number(this.props.height)*this.props.scale)+'vw'}}></img>\n        );\n    }\n  }\n\nclass Plankton extends React.Component {\n  \n    renderImage() {  \n      return (\n          <PlanktonImage \n              nameSpace={'http://akashiwo.oceandatacenter.ucsc.edu:8000/data/'}\n              timestamp={this.props.timestamp}\n              timeseries={this.props.timeseries}\n              ifcb={this.props.ifcb}\n              targetNum={this.props.targetNum}\n              classification={this.props.class_name}\n              height={this.props.height}\n              scale={this.props.scale}\n          />\n        );\n    }\n  \n    getHeight() {\n      if (this.props.height < 0) {\n        return '5'\n      } else {\n          return String((Number(this.props.height) * this.props.scale) + 2.25)\n      }\n    }\n  \n    getWidth() {\n      if (this.props.width < 0) {\n        return '5'\n      } else {\n          return String(Number(this.props.width)*this.props.scale)\n      }\n    }\n  \n    handleInfoClick() {\n      this.props.infoChange(this.props.targetNum, false, true);\n      document.getElementById(this.props.targetNum + '-info').classList.toggle('show-info');\n      document.getElementById(this.props.targetNum + '-image').classList.toggle('hide');\n      document.getElementById(this.props.targetNum).classList.toggle('hide');\n    }\n  \n    render() {\n      const infoStyle = {\n          height: this.getHeight() + 'vw',\n          width: this.getWidth() + 'vw'\n      };\n      \n      return(\n            <div>\n              <div className=\"plankton-button\" id=\"plankton-button\" onClick={() => this.props.onClick(this.props.targetNum)}>\n                  <div className=\"plankton\">\n                      {this.renderImage()}\n                      <div className={this.props.public ? \"hide\" : \"info\"} onMouseEnter={() => this.props.infoChange(this.props.targetNum, false, false)} \n                          onMouseLeave={() => this.props.infoChange(this.props.targetNum, true, false)}\n                          onClick={() => this.handleInfoClick()}></div>\n                      <div className=\"info-div\" id={this.props.targetNum + '-info'} style={infoStyle}>\n                          <p className=\"classification-info\">{this.props.class_name}</p>\n                          <p className=\"target-num-info\">{'Target ' + this.props.targetNum}</p>\n                          <p className=\"editor-info\">{'Classified by ' + this.props.editor + ',\\n' + this.props.date}</p>\n                          {(this.props.infoShowing.includes(this.props.targetNum)) ? \n                          <BinNote\n                              timeseries={this.props.timeseries}\n                              ifcb={this.props.ifcb}\n                              file={this.props.file}\n                              type='target'\n                              image={this.props.targetNum}\n                          /> :\n                          <div></div>\n                          }\n                      </div>\n                      <div className='id' id={this.props.targetNum}>\n                          <p className='id-text' id={this.props.targetNum + '-text'}>{this.props.class_abbr}</p>\n                      </div>\n                  </div>\n              </div>\n            </div>\n        );\n    }\n  }\n\nexport default (Plankton);","import React from \"react\";\nimport '../../css/classify-styles.css';\nimport correctIcon from \"../../icons/green-check.png\";\nimport incorrectIcon from \"../../icons/red-x.png\";\n\n\nclass Micrometer extends React.Component {\n    render() {\n        return(\n            <div className=\"drag-box\">\n                <div className=\"micrometer-block\"\n                style={{width: (String(34*this.props.scale) + 'vw')}}></div>\n                <p className=\"micrometer-text\">10µm</p>\n            </div>\n        );\n    }\n}\n\nclass ClassMenu extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            indexSelected: 0,\n            indexHovered: 0,\n        }\n    }\n    \n    handleMenuClick(x, i) {\n        this.setState({ \n            indexSelected: i,\n            indexHovered: i,\n         });\n        this.props.onClick(x);\n    }\n\n    handleMouseOver(i) {\n        this.setState({ indexHovered: i });\n    }\n\n    handleMouseOut() {\n        this.setState({ indexHovered: this.state.indexSelected });\n    }\n  \n    render() {\n      const options = this.props.classes.map((x, i) => \n      <li key={x}><button id={x} \n            onClick={() => this.handleMenuClick(x, i)} \n            onMouseEnter={() => this.handleMouseOver(i)} \n            onMouseLeave={() => this.handleMouseOut(i)}>{x}</button></li>);\n\n\n      return(\n      <div className=\"sidebar\">\n      <div style={{'display':'flex'}}>\n            <div className={this.props.showPhytoGuide ? \"class-menu with-guide\" : \"class-menu\"}>\n                <div className=\"control-box\">\n                    <div className=\"annotation-control\" onClick={() =>  this.props.handleSelectAllClick()}>\n                        <p className=\"control-text\">Select All</p>\n                    </div>\n                    <div className=\"annotation-control\" onClick={() =>  this.props.handleUndoClick()}>\n                        <p className=\"control-text\">Undo</p>\n                    </div>\n                </div>\n                <ul className=\"class-menu-options\">{options}</ul>\n            </div>\n            {this.props.showPhytoGuide ? \n                    <div className=\"phyto-guide\">\n                        <p className=\"phyto-guide-heading\">{this.props.classes[this.state.indexHovered]}</p>\n                        <p className=\"phyto-guide-description\">{this.props.descriptions[this.state.indexHovered]}</p>\n                        <div className=\"yes-examples\">\n                            { (this.props.examples.length > 0) ?\n                                this.props.examples[this.state.indexHovered].map((image) => (\n                                    <div>\n                                        <img src={correctIcon} className='phyto-guide-icon'></img>\n                                        <img src={image} className=\"image\" \n                                            alt={this.props.classes[this.state.indexHovered] + ' example'}\n                                            className=\"phyto-guide-image\"\n                                            >\n                                        </img>\n                                    </div>\n                                )) : <div></div>\n                            }\n                        </div>\n                        <div className=\"no-examples\">\n                            { (this.props.nonexamples.length) > 0 ? ((this.props.nonexamples[this.state.indexHovered].length) ? <p className=\"phyto-guide-nonexample-heading\">Don't confuse with:</p> : <div></div>) : <div></div> }\n                            { (this.props.nonexamples.length) > 0 ? \n                                this.props.nonexamples[this.state.indexHovered].map((image) => (\n                                    <div>\n                                        <img src={incorrectIcon} className='phyto-guide-icon'></img>\n                                        <img src={image} className=\"image\" \n                                            alt={this.props.classes[this.state.indexHovered] + ' non-example'}\n                                            className=\"phyto-guide-image\"\n                                            >\n                                        </img>\n                                    </div>\n                                )) : <div></div>\n                            }\n                        </div>\n                    </div> : <div></div>}\n      </div>\n      <Micrometer scale={this.props.scale}/>\n      </div>\n      );\n  }\n}\n\nexport default ClassMenu","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAFQAAAAA5bZMmAAACKUlEQVQ4EZVV0VEbQQzV7sEP4Bk64PzpeMyQCkIqgFQQdxCoIEcFdgcMFUAHwR1kbA5/2u4gGUx+8N1Gb+O70e7pnGFnYLVP0tNqJZ3NYrE4fl2v7w3ROTm3pCT50u/3f9I7V57nZ64sR+BxRI/G2mvw2D/r9YMnB6ExqSuKHwj6Tn6isqx5PF9R3IPD8t8nSWaMOX59eRlL7H9yPptlbHMS2PFlcVEEmAQKPnCQr/P5PI1x7QwS59w3Rbfqdru/LEfIFCUVm82thscYP3GGrGOc65kB4+ci4hQfeQueCjgH/9wbDKBTF7IsN5uFolz1B4MUOJ6I7N7eEHu8SqJRjMlz+fam1opJh5WdD9Dr9Zb8jncVKPazfDqtjQVO89nsnIt1IbGtPJFZ+wBQHHY6V/xuvxWH7wpGnF2m4WTtlcTrAKg436iZMrfbtg1rv+fp9JIPjZrhFeIhrQPA++DoaKxlgTaUw+e0i7B/sr+fgUeuIIDPgihIEcZoQ7Qj5OenJ+hPIEfrBrWMsH9tGoP8JDBsklj7EZ+SRt9z7Q46nXR7wYAuyKDSMDisZLmr5GzAH7ZMI4evHzRJUsltw1fpxV4PlcBqUc3Aa6N2qz0iwTjXqJk0aQ2AdmsZPuk/+XB6+iCBWG4NAEPfdvrweR52zryw49/OAL7tWnoe2clPQluMnQHg5IePaBUQcFbaUAU220NrF0ljTDF+5bj/U7750iTJOP4kSHsp/wWEFsqR3igYKgAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass TimeSeriesControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('timeseries_dropdown').classList.toggle('show');\n        document.getElementById('timeseries_label').classList.toggle('hide');\n        document.getElementById('timeseries_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return (\n            <div>\n                <div className=\"time time-series\" id='timeseries_bar'>\n                    <p className=\"time-selection\">{this.props.timeseries}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select time series'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown time-series\" id='timeseries_dropdown'>\n                    <ul className=\"timeseries-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='timeseries_label'>Time Series</p>\n            </div>\n        );\n    }\n}\n\nexport default (TimeSeriesControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass YearControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('year_dropdown').classList.toggle('show');\n        document.getElementById('year_label').classList.toggle('hide');\n        document.getElementById('year_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='year_bar'>\n                    <p className=\"time-selection\">{this.props.year}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Year'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='year_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='year_label'>Year</p>\n            </div>\n        );\n    }\n}\n\nexport default (YearControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass DayControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('day_dropdown').classList.toggle('show');\n        document.getElementById('day_label').classList.toggle('hide');\n        document.getElementById('day_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='day_bar'>\n                    <p className=\"time-selection\" id=\"day_text\">{this.props.day}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Day'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='day_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='day_label'>Day</p>\n            </div>\n        );\n    }\n}\n\nexport default (DayControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\n\nclass Bar extends React.Component {\n    handleHover(num) {\n        this.props.onHover(num);\n    }\n    render() {\n        return(\n            <div className=\"bar-container\">\n                <div className=\"day\" id={'day' + this.props.number}>{this.props.day}</div>\n                <div className=\"bar\" id={'bar' + this.props.number} \n                    onClick={() => this.props.onClick(this.props.number)}\n                    onMouseEnter={() => this.handleHover(this.props.number)}\n                    onMouseLeave={() => this.handleHover(this.props.current)}\n                    style={{height: String(this.props.height*0.008) + 'vw'}}></div>\n            </div>\n        );}\n  }\n\n  export default (Bar);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass FileControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('file_dropdown').classList.toggle('show');\n        document.getElementById('file_label').classList.toggle('hide');\n        document.getElementById('file_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        var fileName = this.props.file;\n        const file = fileName.slice(9,12) + ':' + fileName.slice(12,14) + ':' + fileName.slice(14,16) + 'Z';\n        return(\n            <div>\n                <div className=\"time\" id='file_bar'>\n                    <p className=\"time-selection\">{file}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select File'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='file_dropdown'>\n                    <ul className=\"file-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='file_label'>File</p>\n            </div>\n        );\n    }\n}\n\nexport default (FileControl);","export default __webpack_public_path__ + \"static/media/loader.a069fadb.GIF\";","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport axios from \"axios\";\nimport Header from '../layout/Header';\nimport Preferences from './Preferences';\nimport BinNote from './BinNote';\nimport Plankton from './Plankton';\nimport ClassMenu from './ClassMenu';\nimport TimeSeriesControl from './time/TimeSeriesControl';\nimport YearControl from './time/YearControl';\nimport DayControl from './time/DayControl';\nimport Bar from './time/Bar';\nimport FileControl from './time/FileControl';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport { List, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { classifyTarget, classifyRow, classifyAll, save, sync } from \"../../actions/classify\";\nimport { changeScale } from \"../../actions/preferences\";\n\nimport '../../css/classify-styles.css';\nimport loader from \"./loader.GIF\";\nimport toTop from \"../../icons/to-top.png\";\n\nclass NavButton extends React.Component {\n    render() {\n        return(\n            <div className={this.props.className} onClick={() => this.props.onClick()}>\n                <p>{this.props.text}</p>\n            </div>\n        )\n    }\n}\n\nclass Annotations extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          newFile: '',\n          newTimeSeries: '',\n          classes: [],\n          classAbbrs: [],\n          classDescriptions: [],\n          classExamples: [],\n          classNonexamples: [],\n          classPicker: 'Unclassified',\n          classMark: 'UNC',\n          planktonClickEnabled: true,\n          infoShowing: [],\n          bin: {timeseries:'', ifcb:'', year:'', day:'', file:''},\n          timeSeriesOptions: [],\n          yearOptions: [],\n          dayOptions: [],\n          barHeights: [],\n          fileOptions: [],\n          setOptions: [],\n          filledDays: [],\n          targets: [],\n          targetNumbers: [],\n          history: [],\n          rows: [],\n          scrollToIndex: undefined,\n          jumpEntry: '',\n          jumpSubmit: '',\n          initialTargetJump: '',\n          lastEditBin: '',\n          lastEditTarget: '',\n          scale: 0.056,\n          lastScroll: 0,\n          dayOption: '',\n          previous: 'Previous',\n          next: 'Next',\n      }\n      this.onTargetJumpChange = this.onTargetJumpChange.bind(this);\n      this.onTargetJumpSubmit = this.onTargetJumpSubmit.bind(this);\n  }\n\n  static propTypes = {\n    preferences: PropTypes.object,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    changeScale: PropTypes.func,\n    classifyTarget: PropTypes.func.isRequired,\n    classifyRow: PropTypes.func.isRequired,\n    classifyAll: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    isSaving: PropTypes.bool,\n    sync: PropTypes.func.isRequired,\n    isSyncing: PropTypes.bool,\n    user: PropTypes.object,\n    scaleEntry: PropTypes.number,\n    onNotebook: PropTypes.bool,\n    onAnalysis: PropTypes.bool,\n  };\n\n  closeDropdown(element) {\n    if (document.getElementById(element + '_dropdown').classList.contains('show')) {\n        document.getElementById(element + '_dropdown').classList.toggle('show');\n        document.getElementById(element + '_label').classList.toggle('hide');\n        document.getElementById(element + '_bar').classList.toggle('accommodate-dropdown');\n    }\n  }\n\n  getNewTimeSeries(option) {\n    this.closeDropdown('timeseries');\n    this.setState({ loading: true });\n    axios\n        .get('/process/timeseries/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: option,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n  \n\n  componentDidMount() {\n    this.setState({ loading: false });\n    const urlInfo = this.props.location.pathname.split('/');\n    if(urlInfo.length<3) {\n        if(this.props.preferences.load==='edited') {\n            this.jumpToLastEdit();\n        } else {\n            this.getNewTimeSeries('SCW');\n        }\n    } else {\n        const timeseries = urlInfo[2];\n        const file = urlInfo[3];\n\n        axios\n            .get('/api/timeseries/')\n            .then((res) => {this.setState({ timeSeriesOptions: res.data.map((c) => (c.name)) })})\n            .catch((err) => console.log(err));\n\n            this.setState({\n                loading: true,\n            });\n            axios\n                .get('/classes/SCW/')\n                .then((res) => {\n                    this.setState({ \n                        classes: res.data.map((c) => (c.display_name.replace('_', ' '))),\n                        classAbbrs: res.data.map((c) => (c.abbr)),\n                        classDescriptions: res.data.map((c) => (c.description)),\n                        classExamples: res.data.map((c) => (c.examples.split(',').filter(n => n.length > 1))),\n                        classNonexamples: res.data.map((c) => (c.nonexamples.split(',').filter(n => n.length))),\n                    });\n                })\n                .catch((err) => console.log(err));\n\n        axios\n            .get('/process/file/' + timeseries + '/' + file + '/' + this.props.preferences.sort + \n                '/' + Math.round(this.props.preferences.scale * 1000) + '/' + this.props.preferences.phytoguide + '/')\n            .then((res) => {\n                this.setState({ \n                    bin: res.data.bin, \n                    yearOptions: res.data.options.year_options.reverse(),\n                    barHeights: res.data.options.day_options[0],\n                    dayOptions: res.data.options.day_options[1],\n                    fileOptions: res.data.options.file_options,\n                    setOptions: res.data.options.set_options,\n                    rows: res.data.options.rows,\n                    filledDays: res.data.options.filled_days,\n                    dayOption: res.data.bin.day,\n                })\n                axios\n                    .get('/process/targets/' + timeseries + '/' + file + '/' + this.props.preferences.sort + '/')\n                    .then((targetResponse) => {\n                        this.setState({ \n                            targets: targetResponse.data,\n                            targetNumbers: targetResponse.data.map(t => t.number),\n                            history: [JSON.stringify(targetResponse.data)],\n                            loading: false,\n                        });\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n                return;\n            });\n        }\n    \n    if (this.props.scaleEntry !== this.props.preferences.scale) {\n        this.props.changeScale(this.props.preferences.scale);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.match.url !== prevProps.match.url) {\n        this.props.history.go(0);\n    }\n\n    if(this.state.scrollToIndex !== prevState.scrollToIndex) {\n        const target = this.state.jumpSubmit;\n        if (this.state.targetNumbers.includes(this.state.jumpSubmit)) {\n            setTimeout(() => {\n                try { \n                    this.highlightTarget(target);\n                } catch {\n                    console.log();\n                }\n            }, 1);\n            setTimeout(() => {\n                try {\n                    this.unhighlightTarget(target);\n                } catch {\n                    console.log();\n                }\n            }, 5000);\n            }\n    }\n\n  }\n\n  highlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  unhighlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#FFFFFF';\n    text.style.color = '#4E4E4E';\n  }\n\n  getNewYear(option) {\n    this.closeDropdown('year');\n    this.setState({ loading: true });\n    axios\n        .get('/process/year/' + this.state.bin.timeseries + '/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleBarHover(option) {\n      this.setState({ dayOption: this.state.dayOptions[option] });\n  }\n\n  handleBar(option) {\n    const histogram = document.getElementById('histogram_dropdown').classList;\n    if (histogram.contains('show-day')) {\n        histogram.toggle('show-day');\n    }\n\n    this.closeDropdown('day');\n    this.setState({ loading: true });\n    axios\n        .get('/process/day/' + this.state.bin.timeseries + '/' + this.state.bin.year + '/'  + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleNewDay(option) {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    const newDay = (element) => element === option;\n    const dayNumber = this.state.dayOptions.findIndex(newDay);\n    this.handleBar(dayNumber);\n  }\n\n  handleNewFile(option) {\n\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    this.closeDropdown('file');\n    \n    const file = 'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n    option.slice(0,3) + option.slice(4,6) + option.slice(7,9);\n    \n    this.setState({ \n        newTimeSeries: this.state.bin.timeseries,\n        newFile: file\n    })\n  }\n\n  handleMouseOver(element) {\n    element.style.backgroundColor = '#16609F';\n  }\n\n  handleMouseOut(element) {\n    element.style.backgroundColor = '#079CCC';\n  }\n\n  handleMenuClick(name) {\n      const prevMenu = document.getElementById(this.state.classPicker);\n      prevMenu.style.backgroundColor = '#079CCC';\n      prevMenu.addEventListener('mouseover', this.handleMouseOver(prevMenu));\n      prevMenu.addEventListener('mouseout', this.handleMouseOut(prevMenu));\n\n      const ids = document.getElementsByClassName('id');\n      const idTexts = document.getElementsByClassName('id-text');\n      for (let i=0; i<ids.length; i++) {\n          if (ids[i].style.backgroundColor !== '#FFFFFF') {\n            ids[i].style.backgroundColor = '#FFFFFF';\n            idTexts[i].style.color = '#4E4E4E';\n        }\n      }\n\n      const nameAbbr = (element) => element === name;\n      this.setState({ \n          classPicker: name,\n          classMark: this.state.classAbbrs[this.state.classes.findIndex(nameAbbr)],\n        });\n      const menu = document.getElementById(name);\n      menu.removeEventListener('mouseout', this.handleMouseOut(menu));\n      menu.style.backgroundColor = '#16609F';\n      \n      for (const target of this.state.targets) {\n          if (target.class_name === name) {\n              const container = document.getElementById(target.number);\n              const text = document.getElementById(target.number+'-text');\n              container.style.backgroundColor = '#16609F';\n              text.style.color = '#FFFFFF';\n          }\n      }\n  }\n\n  backToTop() {\n    if(document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {\n        if(document.body.scrollTop !== 0) {\n            this.setState({ lastScroll: document.body.scrollTop });\n        } else {\n            this.setState({ lastScroll: document.documentElement.scrollTop });\n        }\n        document.body.scrollTop = 0; // For Safari\n        document.documentElement.scrollTop = 0;\n    } else {\n        document.body.scrollTop = this.state.lastScroll;\n        document.documentElement.scrollTop = this.state.lastScroll;\n    }\n  }\n\n  flipBackToTop() {\n    if (document.getElementById('to-top') !== null) {\n        if(document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {\n            document.getElementById('to-top').classList.remove('flip');\n        } else if (!document.getElementById('to-top').classList.contains('flip')) {\n            document.getElementById('to-top').classList.add('flip');\n        }\n    }\n  }\n\n  handleSelectAllClick() {\n      var targets = this.state.targets;\n      const className = this.state.classPicker;\n      const classAbbrFunc = (element) => element === this.state.classPicker;\n      const classAbbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbrFunc)];\n      for (let i = 0; i < targets.length; i++) {\n          targets[i].class_name = className;\n          targets[i].class_abbr = classAbbr;\n          targets[i].editor = this.props.user.username;\n          const container = document.getElementById(targets[i].number);\n          const text = document.getElementById(targets[i].number+'-text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({ \n          targets: targets,\n          history: this.state.history.concat([JSON.stringify(targets)])\n     });\n     this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort);\n  }\n\n  handleUndoClick() {\n    if (this.state.history.length > 1) {\n      const newHistory = this.state.history.slice(0, this.state.history.length-1);\n      const targets = JSON.parse(newHistory[newHistory.length-1]);\n      const rows = this.state.rows;\n      this.setState({ rows: [] });\n      this.setState({\n          targets: targets,\n          history: newHistory,\n      });\n      this.setState({ rows: rows });\n      this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort);\n    }\n  }\n\n  handleSyncClick() {\n    document.getElementById('sync').classList.toggle('syncing');\n    this.setState({ rows: [] });\n    this.props.sync(this.state.bin.timeseries, this.state.bin.year, this.state.bin.day, this.state.bin.file);\n    axios\n        .get('/process/targets/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.props.preferences.sort + '/')\n        .then((targetResponse) => {\n            this.setState({ \n                targets: targetResponse.data,\n                history: this.state.history.concat([JSON.stringify(targetResponse.data)]),\n             });\n        });\n    axios\n        .get('process/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + \n            '/' + this.props.preferences.sort + '/' + Math.round(this.state.scale * 1000) + '/' +\n            this.props.preferences.phytoguide + '/')\n        .then((res) => {this.setState({ \n            rows: res.data.options.rows,\n            loading: false,\n          })})\n        .catch((err) => console.log(err));\n    document.getElementById('sync').classList.toggle('syncing');\n  }\n\n  handleHistogramClick() {\n    const histogram = document.getElementById('histogram');\n    const histogram_dropdown = document.getElementById('histogram_dropdown');\n    histogram_dropdown.classList.toggle('show-day');\n    histogram.scrollTop = histogram.scrollHeight;\n  }\n\n  handleRowClick(j) {\n    var targets = this.state.targets;\n    const row = this.state.rows[j];\n    for (var i in row) {\n        var k = row[i]\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n    }\n    this.setState({ \n        targets: targets,\n        history: this.state.history.concat([JSON.stringify(targets)])\n    });\n    const start = row[0]\n    const end = row[i];\n    const targetRow = targets.slice(start, end+1);\n\n    this.props.classifyRow(targetRow, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort, start, end);\n  }\n\n  disablePlanktonClick(targetNum, bool, infoShowing) {\n    const infoClassList = document.getElementById(targetNum + '-info').classList;\n    if ((infoShowing) || (infoClassList.contains('show-info'))) {\n        if (!this.state.infoShowing.includes(targetNum)) {\n            this.setState({ infoShowing: this.state.infoShowing.concat([targetNum]) });\n        }\n        this.setState({ planktonClickEnabled: false });\n    } else {\n        const newInfoShowing = this.state.infoShowing.filter(function(item) {\n            return item !== targetNum\n        })\n        this.setState({ planktonClickEnabled: bool, infoShowing: newInfoShowing });\n    }\n  }\n\n  handlePlanktonClick(i) {\n    if (this.state.planktonClickEnabled) {\n        var targets = this.state.targets;\n        const k = targets.findIndex(target => target.number === i);\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const history = this.state.history;\n        this.setState({\n            history: history.concat([JSON.stringify(targets)]),\n            targets: targets,\n        });\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n\n        this.props.classifyTarget(targets[k], this.state.bin.timeseries, this.state.bin.file, targets[k].number);\n    }\n  }\n\n  showNotes() {\n      const noteDropdown = document.getElementById(\"note-dropdown\");\n      noteDropdown.classList.toggle('show');\n      const showButton = document.getElementById(\"show-notes-button\");\n      (showButton.innerHTML === \"Show Notes\") ? showButton.innerHTML = \"Hide Notes\" : showButton.innerHTML = \"Show Notes\";\n\n  }\n\n  hideInfo() {\n    const showButton = document.getElementById(\"hide-info-button\");\n    (showButton.innerHTML === \"Hide Info\") ? showButton.innerHTML = \"Show Info\" : showButton.innerHTML = \"Hide Info\";\n    const infoButtons = document.getElementsByClassName('info');\n      for (let i = 0; i < infoButtons.length; i++) {\n          infoButtons[i].classList.toggle('hide');\n      }\n  }\n\n  handleScale(dir) {\n    const initialScale = this.state.scale\n    var  newScale = 0;\n    if (dir === 'up') {\n        newScale = initialScale + 0.01;\n    } else if  (dir === 'down') {\n        newScale = initialScale - 0.01;\n    }\n    axios\n      .get('process/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + \n        '/' + this.props.preferences.sort + '/' + Math.round((newScale) * 1000) + '/' +\n        this.props.preferences.phytoguide + '/')\n      .then((rowResponse) => { this.setState({ \n          scale: newScale,\n          rows: rowResponse.data.options.rows \n        }); });\n  }\n\n  handleDownload() {\n    document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/mat/' + this.state.bin.ifcb + '/' + this.state.bin.file + '/'\n  }\n\n  openPreferences() {\n    document.getElementById(\"overlay\").style.display = \"block\";\n    document.getElementById('preferences').classList.toggle('show-pref');\n  }\n\n  closePreferences() {\n    document.getElementById(\"overlay\").style.display = \"none\";\n    document.getElementById('preferences').classList.toggle('show-pref');\n    this.props.history.go(0);\n  }\n\n  renderPreferences() {\n      return (\n        <Preferences \n            history={this.props.history}\n            load={this.props.preferences.load}\n            scale={this.props.preferences.scale}\n            sort={this.props.preferences.sort}\n            phytoGuide={this.props.preferences.phytoguide}\n        />\n      );\n  }\n\n  renderTimeSeriesControl() {\n    return <TimeSeriesControl\n        timeseries={this.state.bin.timeseries}\n        options={this.state.timeSeriesOptions}\n        onClick={(option) => this.getNewTimeSeries(option)}\n    />;\n  }\n\n  renderYearControl() {\n    return <YearControl\n        year={this.state.bin.year}\n        options={this.state.yearOptions}\n        onClick={(option) => this.getNewYear(option)} \n    />;\n  }\n\n  renderDayControl() {\n    const options = this.state.filledDays.slice().reverse();\n    return <DayControl\n        day={this.state.bin.day} \n        options={options}\n        onClick={(option) => this.handleNewDay(option)}\n    />;\n  }\n\n  renderFileControl() {\n    return <FileControl\n        file={this.state.bin.file} \n        options={this.state.fileOptions}\n        onClick={(option) => this.handleNewFile(option)} \n    />;\n  }\n\n  renderSync() {\n    return(\n        <div className=\"round-button sync\" id=\"sync-button\" onClick={() => this.handleSyncClick()}></div>\n    );\n  }\n\n  renderDownload() {\n      return(\n        <div className=\"round-button download\" onClick={() => this.handleDownload()}>\n            <div style={{display: 'none'}}>\n               <iframe id=\"download-src\" />\n            </div>\n        </div>\n      );\n  }\n\n  renderClassMenu() {\n    return <ClassMenu \n          classes={this.state.classes}\n          descriptions={this.state.classDescriptions}\n          examples={this.state.classExamples}\n          nonexamples={this.state.classNonexamples}\n          onClick={(name) => this.handleMenuClick(name)}\n          handleSelectAllClick={() => this.handleSelectAllClick()}\n          handleUndoClick={() => this.handleUndoClick()}\n          scale={this.state.scale}\n          showPhytoGuide={this.props.preferences.phytoguide}\n      />;\n  }\n\n  renderBar(gb, i) {\n    const currentDay = (element) => element === this.state.bin.day;\n    return <Bar \n        key={i}\n        onClick={(i) => this.handleBar(i)}\n        onHover={(i) => this.handleBarHover(i)}\n        number={i}\n        height={gb}\n        day={this.state.dayOptions[i]}\n        current={this.state.dayOptions.findIndex(currentDay)}\n    />;\n  }\n\n  renderNavButton(direction) {\n    var dir;\n    var text;\n    var className;\n    (direction === 'next') ? (dir = 1) : (dir = -1);\n    (direction === 'next') ? (className = 'next-button') : (className='previous-button');\n\n    const currentFile = (element) => \n        'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n        element.slice(0,3) + element.slice(4,6) + element.slice(7,9) === this.state.bin.file;\n    const fileNumber = this.state.fileOptions.findIndex(currentFile);\n    if ((fileNumber === this.state.fileOptions.length-1 && dir === 1) || (fileNumber === 0 && dir === -1)) {\n        const currentDay = (element) => element === this.state.bin.day;\n        const dayNumber = this.state.filledDays.findIndex(currentDay);\n        if ((dayNumber === this.state.filledDays.length-1 && dir === 1) || (dayNumber === 0 && dir === -1)) {\n            const currentYear = (element) => element === Number(this.state.bin.year);\n            const yearOptions = this.state.yearOptions.slice().reverse()\n            const yearNumber = yearOptions.findIndex(currentYear);\n            if ((yearNumber === yearOptions.length-1 && dir === 1)) {\n                return <NavButton\n                    text={'Up to Date'}\n                    className={'up-to-date-button'}\n                />;\n            } else if (yearNumber === 0 && dir === -1) {\n                return <NavButton\n                    text={'No Previous Data'}\n                    className={'up-to-date-button'}\n                />;\n            } else {\n                text = (direction === 'next') ? ('Next Year   >') : ('<   Previous Year');\n                return <NavButton\n                    text={text}\n                    onClick={() => this.getNewYear(yearOptions[yearNumber + dir])}\n                    className={className}\n                />\n            }\n        } else {\n            text = (direction === 'next') ? ('Next Day   >') : ('<   Previous Day');\n            return <NavButton\n                text={text}\n                onClick={() => this.handleNewDay(this.state.filledDays[dayNumber + dir])}\n                className={className}\n            />\n        }\n    } else {\n        text = (direction === 'next') ? ('Next File   >') : ('<   Previous File');\n        return <NavButton\n            text={text}\n            onClick={() => this.handleNewFile(this.state.fileOptions[fileNumber + dir])}\n            className={className}\n        />\n    }\n\n    \n  }\n\n  renderLoader() {\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\" style={{'margin':'0 0 3vw 0'}}></img>\n  }\n\n  returnToClassify() {\n    this.setState({ newFile: 'blank' });\n  }\n\n  jumpToLastEdit() {\n    axios\n        .get('/lastedit/' + this.props.user.username + '/')\n        .then((res) => this.setState({ lastEditBin: res.data.bin, lastEditTarget: res.data.options }))\n        .catch((err) => console.log(err));\n  }\n\n  renderNotFound() {\n      return(\n        <div className='main'>\n            <div className=\"page\">\n                <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>File Not Found</h1>\n                        <p className=\"not-found-message\">The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL.</p>\n                        <div className=\"return-button\" onClick={() => this.returnToClassify()}>Return to Classify</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n  }\n\n  onTargetJumpChange(event) {\n    this.setState({\n        jumpEntry: event.target.value,\n    });\n  }\n\n  onTargetJumpSubmit(e) {\n    e.preventDefault();\n\n    var k = this.state.targets.findIndex(target => target.number === this.state.jumpEntry);\n    var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n    \n    if (isNaN(scrollToIndex) || scrollToIndex<0) {\n      scrollToIndex = undefined;\n    }\n    \n    this.setState({\n        jumpSubmit: this.state.jumpEntry,\n        scrollToIndex: scrollToIndex\n    });\n  }\n\n  renderPage() {\n    const cache = new CellMeasurerCache({\n        defaultHeight: 10,\n        minHeight: 10,\n        fixedWidth: true\n      });\n\n    const jumpEntry = this.state.jumpEntry;\n    const scrollToIndex = this.state.scrollToIndex;\n\n\n    const rowRenderer = ({index, key, parent, style}) => (\n        \n        (this.state.targets.length < 1) ? <div/> : \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={index}\n            >\n            {({ measure, registerChild }) => (\n            <div ref={registerChild} key={key} style={style}>\n                <div onLoad={measure} className=\"row\">\n                    <div className=\"row-select\" \n                        alt={'Select row'} onClick={() => this.handleRowClick(index)}>\n                    </div>\n                    <div className=\"image-row\">\n                        {this.state.rows[index].map((i) => \n                            <Plankton \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                timestamp={this.state.bin.file}\n                                id={i}\n                                targetNum={this.state.targets[i].number}\n                                class_name={this.state.targets[i].class_name}\n                                class_abbr={this.state.targets[i].class_abbr}\n                                height={this.state.targets[i].height}\n                                width={this.state.targets[i].width}\n                                scale={this.props.scaleEntry / 10}\n                                ifcb={this.state.bin.ifcb}\n                                editor={this.state.targets[i].editor}\n                                date={this.state.targets[i].date}\n                                onClick={(i) => this.handlePlanktonClick(i)}\n                                infoChange={(targetNum, bool, infoShowing) => this.disablePlanktonClick(targetNum, bool, infoShowing)}\n                                infoShowing={this.state.infoShowing}\n                                public={false}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n            )}\n            </CellMeasurer>\n        )\n      return(\n        \n        <div className='main'>\n            <div className=\"page\">\n            <div className=\"content\">\n                <div className=\"overlay\" id=\"overlay\" onClick={() => this.closePreferences()}></div>\n                {this.renderPreferences()}\n                    <div className=\"inner-content\">\n                        <h4 onClick={() => this.jumpToLastEdit()}>Last Edit →</h4>\n                        <h1>Manual Classifications</h1>\n                        <div className=\"time-controls\">\n                            {this.renderTimeSeriesControl()}\n                            {this.renderYearControl()}\n                            {this.renderDayControl()}\n                            {this.renderFileControl()}\n                            <div className=\"target-jump-container\">\n                                <form onSubmit={this.onTargetJumpSubmit}>\n                                    <input\n                                        type=\"textarea\" \n                                        className=\"target-jump-input\"\n                                        onChange={this.onTargetJumpChange}\n                                        value={jumpEntry || ''}\n                                        placeholder=\"Target...\"\n                                    />\n                                </form>\n                                <p className=\"time-label jump-label\" id='targetjump_label'>Jump to Target</p>\n                            </div>\n                            <div className=\"show-notes-button\" id=\"show-notes-button\" onClick={() => this.showNotes()}>Show Notes</div>\n                            <div className=\"hide-info-button\" id=\"hide-info-button\" onClick={() => this.hideInfo()}>Hide Info</div>\n                            {this.renderSync()}\n                            {this.renderDownload()}\n                            <div className=\"round-button histogram\" onClick={() => this.handleHistogramClick()}></div>\n                            <div className=\"preferences-button\" onClick={() => this.openPreferences()}></div>\n                        </div>\n                        <div className='histogram-dropdown-container' id='histogram_dropdown'>\n                            <div className=\"histogram-dropdown\" id='histogram'>\n                                <div className=\"timeline\">\n                                    <div className=\"bars\">\n                                        {this.state.barHeights.map((gb, i) => this.renderBar(gb, i))}\n                                    </div>\n                                    <div className=\"axis\">\n                                        <p className=\"month\">Jan</p>\n                                        <p className=\"month\">Feb</p>\n                                        <p className=\"month\">Mar</p>\n                                        <p className=\"month\">Apr</p>\n                                        <p className=\"month\">May</p>\n                                        <p className=\"month\">Jun</p>\n                                        <p className=\"month\">Jul</p>\n                                        <p className=\"month\">Aug</p>\n                                        <p className=\"month\">Sep</p>\n                                        <p className=\"month\">Oct</p>\n                                        <p className=\"month\">Nov</p>\n                                        <p className=\"month\">Dec</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='day-option'>\n                                <p className='day-option-text'>{this.state.dayOption}</p>\n                            </div>\n                        </div>\n                        <div className=\"note-container\" id=\"note-dropdown\">\n                            {((this.state.bin.timeseries) === '' || this.state.bin.file === '') ? \n                            <div></div> :\n                            <BinNote \n                                timeseries={this.state.bin.timeseries}\n                                ifcb={this.state.bin.ifcb}\n                                file={this.state.bin.file}\n                                type='bin'\n                                image='None'\n                            /> }\n                        </div>\n                        <div className=\"annotations\">\n                            {this.renderClassMenu()}\n                            <div className=\"image-grid\" id=\"image-grid\">\n                                {\n                                (this.state.loading || this.props.isSaving) ? this.renderLoader() : console.log()\n                                }\n                                <List\n                                    height={800} // fix later\n                                    rowCount={this.state.rows.length}\n                                    rowHeight={cache.rowHeight}\n                                    rowRenderer={rowRenderer}\n                                    scrollToAlignment=\"start\"\n                                    scrollToIndex={scrollToIndex}\n                                    width={document.documentElement.clientWidth*0.72}\n                                />\n                                <img src={toTop} alt=\"Back to Top\" className=\"to-top\" id=\"to-top\" onClick={() => this.backToTop()}></img>\n                            </div>\n                        </div>\n                        <div className='navigation-container'>\n                            <div style={{'display':'flex'}}>\n                                {this.renderNavButton('previous')}\n                                {this.renderNavButton('next')}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n      );\n  }\n\n  render() {\n    \n    if(this.props.onHome) {\n        return <Redirect to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect to=\"/learn\" />\n    }\n    \n    if(this.props.onNotebook) {\n        return <Redirect to=\"/notebook/\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect to=\"/analysis/\" />\n    }\n\n    if(this.state.newFile.length !== 0) {\n        if (this.state.newFile === 'blank') {\n            return <Redirect to='/classify' />\n        }\n        const newURL = '/classify/' + this.state.newTimeSeries + '/' + this.state.newFile;\n        return <Redirect to={newURL} />\n    }\n\n    if (this.state.rows !== [] && this.state.initialTargetJump === '' && !this.state.loading) {\n        const urlInfo = this.props.location.pathname.split('/');\n        if (urlInfo.length > 4) {\n            const targetNum = urlInfo[4];\n            var k = this.state.targets.findIndex(target => target.number === targetNum);\n            var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n\n            if (isNaN(scrollToIndex) || scrollToIndex<0) {\n                scrollToIndex = undefined;\n            }\n\n            this.setState({\n                jumpEntry: targetNum,\n                jumpSubmit: targetNum,\n                initialTargetJump: targetNum,\n                scrollToIndex: scrollToIndex\n            });\n        }\n    }\n\n    if (typeof(this.state.lastEditBin) !== 'string') {\n        this.setState({ loading: true });\n        const bin = this.state.lastEditBin;\n        return <Redirect to={\"/classify/\" + bin.timeseries + '/' + bin.file + '/' + this.state.lastEditTarget.target} />\n    }\n\n    return(\n        <div className='body'>\n        <title>{'IFCB | ' + this.state.bin.file}</title>\n        <Header />\n        {(this.state.bin.file === 'Not Found') ? this.renderNotFound() : this.renderPage()}\n        \n        <script>{document.addEventListener(\"scroll\", this.flipBackToTop)}</script>\n    </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => ({\n    preferences: state.auth.preferences,\n    isSaving: state.classify.isSaving,\n    user: state.auth.user,\n    scaleEntry: state.classify.scaleEntry,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps, { classifyTarget, classifyRow, classifyAll, save, sync, changeScale })(Annotations);","export default __webpack_public_path__ + \"static/media/akashiwo-character.18a198bc.png\";","import React from \"react\";\nimport akashiwo from \"../../assets/akashiwo-character.png\";\nimport \"../../css/classify-styles.css\";\n\nclass Tutorial extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            toc: [\n                {id: 0, title: \"Welcome!\", text: \"Let's get started classifying phytoplankton.\", buttons: null},\n                {id: 1, title: \"Select a sample\", text: \"Each IFCB collects samples throughout the day full of phytoplankton images it captured. Load a sample by using the menu on the left to select a day and an IFCB location.\", buttons: null},\n                {id: 2, title: \"The AutoClassifier\", text: \"Each sample is run through an auto-clasification algorithm. Take a look at the first image. It has a code under it, like 'AKA' or 'UNCL.' This stands for the species name that the Auto Classifier assigned it. UNCL stands for 'unclassified' and it means that the classifier couldn't place it.\", buttons: null},\n                {id: 3, title: \"Does your image match?\", text: \"Your job is to check whether the classifier is right and classify the plankton it couldn't. Click on the classification name in the menu on the left that matches the code on the first image. Does the classification match your image?\", buttons: [{text: 'Yes', track: 0}, {text: 'No', track: 1}, {text: 'Unsure', track: 2}]},\n                {id: 4, title: \"Fantastic!\", text: \"You don't need to do anything with this image because it is already correct.\", buttons: null},\n                {id: 5, title: \"Good catch!\", text: \"Use your mouse to hover over the different names in the menu until you find one that looks like your image. There are a lot of options– you may find that you need to scroll.\", buttons: null},\n                {id: 6, title: \"Good call!\", text: \"It's always a good idea to be cautious if you're unsure. Use your mouse to hover over the different names in the menu and see if any match better. If you're still not sure, just skip this image– someone else may be able to get it.\", buttons: null},\n                {id: 7, title: \"What if it didn't match?\", text: \"If the autoclassification ever doesn't match the real classification, it's time to look for the right one. Use your mouse to hover over the different names in the menu until you find one that looks like your image.\", buttons: null},\n                {id: 8, title: \"What if it did match?\", text: \"If the autoclassification ever matches the real classification, your work is done. Just move on to the next image without changing anything because it's already correct.\", buttons: null},\n                {id: 9, title: \"How about if you're unsure?\", text: \"If you're ever not sure what classification to give an image after checking the different categories, skip it. It's better to leave it autoclassified or unclassified than guessing.\", buttons: null},\n                {id: 10, title: \"What if it didn't match?\", text: \"If the autoclassification ever doesn't match the real classification, it's time to look for the right one. Use your mouse to hover over the different names in the menu until you find one that looks like your image.\", buttons: null},\n                {id: 11, title: 'Congrats!', text: \"You're ready to classify. Dive in!\", buttons: null},\n            ],\n            tracks: [\n                [0, 1, 2, 3, 4, 7, 9, 11],\n                [0, 1, 2, 3, 5, 8, 9, 11],\n                [0, 1, 2, 3, 6, 8, 10, 11],\n            ],\n            slide: 0,\n            track: 0,\n        }\n    }\n\n    back() {\n        const i = this.state.tracks[this.state.track].findIndex(slide => slide === this.state.slide);\n        const slide = this.state.tracks[this.state.track][i-1];\n        this.setState({ slide: slide });\n    }\n\n    next() {\n        const i = this.state.tracks[this.state.track].findIndex(slide => slide === this.state.slide);\n        const slide = this.state.tracks[this.state.track][i+1];\n        this.setState({ slide: slide });\n    }\n\n    handleButton(track) {\n        const prevTrack = this.state.track;\n        this.setState({ track: track });\n        const i = this.state.tracks[prevTrack].findIndex(slide => slide === this.state.slide);\n        const slide = this.state.tracks[track][i+1];\n        this.setState({ slide: slide });\n    }\n\n    render() {\n\n        const slide = this.state.toc[this.state.slide];\n\n        return (\n            <div className=\"public-time-controls\">\n                <img src={akashiwo} alt=\"Drawing of a celebratory phytoplankton\" className=\"akashiwo-character\"></img>\n                <div id={\"tutorial-1\"} className=\"visible-tutorial-text\">\n                    <p className=\"tutorial-title\">{slide.title}</p>\n                    <p className=\"tutorial-body\">{slide.text}</p>\n                    {slide.buttons ? <div className='tutorial-button-container'>{slide.buttons.map((button) => <div key={button.track} className='tutorial-button' onClick={() => this.handleButton(button.track)}>{button.text}</div>)}</div> : <div/>}\n                    <div className='tutorial-nav-container'>\n                        {this.state.slide > 0 ? <p className=\"tutorial-back\" onClick={() => this.back()}>{'< Back'}</p> : <div/>}\n                        {this.state.slide < this.state.toc.length - 1 && !slide.buttons ? <p className=\"tutorial-next\" onClick={() => this.next()}>{'Next >'}</p> : <div/>}\n                    </div>\n                </div>\n            </div>\n        );\n\n\n    }\n}\n\nexport default (Tutorial);","import React from \"react\";\nimport axios from \"axios\";\nimport Header from '../layout/Header';\nimport Plankton from './Plankton';\nimport Tutorial from './Tutorial';\nimport ClassMenu from './ClassMenu';\nimport DatePicker from \"react-datepicker\";\nimport '../../css/datepicker.css';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport { List, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { classifyPublicTarget, classifyRow, classifyAll, save, sync } from \"../../actions/classify\";\nimport { changeScale } from \"../../actions/preferences\";\n\nimport '../../css/classify-styles.css';\nimport loader from \"./loader.GIF\";\nimport toTop from \"../../icons/to-top.png\";\n\nclass NavButton extends React.Component {\n    render() {\n        return(\n            <div className={this.props.className} onClick={() => this.props.onClick()}>\n                <p>{this.props.text}</p>\n            </div>\n        )\n    }\n}\n\nclass PublicClassify extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          newFile: '',\n          newTimeSeries: '',\n          classes: [],\n          classAbbrs: [],\n          classDescriptions: [],\n          classExamples: [],\n          classNonexamples: [],\n          classPicker: 'Unclassified',\n          classMark: 'UNC',\n          planktonClickEnabled: true,\n          infoShowing: [],\n          bin: {timeseries:'', ifcb:'', year:'', day:'', file:''},\n          timeSeriesOptions: [],\n          timeSeriesNames: [],\n          yearOptions: [],\n          dayOptions: [],\n          dateOptions: [],\n          fileOptions: [],\n          setOptions: [],\n          filledDays: [],\n          targets: [],\n          targetNumbers: [],\n          history: [],\n          rows: [],\n          scrollToIndex: undefined,\n          jumpEntry: '',\n          jumpSubmit: '',\n          initialTargetJump: '',\n          lastEditBin: '',\n          lastEditTarget: '',\n          scale: 0.056,\n          lastScroll: 0,\n          dayOption: '',\n          previous: 'Previous',\n          next: 'Next',\n      }\n  }\n\n  static propTypes = {\n    preferences: PropTypes.object,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    changeScale: PropTypes.func,\n    classifyTarget: PropTypes.func.isRequired,\n    classifyRow: PropTypes.func.isRequired,\n    classifyAll: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    isSaving: PropTypes.bool,\n    sync: PropTypes.func.isRequired,\n    isSyncing: PropTypes.bool,\n    user: PropTypes.object,\n    scaleEntry: PropTypes.number,\n    onNotebook: PropTypes.bool,\n    onAnalysis: PropTypes.bool,\n  };\n\n  getNewTimeSeries(option, timeseries) {\n    this.setState({ loading: true });\n\n    if (timeseries === undefined) {\n        var k = this.state.timeSeriesOptions.findIndex(timeseries => timeseries === option);\n        timeseries = this.state.timeSeriesNames[k];\n    }\n\n    axios\n        .get('/process/public/timeseries/' + timeseries + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n  \n\n  componentDidMount() {\n    const urlInfo = this.props.location.pathname.split('/')\n\n    axios\n        .get('/api/timeseries/')\n        .then((res) => {\n            this.setState({ \n                timeSeriesOptions: res.data.map((c) => (c.public_name)),\n                timeSeriesNames: res.data.map((c) => (c.name)),\n                });\n            if(urlInfo.length<3) {\n                this.getNewTimeSeries('Santa Cuz Wharf', 'SCW');\n            }\n            })\n        .catch((err) => console.log(err));\n\n    const timeseries = urlInfo[2];\n    const file = urlInfo[3];\n    this.setState({ loading: true });\n\n    axios\n        .get('/classes/SCW/')\n        .then((res) => {\n            this.setState({ \n                classes: res.data.map((c) => (c.display_name.replace('_', ' '))),\n                classAbbrs: res.data.map((c) => (c.abbr)),\n                classDescriptions: res.data.map((c) => (c.description)),\n                classExamples: res.data.map((c) => (c.examples.split(',').filter(n => n.length > 1))),\n                classNonexamples: res.data.map((c) => (c.nonexamples.split(',').filter(n => n.length))),\n            });\n        })\n        .catch((err) => console.log(err));\n    axios\n        .get('/process/public/file/' + timeseries + '/' + file + '/' + this.props.user.username + '/')\n        .then((res) => {\n            this.setState({ \n                bin: res.data.bin, \n                yearOptions: res.data.options.year_options.reverse(),\n                dayOptions: res.data.options.day_options[1],\n                dateOptions: res.data.options.filled_days.map((date) => (new Date(date))),\n                fileOptions: res.data.options.file_options,\n                setOptions: res.data.options.set_options,\n                rows: res.data.options.rows,\n                filledDays: res.data.options.filled_days,\n                dayOption: res.data.bin.day,\n            })\n            axios\n                .get('/process/public/targets/' + timeseries + '/' + file + '/' + this.props.user.username + '/')\n                .then((targetResponse) => {\n                    this.setState({ \n                        targets: targetResponse.data,\n                        targetNumbers: targetResponse.data.map(t => t.number),\n                        history: [JSON.stringify(targetResponse.data)],\n                        loading: false,\n                    });\n            });\n        })\n        .catch((err) => {\n            console.log(err);\n            this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n            return;\n        });\n\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.url !== prevProps.match.url) {\n        this.props.history.go(0);\n    }\n  }\n\n  highlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  unhighlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#FFFFFF';\n    text.style.color = '#4E4E4E';\n  }\n\n  getNewYear(option) {\n    this.setState({ loading: true });\n    axios\n        .get('/process/year/' + this.state.bin.timeseries + '/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleBarHover(option) {\n      this.setState({ dayOption: this.state.dayOptions[option] });\n  }\n\n  handleBar(option) {\n    const histogram = document.getElementById('histogram_dropdown').classList;\n    if (histogram.contains('show-day')) {\n        histogram.toggle('show-day');\n    }\n\n    this.setState({ loading: true });\n    axios\n        .get('/process/day/' + this.state.bin.timeseries + '/' + this.state.bin.year + '/'  + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  onDateChange(day) {\n    axios\n        .get('/process/public/day/' + this.state.bin.timeseries + '/' + String(day).split(' ').slice(1,4).join('') + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleNewFile(option) {\n\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    \n    const file = 'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n    option.slice(0,3) + option.slice(4,6) + option.slice(7,9);\n    \n    this.setState({ \n        newTimeSeries: this.state.bin.timeseries,\n        newFile: file\n    })\n  }\n\n  handleMouseOver(element) {\n    element.style.backgroundColor = '#16609F';\n  }\n\n  handleMouseOut(element) {\n    element.style.backgroundColor = '#079CCC';\n  }\n\n  handleMenuClick(name) {\n      const prevMenu = document.getElementById(this.state.classPicker);\n      prevMenu.style.backgroundColor = '#079CCC';\n      prevMenu.addEventListener('mouseover', this.handleMouseOver(prevMenu));\n      prevMenu.addEventListener('mouseout', this.handleMouseOut(prevMenu));\n\n      const ids = document.getElementsByClassName('id');\n      const idTexts = document.getElementsByClassName('id-text');\n      for (let i=0; i<ids.length; i++) {\n          if (ids[i].style.backgroundColor !== '#FFFFFF') {\n            ids[i].style.backgroundColor = '#FFFFFF';\n            idTexts[i].style.color = '#4E4E4E';\n        }\n      }\n\n      const nameAbbr = (element) => element === name;\n      this.setState({ \n          classPicker: name,\n          classMark: this.state.classAbbrs[this.state.classes.findIndex(nameAbbr)],\n        });\n      const menu = document.getElementById(name);\n      menu.removeEventListener('mouseout', this.handleMouseOut(menu));\n      menu.style.backgroundColor = '#16609F';\n      \n      for (const target of this.state.targets) {\n          if (target.class_name === name) {\n              const container = document.getElementById(target.number);\n              const text = document.getElementById(target.number+'-text');\n              container.style.backgroundColor = '#16609F';\n              text.style.color = '#FFFFFF';\n          }\n      }\n  }\n\n  handleUndoClick() {\n    if (this.state.history.length > 1) {\n      const newHistory = this.state.history.slice(0, this.state.history.length-1);\n      const targets = JSON.parse(newHistory[newHistory.length-1]);\n      const rows = this.state.rows;\n      this.setState({ rows: [] });\n      this.setState({\n          targets: targets,\n          history: newHistory,\n      });\n      this.setState({ rows: rows });\n      this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort);\n    }\n  }\n\n  handleHistogramClick() {\n    const histogram = document.getElementById('histogram');\n    const histogram_dropdown = document.getElementById('histogram_dropdown');\n    histogram_dropdown.classList.toggle('show-day');\n    histogram.scrollTop = histogram.scrollHeight;\n  }\n\n  handlePlanktonClick(i) {\n    if (this.state.planktonClickEnabled) {\n        var targets = this.state.targets;\n        const k = targets.findIndex(target => target.number === i);\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const history = this.state.history;\n        this.setState({\n            history: history.concat([JSON.stringify(targets)]),\n            targets: targets,\n        });\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n\n        this.props.classifyPublicTarget(targets[k], this.state.bin.timeseries, this.state.bin.file, targets[k].number, this.props.user);\n    }\n  }\n\n  renderClassMenu() {\n    return <ClassMenu \n          classes={this.state.classes}\n          descriptions={this.state.classDescriptions}\n          examples={this.state.classExamples}\n          nonexamples={this.state.classNonexamples}\n          onClick={(name) => this.handleMenuClick(name)}\n          handleSelectAllClick={() => this.handleSelectAllClick()}\n          handleUndoClick={() => this.handleUndoClick()}\n          scale={this.state.scale}\n          showPhytoGuide={this.props.preferences.phytoguide}\n      />;\n  }\n\n  renderNavButton(direction) {\n    var dir;\n    var text;\n    var className;\n    (direction === 'next') ? (dir = 1) : (dir = -1);\n    (direction === 'next') ? (className = 'next-button') : (className='previous-button');\n\n    const currentFile = (element) => \n        'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n        element.slice(0,3) + element.slice(4,6) + element.slice(7,9) === this.state.bin.file;\n    const fileNumber = this.state.fileOptions.findIndex(currentFile);\n    if ((fileNumber === this.state.fileOptions.length-1 && dir === 1) || (fileNumber === 0 && dir === -1)) {\n        const currentDay = (element) => element === this.state.bin.day;\n        const dayNumber = this.state.filledDays.findIndex(currentDay);\n        if ((dayNumber === this.state.filledDays.length-1 && dir === 1) || (dayNumber === 0 && dir === -1)) {\n            const currentYear = (element) => element === Number(this.state.bin.year);\n            const yearOptions = this.state.yearOptions.slice().reverse()\n            const yearNumber = yearOptions.findIndex(currentYear);\n            if ((yearNumber === yearOptions.length-1 && dir === 1)) {\n                return <NavButton\n                    text={'Up to Date'}\n                    className={'up-to-date-button'}\n                />;\n            } else if (yearNumber === 0 && dir === -1) {\n                return <NavButton\n                    text={'No Previous Data'}\n                    className={'up-to-date-button'}\n                />;\n            } else {\n                text = (direction === 'next') ? ('Next Year   >') : ('<   Previous Year');\n                return <NavButton\n                    text={text}\n                    onClick={() => this.getNewYear(yearOptions[yearNumber + dir])}\n                    className={className}\n                />\n            }\n        } else {\n            text = (direction === 'next') ? ('Next Day   >') : ('<   Previous Day');\n            return <NavButton\n                text={text}\n                onClick={() => this.handleNewDay(this.state.filledDays[dayNumber + dir])}\n                className={className}\n            />\n        }\n    } else {\n        text = (direction === 'next') ? ('Next File   >') : ('<   Previous File');\n        return <NavButton\n            text={text}\n            onClick={() => this.handleNewFile(this.state.fileOptions[fileNumber + dir])}\n            className={className}\n        />\n    }\n    \n  }\n\n  renderLoader() {\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\" style={{'margin':'0 0 3vw 0'}}></img>\n  }\n\n  returnToClassify() {\n    this.setState({ newFile: 'blank' });\n  }\n\n  renderNotFound() {\n      return(\n        <div className='main'>\n            <div className=\"page\">\n                <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>File Not Found</h1>\n                        <p className=\"not-found-message\">The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL.</p>\n                        <div className=\"return-button\" onClick={() => this.returnToClassify()}>Return to Classify</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n  }\n\n  renderPage() {\n    const cache = new CellMeasurerCache({\n        defaultHeight: 10,\n        minHeight: 10,\n        fixedWidth: true\n      });\n\n    const scrollToIndex = this.state.scrollToIndex;\n\n    const selectedDate = (this.state.bin.day === '') ? new Date() : new Date(this.state.bin.day + '-' + this.state.bin.year);\n\n    const rowRenderer = ({index, key, parent, style}) => (\n        \n        (this.state.targets.length < 1) ? <div/> : \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={index}\n            >\n            {({ measure, registerChild }) => (\n            <div ref={registerChild} key={key} style={style}>\n                <div onLoad={measure} className=\"row\">\n                    <div className=\"image-row\">\n                        {this.state.rows[index].map((i) => \n                            <Plankton \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                timestamp={this.state.bin.file}\n                                id={i}\n                                targetNum={this.state.targets[i].number}\n                                class_name={this.state.targets[i].class_name}\n                                class_abbr={this.state.targets[i].class_abbr}\n                                height={this.state.targets[i].height}\n                                width={this.state.targets[i].width}\n                                scale={this.props.scaleEntry / 10}\n                                ifcb={this.state.bin.ifcb}\n                                editor={'jamiewalton'}\n                                date={this.state.targets[i].date}\n                                onClick={(i) => this.handlePlanktonClick(i)}\n                                infoChange={(targetNum, bool, infoShowing) => this.disablePlanktonClick(targetNum, bool, infoShowing)}\n                                infoShowing={this.state.infoShowing}\n                                public={true}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n            )}\n            </CellMeasurer>\n        )\n      return(\n        \n        <div className='main'>\n            <div className=\"page\">\n            <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>Classify Phytoplankton</h1>\n                        <p className='subtitle'>Match each phytoplankton with their species! Select a sample by choosing a date and an IFCB location.</p>\n                        <div style={{'display':'flex'}}>\n                            <div style={{'display':'flex'}}>\n                                <div className=\"public-time-controls\">\n                                    <DatePicker \n                                        onChange={(day) => this.onDateChange(day)}\n                                        value={selectedDate}\n                                        selected={selectedDate}\n                                        includeDates={this.state.dateOptions}\n                                        placeholderText={this.state.bin.day + '-' + this.state.bin.year}\n                                        className='datepicker'\n                                        inline\n                                    />\n                                    <div className=\"timeseries-box\">\n                                        {this.state.timeSeriesOptions.filter(n => n!=='').map((option, i) => \n                                            <li key={i} className=\"tutorial-button\" onClick={option => this.getNewTimeSeries(option)}>{option}</li>)}\n                                    </div>\n                                </div>\n                            </div>\n                            <Tutorial/>\n                        </div>\n                        <div className=\"annotations\">\n                            {this.renderClassMenu()}\n                            <div className=\"image-grid\" id=\"image-grid\">\n                                {\n                                (this.state.loading || this.props.isSaving) ? this.renderLoader() : console.log()\n                                }\n                                <List\n                                    height={800} // fix later\n                                    rowCount={this.state.rows.length}\n                                    rowHeight={cache.rowHeight}\n                                    rowRenderer={rowRenderer}\n                                    scrollToAlignment=\"start\"\n                                    scrollToIndex={scrollToIndex}\n                                    width={document.documentElement.clientWidth*0.72}\n                                />\n                                <img src={toTop} alt=\"Back to Top\" className=\"to-top\" id=\"to-top\" onClick={() => this.backToTop()}></img>\n                            </div>\n                        </div>\n                        <div className='navigation-container'>\n                            <div style={{'display':'flex'}}>\n                                {this.renderNavButton('previous')}\n                                {this.renderNavButton('next')}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n      );\n  }\n\n  render() {\n    \n    if(this.props.onHome) {\n        return <Redirect to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect to=\"/learn\" />\n    }\n    \n    if(this.props.onNotebook) {\n        return <Redirect to=\"/notebook/\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect to=\"/analysis/\" />\n    }\n\n    if(this.state.newFile.length !== 0) {\n        if (this.state.newFile === 'blank') {\n            return <Redirect to='/classify' />\n        }\n        const newURL = '/classify/' + this.state.newTimeSeries + '/' + this.state.newFile;\n        return <Redirect to={newURL} />\n    }\n\n    if (this.state.rows !== [] && this.state.initialTargetJump === '' && !this.state.loading) {\n        const urlInfo = this.props.location.pathname.split('/');\n        if (urlInfo.length > 4) {\n            const targetNum = urlInfo[4];\n            var k = this.state.targets.findIndex(target => target.number === targetNum);\n            var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n\n            if (isNaN(scrollToIndex) || scrollToIndex<0) {\n                scrollToIndex = undefined;\n            }\n\n            this.setState({\n                jumpEntry: targetNum,\n                jumpSubmit: targetNum,\n                initialTargetJump: targetNum,\n                scrollToIndex: scrollToIndex\n            });\n        }\n    }\n\n    return(\n        <div className='body'>\n        <title>{'IFCB | ' + this.state.bin.file}</title>\n        <Header />\n        {(this.state.bin.file === 'Not Found') ? this.renderNotFound() : this.renderPage()}\n        \n        <script>{document.addEventListener(\"scroll\", this.flipBackToTop)}</script>\n    </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => ({\n    preferences: state.auth.preferences,\n    isSaving: state.classify.isSaving,\n    user: state.auth.user,\n    scaleEntry: state.classify.scaleEntry,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps, { classifyPublicTarget, classifyRow, classifyAll, save, sync, changeScale })(PublicClassify);","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Annotations from \"./Annotations\";\nimport PublicClassify from \"./PublicClassify\";\n\n\nclass Classify extends React.Component {\n\n  static propTypes = {\n    group: PropTypes.object.isRequired,\n};\n\n  render() {\n    if(this.props.group[0] === 1) {\n      return <Annotations location={this.props.location} match={this.props.match} history={this.props.history}/>\n    } else {\n      return <PublicClassify location={this.props.location} match={this.props.match} history={this.props.history}/>\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  group: state.auth.user.groups,\n});\n\nexport default connect(mapStateToProps, { })(Classify);","import React, { Component } from 'react';\nimport { Grid, AutoSizer, CellMeasurerCache, CellMeasurer } from 'react-virtualized';\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport { filterNotebook, receiveNotesChange } from \"../../actions/classify\";\nimport Header from '../layout/Header';\nimport Note from \"./Note\";\nimport '../../css/notebook-styles.css';\n\nclass Filter extends Component {\n    renderOption(option) {\n        return(\n            <div className=\"filter-option\" onClick={() => this.props.applyFilter(this.props.filter, option)}>{option}</div>\n        );\n    }\n    \n    render() {\n        return(\n            <div>\n                <div className=\"filter-choice\" onClick={() => this.props.onClick(this.props.filter)}>\n                    <p className=\"filter-choice-text\">{this.props.filter}</p>\n                    <p className=\"filter-choice-plus\" id={this.props.filter + \"-plus\"}>+</p>\n                </div>\n                <div className=\"filter-dropdown\" id={this.props.filter + \"-dropdown\"}>\n                    {this.props.options.map((option) => (this.renderOption(option[this.props.filter])))}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Notebook extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            notes: [{\n                \"id\": \"\",\n                \"author\": \"\",\n                \"date\": \"\",\n                \"entry\": \"\",\n                \"parent\": null,\n                \"replies\": [],\n                \"timeseries\": \"\",\n                \"ifcb\": \"\",\n                \"file\": \"\",\n                \"image\": \"\"\n            }],\n            flags: [],\n            classes: [],\n            searchTerms: \"\",\n            authors: [{author: ''}],\n            bins: [{bin: ''}],\n            timeseries: [{timeseries: ''}],\n            ifcbs: [{ifcb: ''}],\n            types: [\n                {type: 'Bin Note'}, \n                {type: 'Target Note'}\n            ],\n            appliedFilters: [],\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        notes: PropTypes.array,\n        filterNotebook: PropTypes.func,\n        receiveNotesChange: PropTypes.func,\n        noteChangeFlag: PropTypes.bool\n    }\n\n    getNotebook(filters) {\n        if (filters.length === 0) {\n            axios\n                .get('/notebook/')\n                .then((res) => {\n                    this.setState({ \n                        notes: res.data,\n                        flags: Array(res.data.length).fill(''),\n                    });\n                })\n                .catch((err) => console.log(err));\n        } else {\n            this.props.filterNotebook(filters);\n        }\n    }\n\n    componentDidMount() {\n        this.getNotebook([]);\n        axios\n            .get('/notebook/filters/')\n            .then((res) => {\n                this.setState({ \n                    authors: res.data.options.authors,\n                    bins: res.data.options.bins,\n                    timeseries: res.data.options.timeseries,\n                    ifcbs: res.data.options.ifcbs,\n                });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    componentDidUpdate() {\n        if (this.props.noteChangeFlag) {\n            this.getNotebook(this.state.appliedFilters);\n            this.props.receiveNotesChange();\n        }\n    }\n\n    handleFilterClick() {\n        document.getElementById('filter_dropdown').classList.toggle('show');\n    }\n\n    onChange = e => this.setState({ searchTerms: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        const newAppliedFilters = this.state.appliedFilters.concat([ {category: \"search\", choice: this.state.searchTerms} ]);\n        this.setState({ appliedFilters: newAppliedFilters })\n        this.props.filterNotebook(newAppliedFilters);\n    }\n\n    handleFilterChoiceClick(option) {\n        document.getElementById(option + '-plus').classList.toggle('rotate-plus');\n        document.getElementById(option + '-dropdown').classList.toggle('show');\n    }\n\n    handleApplyFilter(category, choice) {\n        const duplicates = this.state.appliedFilters.filter(entry => (entry['category'] === category) && (entry['choice'] === choice))\n        if (duplicates.length === 0) {\n            const newAppliedFilters = this.state.appliedFilters.concat([ {category: category, choice: choice} ])\n            this.getNotebook(newAppliedFilters);\n            this.setState({ appliedFilters: newAppliedFilters });\n        }\n    }\n\n    handleRemoveFilter(filter) {\n        const applied = this.state.appliedFilters;\n        const index = applied.findIndex(entry => entry === filter);\n        const newAppliedFilters = applied.slice(0, index).concat(applied.slice(index+1,applied.length));\n        this.setState({ appliedFilters: newAppliedFilters });\n        this.getNotebook(newAppliedFilters);\n    }\n\n    renderFilterChoice(filter, options) {\n        return(\n            <Filter\n                filter={filter}\n                options={options}\n                onClick={(option) => this.handleFilterChoiceClick(option)}\n                applyFilter={(category, choice) => this.handleApplyFilter(category, choice)}\n            />\n        );\n    }\n\n    renderAppliedFilters(filter) {\n        return (\n            <div className=\"filter-choice applied\" onClick={() => this.handleRemoveFilter(filter)}>\n                <p className=\"filter-choice-text applied-text\">{filter.category.toUpperCase() + ': ' + filter.choice}</p>\n                <p className=\"filter-choice-plus applied-text rotate-plus\" id={this.props.filter + \"-plus\"}>+</p>\n            </div>\n        );\n    }\n\n\n  render() {\n    if(this.props.onClassify) {\n        return <Redirect to=\"/classify\" />\n    }\n\n    if(this.props.onHome) {\n        return <Redirect to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect to=\"/learn\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect to=\"/analysis/\" />\n    }\n\n    const cache = new CellMeasurerCache({\n        defaultHeight: 200,\n        minHeight: 200,\n        fixedWidth: true\n      });\n\n    // Grid data as an array of arrays\n    const notes = this.state.notes;\n    const username = this.props.user.username;\n    var skips = 0;\n    var rendered = [];\n\n    function renderReply(note, count) {\n        return(\n            <div className=\"reply\" style={{margin: \"0 0 0 \" + String(count) + \"vw\"}}>\n                <Note\n                    note={note}\n                    user={username}\n                    timeseries={note.timeseries}\n                    ifcb={note.ifcb}\n                    file={note.file}\n                    type='bin'\n                    image={note.image}\n                />\n                <div className=\"reply\" style={{margin: \"0 0 0 \" + String((count+1)) + \"vw\"}}>\n                {(note.replies.length !== 0) ?\n                    note.replies.map((reply) => renderReply(reply, count+1)) :\n                    <div></div>\n                }\n                </div>\n            </div>\n        );\n    }\n    \n    function cellRenderer({columnIndex, key, parent, rowIndex, style}) {\n        if ((rowIndex === 0) && (columnIndex === 0)) {\n            skips = 0;\n            rendered = [];\n        }\n        var noteIndex = (3*rowIndex) + columnIndex + skips;\n        if ((noteIndex) < notes.length) {\n            if ((notes[noteIndex].parent !== null) || (rendered.includes(noteIndex))) {\n                while (notes[noteIndex].parent !== null || (rendered.includes(noteIndex))) {\n                    noteIndex = noteIndex + 1;\n                    skips = skips + 1;\n                    if (noteIndex >= notes.length) {\n                        return\n                    }\n                }\n            }\n            rendered = rendered.concat([noteIndex]);\n            const note = notes[noteIndex];\n            const count = 0;\n            var url = '';\n            if (note.image !== 'None') {\n                url = 'http://akashiwo.oceandatacenter.ucsc.edu:8000/' + note.timeseries + '/' + note.file + '_' + note.ifcb + '_' + note.image + '.jpg';\n            }\n            const flatNote = JSON.stringify(note);\n            const includesFlag = flatNote.includes('true');\n            return (\n                <CellMeasurer\n                    cache={cache}\n                    columnIndex={columnIndex}\n                    key={key}\n                    parent={parent}\n                    rowIndex={rowIndex}\n                >\n                {({ measure, registerChild }) => (\n                    <div ref={registerChild} key={key} style={style}>\n                        <div className=\"notebook-note\" onLoad={measure}>\n                            {(url === '') ? <div></div> : \n                            <img src={url} className=\"notebook-image\" alt={'Target ' + note.image}></img>}\n                            {(includesFlag) ? <div className=\"flag\"></div> : <div></div>}\n                            <div className=\"notebook-entry\"> \n                                <div>\n                                    {(note.image === 'None') ? \n                                    <div className=\"notebook-entry\">\n                                        <p className=\"notebook-entry-heading\">{note.timeseries + ', ' + note.file}</p>\n                                    </div> :\n                                    <div className=\"notebook-entry\">\n                                        <p className=\"notebook-entry-heading\">{'Target ' + note.image}</p>\n                                        <p className=\"notebook-entry-subtitle\">{note.timeseries + ', ' + note.file}</p>\n                                    </div>\n                                    }\n                                    <Note\n                                        note={note}\n                                        user={username}\n                                        timeseries={note.timeseries}\n                                        ifcb={note.ifcb}\n                                        file={note.file}\n                                        type='bin'\n                                        image={note.image}\n                                    />\n                                    {(note.replies.length !== 0) ?\n                                        note.replies.map((reply) => renderReply(reply, count+1)) :\n                                        <div></div>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n                </CellMeasurer>\n            );\n            } else {return}\n      }\n\n    return (\n            <div>\n                <Header />\n                <title>IFCB | Notebook</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Notebook</h1>\n                                <div className=\"filter-button\" onClick={() => this.handleFilterClick()}>Filter</div>\n                            </div>\n                            <div className=\"day-dropdown withmargin\" id='filter_dropdown'>\n                                <form className=\"search-form\" id=\"search-form\" onSubmit={this.onSubmit}>\n                                    <div className=\"search-bar\">\n                                        <div className=\"search-icon\"></div>\n                                        <input\n                                            type=\"text\"\n                                            className=\"search-input\"\n                                            name=\"searchTerms\"\n                                            onChange={this.onChange}\n                                            value={this.state.searchTerms}\n                                        />\n                                    </div>\n                                    <div className=\"applied-filters\">{this.state.appliedFilters.map((filter) => (this.renderAppliedFilters(filter)))}</div>\n                                    <div className=\"filter-buttons\">\n                                        {this.renderFilterChoice('author', this.state.authors)}\n                                        {this.renderFilterChoice('file', this.state.bins)}\n                                        {this.renderFilterChoice('timeseries', this.state.timeseries)}\n                                        {this.renderFilterChoice('ifcb', this.state.ifcbs)}\n                                    </div>\n                                </form>\n                            </div>\n                            <div className=\"notebook-content\">\n                                <AutoSizer>\n                                {({ width, height }) => (\n                                    <Grid\n                                        cellRenderer={cellRenderer}\n                                        columnCount={3}\n                                        columnWidth={document.documentElement.clientWidth*0.29}\n                                        rowHeight={cache.rowHeight}\n                                        deferredMeasurementCache={cache}\n                                        rowCount={Math.ceil(this.state.notes.length/3)}\n                                        height={height}\n                                        width={width}\n                                        notes={this.props.notes}\n                                    />\n                                )}\n                                </AutoSizer>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    noteChangeFlag: state.classify.noteChangeFlag\n });\n\nexport default connect(mapStateToProps, {filterNotebook, receiveNotesChange})(Notebook);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Header from '../layout/Header';\nimport { goto_classdownload, goto_search } from \"../../actions/menu\";\nimport '../../css/analysis-styles.css';\n\nclass AnalysisOption extends Component {\n    render() {\n        return(\n            <div className=\"analysis-option-container\">\n                <h2 className=\"analysis-option-heading\">{this.props.heading}</h2>\n                <p className=\"analysis-option-description\">{this.props.description}</p>\n                <div className=\"analysis-option-button\" onClick={this.props.handleClick}>Start</div>\n            </div>\n        );\n    }\n}\n\nclass Analysis extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            analysisOptions: [\n                {heading: 'Search', description: \"Find any image or collection of images with the help of classification filtering, file look-up, and more.\"},\n                {heading: 'Download by Class', description: \"Download a ZIP file containing all, or a desired subset of, images classified as a particular species.\"},\n            ],\n            bin: '',\n            target: '',\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onClassDownload: PropTypes.bool,\n        onSearch: PropTypes.bool,\n        goto_classdownload: PropTypes.func,\n        goto_search: PropTypes.func,\n    }\n\n    renderAnalysisOption(option) {\n        var handleClick\n        if (option.heading === 'Search') {\n            handleClick = this.props.goto_search;\n        } else if (option.heading === 'Download by Class') {\n            handleClick = this.props.goto_classdownload;\n        }\n        return (\n            <AnalysisOption\n                key={option.heading}\n                heading={option.heading}\n                description={option.description}\n                handleClick={handleClick}\n            />\n        );\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n\n        if(this.props.onClassDownload) {\n            return <Redirect to=\"/analysis/classdownload\" />\n        }\n\n        if(this.props.onSearch) {\n            return <Redirect to=\"/analysis/search\" />\n        }\n\n        return(\n            <div>\n                <Header />\n                <title>IFCB | Analysis</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <div className=\"analysis-options\">\n                                {this.state.analysisOptions.map((option) => (this.renderAnalysisOption(option)))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onClassify: state.menu.onClassify,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onClassDownload: state.menu.onClassDownload,\n    onSearch: state.menu.onSearch,\n });\n\nexport default connect(mapStateToProps, { goto_classdownload, goto_search })(Analysis);","import React, { Component } from 'react';\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass ClassDownload extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classes: [],\n            classifiers: [],\n            classChoice: '',\n            optionalChoices: {\n                include: [],\n                exclude: [],\n                number: 'all',\n            },\n            loading: false,\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n    }\n\n    componentDidMount() {\n        axios\n            .get('/classes/SCW/')\n            .then((res) => {\n                this.setState({ \n                    classes: res.data.map((c) => (c.display_name)),\n                });\n            })\n            .catch((err) => console.log(err));\n        axios\n            .get('/classdownload/classifiers/')\n            .then((res) => {\n                this.setState({ \n                    classifiers: res.data.options.classifiers,\n                });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    handleClassOptionClick(option) {\n        if (this.state.classChoice !== '') {\n            document.getElementById(this.state.classChoice + '-text').style.color = '#707070';\n            document.getElementById(this.state.classChoice + '-cont').style.backgroundColor = '#F8F7F7';\n        }\n        this.setState({ classChoice: option });\n        document.getElementById(option + '-text').style.color = '#FFFFFF';\n        document.getElementById(option + '-cont').style.backgroundColor = '#16609F';\n    }\n\n    handleClassifierOptionClick(option) {\n        const classifierIncludes = this.state.optionalChoices.include;\n        const classifierExcludes = this.state.optionalChoices.exclude;\n        document.getElementById(option + '-text').style.color = '#707070';\n        document.getElementById(option + '-cont').style.backgroundColor = '#F8F7F7';\n        if (classifierIncludes.includes(option)) {\n            const index = classifierIncludes.indexOf(option);\n            classifierIncludes.splice(index, 1);\n            const newExcludes = classifierExcludes.concat([option]);\n            this.setState({ optionalChoices: {\n                include: classifierIncludes,\n                exclude: newExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#7dad0b';\n            document.getElementById(option + '-text').style.color = '#FFFFFF';\n        } else if (classifierExcludes.includes(option)) {\n            const index = classifierExcludes.indexOf(option);\n            classifierExcludes.splice(index, 1);\n            this.setState({ optionalChoices: {\n                include: classifierIncludes,\n                exclude: classifierExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#F8F7F7';\n            document.getElementById(option + '-text').style.color = '#707070';\n        } else {\n            const newIncludes = classifierIncludes.concat([option]);\n            this.setState({ optionalChoices: {\n                include: newIncludes,\n                exclude: classifierExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#16609F';\n            document.getElementById(option + '-text').style.color = '#FFFFFF';\n        }\n    }\n\n    handleAllClick() {\n        document.getElementById('all-cont').style.backgroundColor = '#16609F';\n        document.getElementById('all-text').style.color = '#FFFFFF';\n        this.setState({ optionalChoices: {\n            include: this.state.optionalChoices.include,\n            exclude: this.state.optionalChoices.exclude,\n            number: 'all'\n        } })\n    }\n\n    handleNumberChange(e) {\n        this.setState({ optionalChoices: {\n            include: this.state.optionalChoices.include,\n            exclude: this.state.optionalChoices.exclude,\n            number: e.target.value\n        } });\n        document.getElementById('all-cont').style.backgroundColor = '#F8F7F7';\n        document.getElementById('all-text').style.color = '#707070';\n    }\n\n    onChange = e => (this.handleNumberChange(e))\n\n    download() {\n        this.setState({ loading: true });\n        const include = (this.state.optionalChoices.include.length < 1) ? ('None') : (this.state.optionalChoices.include.join('-'));\n        const exclude = (this.state.optionalChoices.exclude.length < 1) ? ('None') : (this.state.optionalChoices.exclude.join('-'));\n        const number = this.state.optionalChoices.number\n        document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/classdownload/' + this.state.classChoice + '/' + include + '/' + exclude + '/' + number + '/'\n    }\n\n    loadFrame() {\n        this.setState({ loading: false });\n    }\n\n    renderClassOption(option) {\n        return(\n            <div className=\"filter-choice download-option\" id={option + '-cont'} onClick={() => this.handleClassOptionClick(option)}>\n                <p className=\"filter-choice-text\" id={option + '-text'}>{option}</p>\n            </div>\n        );\n    }\n\n    renderClassifierOption(option) {\n        return(\n            <div className=\"filter-choice download-option\" id={option + '-cont'} onClick={() => this.handleClassifierOptionClick(option)}>\n                <p className=\"filter-choice-text\" id={option + '-text'}>{option}</p>\n            </div>\n        );\n    }\n\n    renderLoader() {\n        return <img src={loader} alt=\"Loading targets...\" width=\"50\" loop=\"infinite\" style={{margin:'2vw 0 0 0'}}></img>\n      }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis\" />\n        }\n\n        return(\n            <div>\n                <Header />\n                <title>IFCB | Class Download</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading\">Download by Class</h2>\n                            <div className=\"download-steps\">\n                                <div className=\"download-step-container\">\n                                    <div className=\"download-step-heading\">\n                                        <div className=\"step-icon\">1</div>\n                                        <p className=\"download-step-text\">Choose a classification</p>\n                                    </div>\n                                    <p className=\"download-step-subtext\">Select one classification name.</p>\n                                    <div className=\"class-options\">\n                                        {this.state.classes.map((option) => (this.renderClassOption(option)))}\n                                    </div>\n                                </div>\n                                <div>\n                                    <div className=\"download-step-container classifiers\">\n                                        <div className=\"download-step-heading\">\n                                            <div className=\"step-icon\">2</div>\n                                            <p className=\"download-step-text\">Choose classifiers (optional)</p>\n                                        </div>\n                                        <p className=\"download-step-subtext\">Click an option once to include it or twice to exclude it.</p>\n                                        <div className=\"class-options\">\n                                            {this.state.classifiers.map((option) => (this.renderClassifierOption(option.editor)))}\n                                        </div>\n                                    </div>\n                                    <div className=\"download-step-container\">\n                                    <div className=\"download-step-heading\">\n                                        <div className=\"step-icon\">3</div>\n                                        <p className=\"download-step-text\">Choose number (optional)</p>\n                                    </div>\n                                    <p className=\"download-step-subtext\">Enter in the number of images to include.</p>\n                                    <div className=\"class-options\">\n                                        <form>\n                                        <input \n                                            type=\"number\" \n                                            id=\"number\" \n                                            name=\"number\" \n                                            min=\"1\"\n                                            onChange={this.onChange}\n                                            value={this.state.optionalChoices.number}\n                                        />\n                                        </form>\n                                        <div className=\"filter-choice download-option\" id={'all-cont'}>\n                                            <p className=\"filter-choice-text\" id={'all-text'} onClick={() => this.handleAllClick()}>All</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"download-button\" onClick={() => this.download()}>Download</div>\n                                <div style={{display: 'none'}}>\n                                    <iframe title=\"Download Images\" id=\"download-src\" onload={() => this.loadFrame()} />\n                                </div>\n                                <div>{ (this.state.loading) ? this.renderLoader() : <div/> }</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps)(ClassDownload);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport { searchTargets, getBins } from \"../../actions/classify\";\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport '../../css/classify-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass Target extends Component {\n    \n    showMore() {\n        document.getElementById(this.props.target.id + '-info').style.display = 'block';\n        document.getElementById(this.props.target.id + '-preview').style.display = 'none';\n        \n        const initialWidth = Number(this.props.target.height);\n        const idWidth = document.getElementById(this.props.target.id + '-info').style.width;\n        const scale = idWidth / initialWidth;\n        const style = {height: String(Number(this.props.target.height)*0.056*scale)+'vw'}\n        document.getElementById(this.props.target.id + '-image').style = style;\n\n    }\n\n    showLess() {\n        document.getElementById(this.props.target.id + '-info').style.display = 'none';\n        document.getElementById(this.props.target.id + '-preview').style.display = 'flex';\n        const style = String(Number(this.props.target.height)*0.056)+'vw'\n        document.getElementById(this.props.target.id + '-image').style.height = style;\n    }\n    \n    render() {\n        if (this.props.bins !== []) {\n            \n            const desiredBin = (element) => element.id === this.props.target.bin;\n            const binIndex = this.props.bins.findIndex(desiredBin);\n            const bin = this.props.bins[binIndex];\n            const url = 'http://akashiwo.oceandatacenter.ucsc.edu:8000/data/' + bin.file + '_' + bin.ifcb + '_' + this.props.target.number + '.jpg'\n            \n            return(\n                <div className=\"search-result\">\n                    <img src={url} className=\"image searh-result-image\"\n                        alt={this.props.target.class_name}\n                        id={this.props.target.id + '-image'}\n                        style={{height: String(Number(this.props.target.height)*0.056)+'vw'}}>\n                    </img>\n                    <div className='id' id={this.props.target.id + '-preview'}>\n                        <div className='search-result-plus' id={this.props.target.id + '-plus'} onClick={() => this.showMore()}><p className=\"plus\">+</p></div>\n                    </div>\n                    <div className='id description' style={{display: 'none'}} id={this.props.target.id + '-info'}>\n                        <div className='search-result-plus exit' onClick={() => this.showLess()}>\n                            <p className=\"plus x\">X</p>\n                        </div>\n                        <p className=\"description-heading\">{this.props.target.class_name}</p>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'File: '}</p>\n                            <p>{bin.file}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Time Series: '}</p>\n                            <p>{bin.timeseries}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'IFCB: '}</p>\n                            <p>{bin.ifcb}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Target: '}</p>\n                            <p>{this.props.target.number}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Classifer: '}</p>\n                            <p>{this.props.target.editor}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Date: '}</p>\n                            <p>{this.props.target.date}</p>\n                        </div>\n                        <div className='search-redirect-button' onClick={() => this.props.redirectToFile(bin.timeseries, bin.file, this.props.target.number)}>Go to File</div>\n                    </div>\n                </div>\n            );\n        }\n        else {\n            return <div/>\n        }\n    }\n}\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            targets: [[]],\n            bins: [[]],\n            basicSearch: '',\n            loading: false,\n            renderable: false,\n            redirectInfo: ''\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        searchTargets: PropTypes.func,\n        targetSearchResults: PropTypes.array,\n        binsSearchResults: PropTypes.array,\n    }\n\n    onChange = e => this.setState({ basicSearch: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.setState({ renderable: false });\n        document.getElementById(\"no-results\").style.display = 'none';\n        this.props.searchTargets(this.state.basicSearch);\n        this.setState({ \n            targets: this.props.targetSearchResults\n        });\n        if (this.props.targetSearchResults === [[]]) {\n            document.getElementById(\"no-results\").style.display = 'flex';\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.targetSearchResults !== this.props.targetSearchResults) {\n            var targets;\n            if (this.props.targetSearchResults[0].length !== undefined) {\n                targets = this.props.targetSearchResults[0];\n            } else {\n                targets = this.props.targetSearchResults;\n            }\n            this.props.getBins(targets.map(target => target.bin));\n        }\n\n        if (prevProps.binsSearchResults !== this.props.binsSearchResults) {\n            this.setState({\n                renderable: true,\n            });\n        }\n    }\n\n    redirectToFile(timeseries, file, target) {\n        this.setState({ redirectInfo: {timeseries: timeseries, file: file, target: target} });\n    }\n\n    renderTarget(target) {\n        return( \n            <Target\n                target={target}\n                bins={this.props.binsSearchResults[0]}\n                key={target.id}\n                redirectToFile={(timeseries, file, target) => this.redirectToFile(timeseries, file, target)}\n            />\n        );\n    }\n\n    renderLoader() {\n        return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\"></img>\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis\" />\n        }\n\n        if(this.state.redirectInfo !== '') {\n            const timeseries = this.state.redirectInfo.timeseries;\n            const file = this.state.redirectInfo.file;\n            const target = this.state.redirectInfo.target;\n            return <Redirect to={\"/classify/\" + timeseries + \"/\" + file + \"/\" + target} />\n        }\n\n        var targets;\n        var resultsDisplay;\n        ((typeof this.props.targetSearchResults[0].length !== \"undefined\")) \n           ? (targets = this.props.targetSearchResults[0]) : (targets = this.props.targetSearchResults);\n        (targets.length === 0) ? (resultsDisplay = {display: 'flex'}) : (resultsDisplay = {display: 'none'})\n        \n           return(\n            <div>\n                <Header />\n                <title>IFCB | Search</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading\">Search</h2>\n                            <div>\n                                <form className=\"search-form\" id=\"search-form\" onSubmit={this.onSubmit}>\n                                    <div className=\"search-bar\">\n                                        <div className=\"search-icon\"></div>\n                                        <input\n                                            type=\"text\"\n                                            className=\"search-input\"\n                                            name=\"basicSearch\"\n                                            onChange={this.onChange}\n                                            value={this.state.basicSearch}\n                                        />\n                                    </div>\n                                </form>\n                            </div>\n                            <div>\n                                <p className=\"no-results\" id=\"no-results\" style={resultsDisplay}>No results</p>\n                                <div className=\"image-grid\">\n                                    {\n                                    (this.state.loading) ? this.renderLoader() :\n                                    (this.state.renderable) ? (targets.map((target) => this.renderTarget(target))) : (<div/>)\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    targetSearchResults: state.classify.targetSearchResults,\n    binsSearchResults: state.classify.binsSearchResults,\n });\n\nexport default connect(mapStateToProps, { searchTargets, getBins })(Search);","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\nimport { login } from \"../../actions/auth\";\nimport { goto_home } from \"../../actions/menu\";\n\nimport '../../css/auth-styles.css';\n\n\nexport class Login extends Component {\n    state = {\n        username: '',\n        password: '',\n        attempted: false,\n    }\n\n    static propTypes = {\n        login: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        loginFailed: PropTypes.bool,\n        location: PropTypes.string,\n        goto_home: PropTypes.func,\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.login(this.state.username, this.state.password);\n        this.setState({ attempted: true });\n    }\n\n    onChange = e => this.setState({ \n        [e.target.name]: e.target.value,\n        attempted: false\n    })\n\n    render() {\n        if(document.getElementById('error')) {\n            const error = document.getElementById('error').classList;\n            if(this.props.isAuthenticated) {\n                return <Redirect push to={this.props.location} />\n            } else if(this.props.loginFailed && this.state.attempted) {\n                if (!error.contains('show')) {\n                    error.add('show');\n                }\n            } else {\n                if (error.contains('show')) {\n                    error.remove('show');\n                }\n            }\n        }\n\n        if(this.props.onHome) {\n            return <Redirect to=\"/\" />\n        }\n        \n        const { username, password } = this.state;\n        return (\n            <div className='body'>\n                <title>IFCB | Login</title>\n                <main className=\"login-main\">\n                <div className=\"header\">\n                    <button  \n                        onClick={this.props.goto_home}\n                        className=\"h3\">\n                            IFCB Classification\n                    </button>\n                    <ul className=\"navbar\">\n                        <li className=\"nav-item\">\n                            <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"main-container\">\n                    <div className=\"sub-container\">\n                    <h2>Welcome back.</h2>\n                    <p className='auth-text'>Sign in to start classifying.</p>\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            onChange={this.onChange}\n                            value={username}\n                        />\n                        <label>Username</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.onChange}\n                            value={password}\n                        />\n                        <label>Password</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <p className=\"error-message\" id=\"error\">Incorrect username or password.</p>\n                        <button type=\"submit\" className=\"login-submit\">\n                            Login\n                        </button>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n   isAuthenticated: state.auth.isAuthenticated,\n   loginFailed: state.auth.loginFailed,\n   location: state.auth.location,\n   onHome: state.menu.onHome,\n});\n\nexport default connect(mapStateToProps, { login, goto_home })(Login);","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\nimport { register } from \"../../actions/auth\";\nimport { goto_home } from \"../../actions/menu\";\n\nexport class Register extends Component {\n    state = {\n        groups: '',\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n        labcode: '',\n    }\n\n    static propTypes = {\n        register: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        goto_home: PropTypes.func,\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n        const { groups, username, email, password, password2, labcode } = this.state;\n        if(password !== password2) {\n            console.log('Passwords do not match.') // change to UI message\n        } else if(this.state.group === '') {\n            console.log('No role selected.') // change to UI message\n        } else if(this.state.group === 'Lab User' && labcode!=='5142') {\n            console.log('Incorrect lab labcode.') // change to UI message\n        } else {\n            const newUser = {\n                groups,\n                username,\n                email,\n                password\n            }\n            this.props.register(newUser);\n        }\n    }\n\n    onChange = e => this.setState({ [e.target.name]: e.target.value })\n\n    handleCommunityRole() {\n        if (this.state.groups === 'Lab User') {\n            const otherButton = document.getElementById('role-scientist-button');\n            otherButton.classList.remove('role-button-clicked');\n            const otherIcon = document.getElementById('scientist');\n            otherIcon.classList.remove('role-scientist-icon-hover');\n        }\n\n        this.setState({ groups: 'Public User' });\n        const icon = document.getElementById('community');\n        const button = document.getElementById('role-community-button');\n        const form = document.getElementById('form');\n        const text = document.getElementById('role-text');\n        const labcode = document.getElementById('labcode');\n        \n        icon.classList.add('role-community-icon-hover');\n        button.classList.toggle('role-button-clicked');\n        form.classList.add('show-form');\n        text.classList.add('hide');\n        labcode.classList.add('hide');\n    }\n\n    handleLabRole() {\n        if (this.state.groups === 'Public User') {\n            const otherButton = document.getElementById('role-community-button');\n            otherButton.classList.remove('role-button-clicked');\n            const otherIcon = document.getElementById('community');\n            otherIcon.classList.remove('role-community-icon-hover');\n        }\n        this.setState({ groups: 'Lab User' });\n        const icon = document.getElementById('scientist');\n        const button = document.getElementById('role-scientist-button');\n        const form = document.getElementById('form');\n        const text = document.getElementById('role-text');\n        const labcode = document.getElementById('labcode');\n        \n        icon.classList.add('role-scientist-icon-hover');\n        button.classList.toggle('role-button-clicked');\n        form.classList.add('show-form');\n        text.classList.add('hide');\n        labcode.classList.add('show-form');\n    }\n\n    handleRoleHover(user) {\n        if (this.state.groups !== 'Public User' && user==='community') {\n            const icon = document.getElementById(user);\n            icon.classList.toggle('role-' + user + '-icon-hover');\n        } else if (this.state.groups !== 'Lab User' && user==='scientist') {\n            const icon = document.getElementById(user);\n            icon.classList.toggle('role-' + user + '-icon-hover');\n        }\n    }\n    \n    render() {\n        if(this.props.isAuthenticated) {\n            return <Redirect to=\"/classify\" />;\n        }\n\n        if(this.props.onHome && !this.props.onRegister) {\n            return <Redirect to=\"/\" />\n        }\n        \n        const { username, email, password, password2, labcode } = this.state;\n        return (\n            <div className='body'>\n                <title>IFCB | Register</title>\n                <main className=\"register-main\">\n                <div className=\"header\">\n                    <button  \n                        onClick={this.props.goto_home}\n                        className=\"h3\">\n                            IFCB Classification\n                    </button>\n                    <ul className=\"navbar\">\n                        <li className=\"nav-item\">\n                            <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"main-container\">\n                    <div className=\"sub-container\">\n                    <h2>Welcome.</h2>\n                    <p  className='auth-text'>Create an account to start classifying.</p>\n                    <p  className='role-text' id='role-text'>Select your role.</p>\n                    <div style={{display:'flex'}}>\n                        <div className=\"role-button\" id='role-community-button' onMouseEnter={() => this.handleRoleHover('community')} onMouseLeave={() => this.handleRoleHover('community')} onClick={() => this.handleCommunityRole()}>\n                            <div className=\"role-community-icon\" id='community'></div>\n                            Community Member\n                        </div>\n                        <div className=\"role-button extra-margin\" id='role-scientist-button' onMouseEnter={() => this.handleRoleHover('scientist')} onMouseLeave={() => this.handleRoleHover('scientist')} onClick={() => this.handleLabRole()}>\n                            <div className=\"role-scientist-icon\" id='scientist'></div>\n                            Lab Member\n                        </div>\n                    </div>\n                    <form onSubmit={this.onSubmit} className='hide' id='form'>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            onChange={this.onChange}\n                            value={username}\n                            placeholder=\"Username\"\n                        />\n                        \n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"email\"\n                            onChange={this.onChange}\n                            value={email}\n                            placeholder=\"Email\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.onChange}\n                            value={password}\n                            placeholder=\"Password\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password2\"\n                            onChange={this.onChange}\n                            value={password2}\n                            placeholder=\"Confirm Password\"\n                        />\n                        <input\n                            type=\"text\"\n                            id=\"labcode\"\n                            className=\"form-control\"\n                            name=\"labcode\"\n                            onChange={this.onChange}\n                            value={labcode}\n                            placeholder=\"Lab Code\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <button type=\"submit\" className=\"register-submit\">\n                            Create Account\n                        </button>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    onHome: state.menu.onHome,\n    onRegister: state.menu.onRegister,\n });\n \n export default connect(mapStateToProps, { register, goto_home })(Register);","export default __webpack_public_path__ + \"static/media/loader.a069fadb.GIF\";","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { saveLocation } from \"../../actions/auth\";\nimport loader from \"./loader.GIF\";\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n    <Route \n        {...rest}\n        render={props => {\n            saveLocation(window.location.pathname);\n            if(auth.isLoading) {\n                return <img src={loader} alt=\"Loading...\" width=\"80\" loop=\"infinite\"></img>\n            } else if(!auth.isAuthenticated) {\n                return <Redirect to=\"/login\" />\n            } else {\n                return <Component {...props} />;\n            }\n        }}\n    />\n);\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);","import {\n    USER_LOADED,\n    USER_LOADING,\n    PREFERENCES_LOADED,\n    PREFERENCES_ERROR,\n    LOCATION_SAVED,\n    AUTH_ERROR,\n    LOGIN_ATTEMPT,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n} from '../actions/types';\n\n\nconst initialState = {\n    token: localStorage.getItem('token'),\n    isAuthenticated: null,\n    loginFailed: false,\n    registerFailed: false,\n    isLoading: false,\n    user: null,\n    preferences: {\"id\": 0, \"user\": 0, \"sort\": \"AZ\", \"scale\": \"0.560\", \"load\": \"recent\", \"phytoguide\": true},\n    location: window.location.pathname,\n    locationCount: 1,\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case USER_LOADING:\n            return {\n                ...state,\n                isLoading: true\n            }\n        case USER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                isLoading: false,\n                user: action.payload.user,\n                preferences: action.payload.preferences,\n            };\n        case PREFERENCES_LOADED:\n            return {\n                ...state,\n                preferences: action.payload\n            };\n        case LOCATION_SAVED:\n            return {\n                ...state,\n                location: action.payload\n            }\n        case LOGIN_ATTEMPT:\n            return {\n                ...state,\n                ...action.payload,\n                loginFailed: false\n            }\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated: true,\n                isLoading: false\n            }\n        case PREFERENCES_ERROR:\n            console.log('Failed to load user preferences.');\n        case AUTH_ERROR:\n        case LOGOUT_SUCCESS:\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false,\n                registerFailed: true,\n            }\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false\n            }\n        case LOGIN_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false,\n                loginFailed: true,\n            }\n            \n        default:\n            return state;\n    }\n}\n\n","import {\n    CLASSIFY_PAGE,\n    NOTEBOOK_PAGE,\n    ANALYSIS_PAGE,\n    CLASSDOWNLOAD_PAGE,\n    SEARCH_PAGE,\n    HOME_PAGE,\n    LEARN_PAGE,\n    REGISTER_PAGE,\n    LOGIN_PAGE\n} from '../actions/types';\n\nconst initialState = {\n    onHome: false,\n    onLearn: false,\n    onRegister: false,\n    onLogin: false,\n    onClassify: false,\n    onNotebook: false,\n    onAnalysis: false,\n    onClassDownload: false,\n    onSearch: false,\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case HOME_PAGE:\n            return {\n                ...state,\n                onHome: true,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        case LEARN_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: true,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        case REGISTER_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: true,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        case LOGIN_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: true,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        case CLASSIFY_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: true,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        case NOTEBOOK_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: true,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        \n        case ANALYSIS_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: true,\n                onClassDownload: false,\n                onSearch: false,\n            }\n\n        case CLASSDOWNLOAD_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: true,\n                onSearch: false,\n            }\n\n        case SEARCH_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: true,\n            }\n            \n        default:\n            return state;\n    }\n}\n\n","import {\n    SAVE_PROGRESS,\n    SAVE_SUCCESS,\n    SYNC_PROGRESS,\n    SYNC_SUCCESS,\n    SCALE_CHANGED,\n    NOTES_CHANGED,\n    NOTES_RECORDED,\n    NOTEBOOK_FILTERED,\n    REPLY_RESOLVED,\n    REPLY_OPEN,\n    TARGETS_BASIC_SEARCHED,\n    BINS_BASIC_SEARCHED\n} from '../actions/types';\n\nconst initialState = {\n    isSaving: false,\n    isSyncing: false,\n    scaleEntry: 0.560,\n    noteChangeFlag: true,\n    replyChangeFlag: false,\n    notes: [],\n    targetSearchResults: [[]],\n    binsSearchResults: [[]],\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case SAVE_PROGRESS:\n            return {\n                ...state,\n                isSaving: true\n            }\n        case SAVE_SUCCESS:\n            return {\n                ...state,\n                isSaving: false\n            }\n        case SYNC_PROGRESS:\n            return {\n                ...state,\n                isSyncing: true\n            }\n        case SYNC_SUCCESS:\n            return {\n                ...state,\n                isSyncing: false\n            }\n        case SCALE_CHANGED:\n            return {\n                ...state,\n                scaleEntry: action.payload\n            }\n        case NOTES_CHANGED:\n            return {\n                ...state,\n                noteChangeFlag: true\n            }\n        case NOTES_RECORDED:\n            return {\n                ...state,\n                noteChangeFlag: false\n            }\n        case REPLY_OPEN:\n            return {\n                ...state,\n                noteChangeFlag: true\n            }\n        case REPLY_RESOLVED:\n            return {\n                ...state,\n                noteChangeFlag: false\n            }\n        case NOTEBOOK_FILTERED:\n            return {\n                ...state,\n                notes: action.payload\n            }\n        case TARGETS_BASIC_SEARCHED:\n            return {\n                ...state,\n                targetSearchResults: ((typeof(action.payload) === Array) ? (action.payload) : ([action.payload]))\n            }\n        case BINS_BASIC_SEARCHED:\n            return {\n                ...state,\n                binsSearchResults: ((typeof(action.payload) === Array) ? (action.payload) : ([action.payload]))\n            }\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport menu from './menu';\nimport classify from './classify';\n\nexport default combineReducers({\n  auth,\n  menu,\n  classify,\n});","import { createStore, applyMiddleware } from \"redux\"\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware)),\n);\n\nexport default store;","import React, { Component } from 'react';\nimport { withRouter } from \"react-router\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport Landing from './components/layout/Landing';\nimport Learn from './components/layout/Learn';\nimport Classify from './components/annotations/Classify';\nimport Notebook from './components/features/Notebook';\nimport Analysis from './components/features/Analysis';\nimport ClassDownload from './components/features/ClassDownload';\nimport Search from './components/features/Search';\nimport Login from './components/accounts/Login';\nimport Register from './components/accounts/Register';\nimport PrivateRoute from './components/common/PrivateRoute';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { loadUser } from './actions/auth';\n\nclass App extends Component {\n\n    componentDidMount() {\n        store.dispatch(loadUser());\n    }\n\n    render() {\n        return(\n            <Provider store={store}>\n                <BrowserRouter>\n                    <Switch>\n                        <PrivateRoute \n                            exact path=\"/classify/:timeseries/:file\" \n                            key={window.location.pathname}\n                            component={withRouter(Classify)} />\n                        <PrivateRoute \n                            exact path=\"/classify/:timeseries/:file/:target\" \n                            key={window.location.pathname}\n                            component={withRouter(Classify)} />\n                        <PrivateRoute exact path=\"/classify/\" component={Classify} />\n                        <PrivateRoute exact path=\"/notebook/\" component={Notebook} />\n                        <PrivateRoute exact path=\"/analysis\" component={Analysis} />\n                        <PrivateRoute exact path=\"/analysis/classdownload\" component={ClassDownload} />\n                        <PrivateRoute exact path=\"/analysis/search\" component={Search} />\n                        <Route exact path=\"/register\" component={Register} />\n                        <Route exact path=\"/login\" component={Login} />\n                        <Route exact path=\"/\" key={window.location.pathname} component={Landing} />\n                        <Route exact path=\"/learn\" component={Learn} />\n                    </Switch>\n                </BrowserRouter>\n            </Provider>\n        );\n    }\n\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/master.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}