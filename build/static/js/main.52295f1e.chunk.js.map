{"version":3,"sources":["actions/types.js","actions/auth.js","components/layout/Header.js","actions/menu.js","actions/classify.js","components/features/Note.js","components/annotations/BinNote.js","components/annotations/Plankton.js","icons/dropdown.png","components/annotations/time/TimeSeriesControl.js","components/annotations/time/YearControl.js","components/annotations/time/DayControl.js","components/annotations/time/Bar.js","components/annotations/time/FileControl.js","components/annotations/time/Order.js","components/annotations/loader.GIF","components/annotations/Annotations.js","icons/to-top.png","components/features/Notebook.js","components/features/Analysis.js","components/features/ClassDownload.js","components/features/Search.js","components/accounts/Login.js","components/accounts/Register.js","components/common/loader.GIF","components/common/PrivateRoute.js","reducers/auth.js","reducers/menu.js","reducers/classify.js","reducers/index.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["USER_LOADING","USER_LOADED","LOCATION_SAVED","AUTH_ERROR","LOGIN_ATTEMPT","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","CLASSIFY_PAGE","NOTEBOOK_PAGE","ANALYSIS_PAGE","CLASSDOWNLOAD_PAGE","SEARCH_PAGE","SAVE_SUCCESS","SAVE_PROGRESS","SYNC_SUCCESS","SYNC_PROGRESS","NOTES_CHANGED","NOTES_RECORDED","REPLY_OPEN","REPLY_RESOLVED","NOTEBOOK_FILTERED","TARGETS_BASIC_SEARCHED","BINS_BASIC_SEARCHED","tokenConfig","getState","token","auth","config","headers","Header","this","props","isAuthenticated","user","onClassify","to","onNotebook","onAnalysis","authLinks","className","username","onClick","goto_classify","goto_notebook","goto_analysis","href","logout","guestLinks","Component","connect","state","dispatch","axios","post","then","res","type","sendNotesChange","receiveNotesChange","addBinNote","author","entry","parent","replies","timeseries","ifcb","file","image","note","JSON","stringify","catch","err","console","log","Note","onChange","e","setState","target","value","onSubmit","preventDefault","id","document","getElementById","reset","classList","toggle","sendReplyOpen","deleteBinNote","flagBinNote","isFlagged","date","flag","slice","reply","delete","getFlagButton","rows","name","React","notes","classify","put","BinNote","parents","getNotes","get","data","count","iters","findIndex","element","style","margin","String","length","map","renderNote","noteChangeFlag","replyChangeFlag","receiveReplyOpen","PlanktonImage","url","nameSpace","timestamp","targetNum","src","alt","classification","height","Number","scale","Plankton","class_name","width","infoChange","infoStyle","getHeight","getWidth","renderImage","onMouseEnter","onMouseLeave","handleInfoClick","editor","infoShowing","includes","class_abbr","TimeSeriesControl","options","x","dropdown","handleDropdown","YearControl","year","DayControl","day","Bar","num","onHover","number","handleHover","current","FileControl","fileName","Order","barID","order","labelID","Micrometer","ClassMenu","classes","handleSelectAllClick","handleUndoClick","NavButton","text","Annotations","onTargetJumpChange","targetJumpEntry","onTargetJumpSubmit","scrollToIndex","loading","newFile","newTimeSeries","classAbbrs","classPicker","classMark","planktonClickEnabled","bin","timeSeriesOptions","yearOptions","dayOptions","barHeights","fileOptions","setOptions","filledDays","targets","history","set","setDisplay","group","sort","sortCode","lastScroll","dayOption","previous","next","bind","clearScrollToIndex","contains","option","closeDropdown","urlInfo","location","pathname","split","getNewTimeSeries","c","display_name","replace","abbr","Math","round","year_options","reverse","day_options","file_options","set_options","filled_days","targetResponse","prevProps","match","go","histogram","body","scrollTop","documentElement","dayNumber","handleBar","code","backgroundColor","prevMenu","addEventListener","handleMouseOver","handleMouseOut","ids","getElementsByClassName","idTexts","i","color","menu","removeEventListener","container","remove","add","classAbbr","concat","save","newHistory","parse","sync","scrollHeight","j","row","k","start","end","targetRow","classifyRow","bool","infoClassList","newInfoShowing","filter","item","classifyTarget","showButton","innerHTML","infoButtons","dir","initialScale","newScale","rowResponse","getNewYear","handleNewDay","handleNewFile","handleNewSort","handleNewGroup","handleSyncClick","handleDownload","display","handleMenuClick","gb","handleBarHover","direction","fileNumber","yearNumber","loader","loop","returnToClassify","cache","CellMeasurerCache","defaultHeight","minHeight","fixedWidth","rowRenderer","index","key","rowIndex","measure","registerChild","ref","onLoad","handleRowClick","handlePlanktonClick","disablePlanktonClick","onScroll","isScrolling","onChildScroll","renderTimeSeriesControl","renderYearControl","renderDayControl","renderFileControl","renderGroup","renderSort","showNotes","hideInfo","renderSync","renderDownload","handleHistogramClick","handleScale","renderBar","renderClassMenu","isSaving","renderLoader","autoHeight","rowCount","rowHeight","scrollToAlignment","clientWidth","images","backToTop","renderNavButton","newURL","renderNotFound","renderPage","flipBackToTop","startInd","endInd","classifyAll","Filter","applyFilter","renderOption","Notebook","searchTerms","newAppliedFilters","appliedFilters","category","choice","filterNotebook","flags","authors","bins","ifcbs","types","filters","Array","fill","getNotebook","applied","handleFilterChoiceClick","handleApplyFilter","handleRemoveFilter","toUpperCase","skips","rendered","renderReply","cellRenderer","columnIndex","noteIndex","includesFlag","handleFilterClick","renderAppliedFilters","renderFilterChoice","columnCount","columnWidth","deferredMeasurementCache","ceil","search","payload","AnalysisOption","heading","description","handleClick","Analysis","analysisOptions","goto_search","goto_classdownload","onClassDownload","onSearch","renderAnalysisOption","ClassDownload","handleNumberChange","classifiers","classChoice","optionalChoices","include","exclude","classifierIncludes","classifierExcludes","indexOf","splice","newExcludes","newIncludes","join","handleClassOptionClick","handleClassifierOptionClick","renderClassOption","renderClassifierOption","min","handleAllClick","download","title","onload","loadFrame","Target","initialWidth","binIndex","showMore","showLess","redirectToFile","Search","basicSearch","renderable","searchTargets","targetSearchResults","redirectInfo","undefined","getBins","binsSearchResults","resultsDisplay","renderTarget","binIDs","Login","password","attempted","login","error","push","loginFailed","Register","email","password2","newUser","register","component","rest","render","window","isLoading","initialState","localStorage","getItem","registerFailed","locationCount","isSyncing","combineReducers","action","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","exact","path","withRouter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.52295f1e.chunk.js","sourcesContent":["// Authentication\nexport const USER_LOADING = \"USER_LOADING\";\nexport const USER_LOADED = \"USER_LOADED\";\nexport const LOCATION_SAVED = \"LOCATION_SAVED\";\nexport const AUTH_ERROR = \"AUTH_ERROR\";\nexport const LOGIN_ATTEMPT = \"LOGIN_ATTEMPT\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\n\n// Menu\nexport const CLASSIFY_PAGE = \"CLASSIFY_PAGE\";\nexport const NOTEBOOK_PAGE = \"NOTEBOOK_PAGE\";\nexport const ANALYSIS_PAGE = \"ANALYSIS_PAGE\";\nexport const CLASSDOWNLOAD_PAGE = \"CLASSDOWNLOAD_PAGE\";\nexport const SEARCH_PAGE = \"SEARCH_PAGE\";\n\n// Classification\nexport const SAVE_SUCCESS = \"SAVE_SUCCESS\";\nexport const SAVE_PROGRESS = \"SAVE_PROGRESS\";\nexport const SYNC_SUCCESS = \"SYNC_SUCCESS\";\nexport const SYNC_PROGRESS = \"SYNC_PROGRESS\";\nexport const NOTES_CHANGED = \"NOTES_CHANGED\";\nexport const NOTES_RECORDED = \"NOTES_RECORDED\";\nexport const REPLY_OPEN = \"REPLY_OPEN\";\nexport const REPLY_RESOLVED = \"REPLY_RESOLVED\";\nexport const NOTE_SUCCESS = \"NOTE_SUCCESS\";\nexport const NOTEBOOK_FILTERED = \"NOTEBOOK_FILTERED\";\nexport const TARGETS_BASIC_SEARCHED = \"TARGETS_BASIC_SEARCHED\";\nexport const BINS_BASIC_SEARCHED = \"BINS_BASIC_SEARCHED\";","import axios from 'axios';\nimport {\n    USER_LOADED,\n    USER_LOADING,\n    LOCATION_SAVED,\n    AUTH_ERROR,\n    LOGIN_ATTEMPT,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL\n} from '../actions/types';\n\n// CHECK TOKEN & LOAD USER\nexport const loadUser = () => (dispatch, getState) => {\n    // User Loading\n    dispatch({ type: USER_LOADING });\n\n    \n    axios\n        .get('/api/auth/user', tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: USER_LOADED,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: AUTH_ERROR\n            });\n        })\n}\n\n// SAVE LOCATION\nexport const saveLocation = (location) => (dispatch) => {\n    dispatch({ \n        type: LOCATION_SAVED,\n        payload: location\n    });\n}\n\n// LOGIN USER\nexport const login = (username, password) => dispatch => {\n    \n    dispatch({\n        type: LOGIN_ATTEMPT\n    });\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // Request Body\n    const body = JSON.stringify({ username, password });\n\n    axios\n        .post('/api/auth/login', body, config)\n        .then(res => {\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: LOGIN_FAIL\n            });\n        })\n};\n\n// REGISTER USER\nexport const register = ({ username, password, email }) => dispatch => {\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // Request Body\n    const body = JSON.stringify({ username, email, password });\n\n    axios\n        .post('/api/auth/register', body, config)\n        .then(res => {\n            dispatch({\n                type: REGISTER_SUCCESS,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: REGISTER_FAIL\n            });\n        })\n};\n\n// LOGOUT USER\nexport const logout = () => (dispatch, getState) => {\n    axios\n        .post('/api/auth/logout/', null, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: LOGOUT_SUCCESS\n            });\n        });\n};\n\n// Setup config with token (helper function)\nexport const tokenConfig = getState => {\n    \n    // Get token from state\n    const token = getState().auth.token\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // if token, add to headers config\n    if(token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    return config;\n}","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link,  Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { logout } from \"../../actions/auth\";\nimport { goto_classify, goto_notebook, goto_analysis } from \"../../actions/menu\";\n\nexport class Header extends Component {\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n        logout: PropTypes.func.isRequired,\n        goto_classify: PropTypes.func.isRequired,\n        goto_notebook: PropTypes.func.isRequired,\n        goto_analysis: PropTypes.func.isRequired,\n    };\n\n    render() {\n        const { isAuthenticated, user } = this.props.auth;\n\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        } else if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        } else if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis\" />\n        }\n\n        const authLinks = (\n            <ul className=\"logoutbar\">\n                <span className='nav-hello'>\n                    <strong className='nav-hello'>\n                        { user ? `Welcome, ${user.username}` : \"\" }\n                    </strong>\n                </span>\n                <div className=\"login-navbar\">\n                    <li>\n                        <button \n                            onClick={this.props.goto_classify}\n                            className=\"login-nav-link\">\n                                Classify\n                        </button>\n                    </li>\n                    <li>\n                        <button  \n                            onClick={this.props.goto_notebook}\n                            className=\"login-nav-link\">\n                                Notebook\n                        </button>\n                    </li>\n                    <li>\n                        <button  \n                            onClick={this.props.goto_analysis}\n                            className=\"login-nav-link\">\n                                Analysis\n                        </button>\n                    </li>\n                    <li>\n                        <a  \n                            href=\"http://ifcb-classification.herokuapp.com/admin/\" // TODO: Fix URL later\n                            className=\"login-nav-link\">\n                                Admin\n                        </a>\n                    </li>\n                </div>\n                <li className=\"nav-item\">\n                    <button \n                        onClick={this.props.logout} \n                        to=\"/login\" \n                        className=\"logout\">Logout</button>\n                </li>\n            </ul>\n        );\n\n        const guestLinks = (\n            <ul className=\"navbar\">\n                <li className=\"nav-item\">\n                    <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                </li>\n            </ul>\n        );\n        \n        return (\n            <header>\n                <h3>IFCB Classification</h3>\n                { isAuthenticated ? authLinks : guestLinks }\n            </header>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n});\n\nexport default connect(mapStateToProps, { logout, goto_classify, goto_notebook, goto_analysis })(Header);","import {\n    CLASSIFY_PAGE,\n    NOTEBOOK_PAGE,\n    ANALYSIS_PAGE,\n    CLASSDOWNLOAD_PAGE,\n    SEARCH_PAGE,\n} from '../actions/types';\n\nexport const goto_classify = () => (dispatch) => {\n    dispatch({\n        type: CLASSIFY_PAGE\n    });\n};\n\nexport const goto_notebook = () => (dispatch) => {\n    dispatch({\n        type: NOTEBOOK_PAGE\n    });\n};\n\nexport const goto_analysis = () => (dispatch) => {\n    dispatch({\n        type: ANALYSIS_PAGE\n    });\n};\n\nexport const goto_classdownload = () => (dispatch) => {\n    console.log('Going to Download');\n    dispatch({\n        type: CLASSDOWNLOAD_PAGE\n    });\n};\n\nexport const goto_search = () => (dispatch) => {\n    console.log('Going to Download');\n    dispatch({\n        type: SEARCH_PAGE\n    });\n};","import axios from \"axios\";\nimport { tokenConfig } from './auth';\nimport { \n    SAVE_PROGRESS,\n    SAVE_SUCCESS,\n    SYNC_PROGRESS,\n    SYNC_SUCCESS,\n    NOTES_CHANGED,\n    NOTES_RECORDED,\n    REPLY_OPEN,\n    REPLY_RESOLVED,\n    NOTEBOOK_FILTERED,\n    TARGETS_BASIC_SEARCHED,\n    BINS_BASIC_SEARCHED\n} from \"./types\";\n\nexport const sendNotesChange = () => (dispatch, getState) => {\n    dispatch({\n        type: NOTES_CHANGED\n    });\n}\n\nexport const receiveNotesChange = () => (dispatch, getState) => {\n    dispatch({\n        type: NOTES_RECORDED\n    });\n}\n\nexport const sendReplyOpen = () => (dispatch, getState) => {\n    dispatch({\n        type: REPLY_OPEN\n    });\n}\n\nexport const receiveReplyOpen = () => (dispatch, getState) => {\n    dispatch({\n        type: REPLY_RESOLVED\n    });\n}\n\nexport const addBinNote = (author, entry, parent, replies, timeseries, ifcb, file, image) => (dispatch, getState) => {\n    const note = JSON.stringify({ author, entry, parent, replies, timeseries, ifcb, file, image});\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/add/note/', note, config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const deleteBinNote = (id) => (dispatch, getState) => {\n    axios\n        .delete('/delete/note/' + id + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const flagBinNote = (id) => (dispatch, getState) => {\n    axios\n        .put('/flag/note/' + id + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const filterNotebook = (appliedFilters, search) => (dispatch, getState) => {\n    const filters = JSON.stringify(appliedFilters, search)\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/notebook/applyfilters/', filters, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: NOTEBOOK_FILTERED,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const searchTargets = (search) => (dispatch, getState) => {\n    const searchTerms = JSON.stringify(search)\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/searchtargets/', searchTerms, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: TARGETS_BASIC_SEARCHED,\n                payload: (typeof res.data.length !== \"undefined\") ? (res.data) : (res.data)\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const getBins = (bins) => (dispatch, getState) => {\n    const binIDs = JSON.stringify(bins);\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/bins/', binIDs, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: BINS_BASIC_SEARCHED,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const classifyTarget = (target, timeseries, file, number) => (dispatch, getState) => {\n    axios\n        .put('/edit/target/' + timeseries + '/' + file + \n            '/' + number + '/', target, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyRow = (targets, timeseries, file, sort, startInd, endInd) => (dispatch, getState) => {\n    axios\n        .put('/edit/targetrow/' + timeseries + '/' + file + \n            '/' + sort + '/' + startInd + '/' + endInd + '/', \n            targets, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyAll = (timeseries, file, set, sort, className, classAbbr) => (dispatch, getState) => {\n    axios\n        .put('/edit/all/' + timeseries + '/' + file + \n            '/' + set + '/' + sort + '/' + className + \n            '/' + classAbbr + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const save = (targets, timeseries, file, sort) => (dispatch, getState) => {\n    dispatch({\n        type: SAVE_PROGRESS,\n    });\n    axios\n        .put('/save/' + timeseries + '/' + file + \n            '/' + sort + '/', targets, \n            tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: SAVE_SUCCESS,\n            });\n        })\n        .catch((err) => console.log(err));\n    return \n}\n\nexport const sync = (timeseries, year, day, file) => (dispatch, getState) => {\n    dispatch({\n        type: SYNC_PROGRESS,\n    });\n    axios\n        .get('sync/' + timeseries + '/' + year + '/' + day + '/' + file + '/')\n        .then(res => {\n            dispatch({\n                type: SYNC_SUCCESS,\n            });\n        })\n        .catch((err) => console.log(err));\n    return \n}","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { PropTypes } from \"prop-types\";\n\nimport { addBinNote, deleteBinNote, flagBinNote, sendNotesChange, sendReplyOpen } from \"../../actions/classify\";\n\nclass Note extends React.Component {\n    state = {\n        entry: '',\n    }\n\n    static propTypes = {\n        addBinNote: PropTypes.func,\n        deleteBinNote: PropTypes.func,\n        sendNotesChange: PropTypes.func,\n        sendReplyOpenChange: PropTypes.func,\n        notes: PropTypes.array,\n    };\n    \n    reply(id) {\n        document.getElementById('reply-form' + id).classList.toggle('show');\n        this.props.sendReplyOpen();\n    }\n\n    delete(id) {\n        this.props.deleteBinNote(id);\n        this.props.sendNotesChange();\n    }\n\n    flag(id) {\n        this.props.flagBinNote(id);\n        this.props.sendNotesChange();\n    }\n\n    getFlagButton(isFlagged) {\n        if (isFlagged) {\n            return 'Unflag'\n        } else {\n            return 'Flag'\n        }\n    }\n\n    onChange = e => this.setState({ entry: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.addBinNote(this.props.user, this.state.entry, this.props.note.id, [], this.props.timeseries, this.props.ifcb, this.props.file, this.props.image);\n        this.props.sendNotesChange();\n        const replyForm = document.getElementById(\"note-form\");\n        replyForm.reset()\n        document.getElementById('reply-form' + this.props.note.id).classList.toggle('show');\n    }\n    \n    render() {\n        const { id, author, date, entry, parent, replies, timeseries, file, image, flag } = this.props.note;\n        return (\n            <div className={this.props.type + \"-note\"} id={id}>\n                <div className={this.props.type + \"-note-header\"}>\n                    <p className=\"note-author\">{author}</p>\n                    <p className=\"note-date\">{date.slice(0,10)}</p>\n                    {(flag) ? <div className=\"flag-small\"></div> : <div></div>}\n                </div>\n                <p className={this.props.type + \"-note-entry\"}>{entry}</p>\n                {(this.props.type === 'bin') ? \n                    <button className=\"reply-button\" onClick={() => this.reply(id)}>Reply</button> :\n                    <div></div>}\n                {(author === this.props.user) ? \n                    <button className=\"reply-button\" onClick={() => this.delete(id)}>Delete</button> :\n                    <div></div>}\n                {(author === this.props.user) ? \n                    <button className=\"reply-button\" onClick={() => this.flag(id)}>{this.getFlagButton(flag)}</button> :\n                    <div></div>}\n                <div className=\"reply-form\" id={\"reply-form\" + id}>\n                        <form onSubmit={this.onSubmit} id=\"note-form\">\n                            <div className=\"new-note\">\n                            <input\n                                type=\"textarea\"\n                                rows=\"10\"\n                                className=\"note-input\"\n                                name=\"note-entry\"\n                                id=\"note-entry\"\n                                onChange={this.onChange}\n                                value={this.entry}\n                            />\n                            <button type=\"submit\" className={this.props.type + \"-note-submit\"}></button>\n                            </div>\n                        </form>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    notes: state.classify.notes,\n });\n\nexport default connect(mapStateToProps, {addBinNote, deleteBinNote, flagBinNote, sendNotesChange, sendReplyOpen})(Note);","import React from \"react\";\nimport axios from \"axios\";\nimport { connect } from 'react-redux';\nimport { PropTypes } from \"prop-types\";\n\nimport { addBinNote, sendNotesChange, receiveNotesChange, receiveReplyOpen } from \"../../actions/classify\";\nimport Note from \"../features/Note\";\n\nexport class BinNote extends React.Component {\n    state = {\n        entry: '',\n        parents: [],\n        notes: [],\n    }\n    \n    static propTypes = {\n        addBinNote: PropTypes.func,\n        receiveNotesChange: PropTypes.func,\n        noteChangeFlag: PropTypes.bool,\n        receiveReplyOpen: PropTypes.func,\n        replyChangeFlag: PropTypes.bool,\n        user: PropTypes.object,\n    };\n\n    getNotes() {\n        axios\n            .get('/process/note/' + this.props.timeseries + '/' + this.props.file + '/' + this.props.image + '/')\n            .then((res) => {\n                this.setState({ notes: res.data });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    renderNote(note, count) {\n        if (note.parent !== null) {\n            var reply = note;\n            var iters = 0;\n            while (reply.parent !== null) {\n                var parentFunc = (element) => element.id === reply.parent;\n                var reply = this.state.notes[this.state.notes.findIndex(parentFunc)];\n                iters = iters + 1;\n            }\n            if (count!==iters) {\n                return;\n            }\n        }\n        return(\n            <div>\n                <Note\n                    note={note}\n                    user={this.props.user.username}\n                    timeseries={this.props.timeseries}\n                    ifcb={this.props.ifcb}\n                    file={this.props.file}\n                    type={this.props.type}\n                    image={this.props.image}\n                />\n                <div className=\"reply\" style={{margin: \"0 0 0 \" + String((count+1)) + \"vw\"}}>\n                {(note.replies.length !== 0) ?\n                    note.replies.map((reply) => this.renderNote(reply, count+1)) :\n                    <div></div>\n                }\n                </div>\n            </div>\n        \n        );\n    }\n\n    componentDidMount() {\n        this.getNotes();\n    }\n\n    componentDidUpdate() {\n        if(this.props.noteChangeFlag) {\n            this.props.receiveNotesChange();\n            this.getNotes();\n        }\n        if(this.props.replyChangeFlag) {\n            this.props.receiveReplyOpen();\n            this.getNotes();\n        }\n    }\n\n    onChange = e => this.setState({ entry: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.addBinNote(this.props.user.username, this.state.entry, null, [], this.props.timeseries, this.props.ifcb, this.props.file, this.props.image);\n        this.props.sendNotesChange();\n        this.getNotes();\n        const noteForm = document.getElementById(\"note-form\");\n        noteForm.reset()\n    }\n    \n    render() {\n        return(\n            <div className={this.props.type + \"-notes-content\"}>\n                {(this.props.type === 'bin') ? <div className=\"refresh\" onClick={() => this.getNotes()}></div> : <div></div>}\n                <div id=\"note-container\">\n                    {this.state.notes.map((note) => this.renderNote(note, 0))}\n                </div>\n                    <div className={this.props.type + \"-note-form\"}>\n                        <form onSubmit={this.onSubmit} id=\"note-form\">\n                            <div className={this.props.type + \"-new-note\"}>\n                            <input\n                                type=\"textarea\"\n                                rows=\"10\"\n                                className={this.props.type + \"-note-input\"}\n                                name={this.props.type + \"-note-entry\"}\n                                id=\"note-entry\"\n                                onChange={this.onChange}\n                                value={this.entry}\n                            />\n                            <button type=\"submit\" className={this.props.type + \"-note-submit\"}></button>\n                            </div>\n                            {(this.state.notes === []) ? <p className=\"bin-note-label\">Add a Note</p> : <div></div>}\n                        </form>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    noteChangeFlag: state.classify.noteChangeFlag,\n    replyChangeFlag: state.classify.replyChangeFlag,\n    user: state.auth.user\n });\n\nexport default connect(mapStateToProps, {addBinNote, sendNotesChange, receiveNotesChange, receiveReplyOpen})(BinNote);","import React from \"react\";\nimport BinNote from './BinNote';\n\nimport '../../css/classify-styles.css';\n\nclass PlanktonImage extends React.Component {\n\n    render() {\n    const url = this.props.nameSpace + this.props.timestamp + '_' + this.props.ifcb + '_' + this.props.targetNum + '.jpg';\n        return(\n            <img src={url} className=\"image\" \n            alt={this.props.classification} \n            id={this.props.targetNum + '-image'}\n            style={{height: String(Number(this.props.height)*this.props.scale)+'vw'}}></img>\n        );\n    }\n  }\n\nclass Plankton extends React.Component {\n  \n    renderImage() {  \n      return (\n          <PlanktonImage \n              nameSpace={'http://128.114.25.154:8888/' + this.props.timeseries + '/'}\n              timestamp={this.props.timestamp}\n              timeseries={this.props.timeseries}\n              ifcb={this.props.ifcb}\n              targetNum={this.props.targetNum}\n              classification={this.props.class_name}\n              height={this.props.height}\n              scale={this.props.scale}\n          />\n        );\n    }\n  \n    getHeight() {\n      if (this.props.height < 0) {\n        return '5'\n      } else {\n          return String((Number(this.props.height) * this.props.scale) + 2.25)\n      }\n    }\n  \n    getWidth() {\n      if (this.props.width < 0) {\n        return '5'\n      } else {\n          return String(Number(this.props.width)*this.props.scale)\n      }\n    }\n  \n    handleInfoClick() {\n      this.props.infoChange(this.props.targetNum, false, true);\n      document.getElementById(this.props.targetNum + '-info').classList.toggle('show-info');\n      document.getElementById(this.props.targetNum + '-image').classList.toggle('hide');\n      document.getElementById(this.props.targetNum).classList.toggle('hide');\n    }\n  \n    render() {\n      const infoStyle = {\n          height: this.getHeight() + 'vw',\n          width: this.getWidth() + 'vw'\n      };\n      \n      return(\n            <div>\n              <div className=\"plankton-button\" id=\"plankton-button\" onClick={() => this.props.onClick(this.props.targetNum)}>\n                  <div className=\"plankton\">\n                      {this.renderImage()}\n                      <div className=\"info\" onMouseEnter={() => this.props.infoChange(this.props.targetNum, false, false)} \n                          onMouseLeave={() => this.props.infoChange(this.props.targetNum, true, false)}\n                          onClick={() => this.handleInfoClick()}></div>\n                      <div className=\"info-div\" id={this.props.targetNum + '-info'} style={infoStyle}>\n                          <p className=\"classification-info\">{this.props.class_name}</p>\n                          <p className=\"target-num-info\">{'Target ' + this.props.targetNum}</p>\n                          <p className=\"editor-info\">{'Classified by ' + this.props.editor + ',\\n' + this.props.date}</p>\n                          {(this.props.infoShowing.includes(this.props.targetNum)) ? \n                          <BinNote\n                              timeseries={this.props.timeseries}\n                              ifcb={this.props.ifcb}\n                              file={this.props.file}\n                              type='target'\n                              image={this.props.targetNum}\n                          /> :\n                          <div></div>\n                          }\n                      </div>\n                      <div className='id' id={this.props.targetNum}>\n                          <p className='id-text' id={this.props.targetNum + '-text'}>{this.props.class_abbr}</p>\n                      </div>\n                  </div>\n              </div>\n            </div>\n        );\n    }\n  }\n\nexport default (Plankton);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAFQAAAAA5bZMmAAACKUlEQVQ4EZVV0VEbQQzV7sEP4Bk64PzpeMyQCkIqgFQQdxCoIEcFdgcMFUAHwR1kbA5/2u4gGUx+8N1Gb+O70e7pnGFnYLVP0tNqJZ3NYrE4fl2v7w3ROTm3pCT50u/3f9I7V57nZ64sR+BxRI/G2mvw2D/r9YMnB6ExqSuKHwj6Tn6isqx5PF9R3IPD8t8nSWaMOX59eRlL7H9yPptlbHMS2PFlcVEEmAQKPnCQr/P5PI1x7QwS59w3Rbfqdru/LEfIFCUVm82thscYP3GGrGOc65kB4+ci4hQfeQueCjgH/9wbDKBTF7IsN5uFolz1B4MUOJ6I7N7eEHu8SqJRjMlz+fam1opJh5WdD9Dr9Zb8jncVKPazfDqtjQVO89nsnIt1IbGtPJFZ+wBQHHY6V/xuvxWH7wpGnF2m4WTtlcTrAKg436iZMrfbtg1rv+fp9JIPjZrhFeIhrQPA++DoaKxlgTaUw+e0i7B/sr+fgUeuIIDPgihIEcZoQ7Qj5OenJ+hPIEfrBrWMsH9tGoP8JDBsklj7EZ+SRt9z7Q46nXR7wYAuyKDSMDisZLmr5GzAH7ZMI4evHzRJUsltw1fpxV4PlcBqUc3Aa6N2qz0iwTjXqJk0aQ2AdmsZPuk/+XB6+iCBWG4NAEPfdvrweR52zryw49/OAL7tWnoe2clPQluMnQHg5IePaBUQcFbaUAU220NrF0ljTDF+5bj/U7750iTJOP4kSHsp/wWEFsqR3igYKgAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass TimeSeriesControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('timeseries_dropdown').classList.toggle('show');\n        document.getElementById('timeseries_label').classList.toggle('hide');\n        document.getElementById('timeseries_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return (\n            <div>\n                <div className=\"time time-series\" id='timeseries_bar'>\n                    <p className=\"time-selection\">{this.props.timeseries}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select time series'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown time-series\" id='timeseries_dropdown'>\n                    <ul className=\"timeseries-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='timeseries_label'>Time Series</p>\n            </div>\n        );\n    }\n}\n\nexport default (TimeSeriesControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass YearControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('year_dropdown').classList.toggle('show');\n        document.getElementById('year_label').classList.toggle('hide');\n        document.getElementById('year_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='year_bar'>\n                    <p className=\"time-selection\">{this.props.year}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Year'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='year_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='year_label'>Year</p>\n            </div>\n        );\n    }\n}\n\nexport default (YearControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass DayControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('day_dropdown').classList.toggle('show');\n        document.getElementById('day_label').classList.toggle('hide');\n        document.getElementById('day_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='day_bar'>\n                    <p className=\"time-selection\" id=\"day_text\">{this.props.day}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Day'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='day_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='day_label'>Day</p>\n            </div>\n        );\n    }\n}\n\nexport default (DayControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\n\nclass Bar extends React.Component {\n    handleHover(num) {\n        this.props.onHover(num);\n    }\n    render() {\n        return(\n            <div className=\"bar-container\">\n                <div className=\"day\" id={'day' + this.props.number}>{this.props.day}</div>\n                <div className=\"bar\" id={'bar' + this.props.number} \n                    onClick={() => this.props.onClick(this.props.number)}\n                    onMouseEnter={() => this.handleHover(this.props.number)}\n                    onMouseLeave={() => this.handleHover(this.props.current)}\n                    style={{height: String(this.props.height*8) + 'vw'}}></div>\n            </div>\n        );}\n  }\n\n  export default (Bar);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass FileControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('file_dropdown').classList.toggle('show');\n        document.getElementById('file_label').classList.toggle('hide');\n        document.getElementById('file_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        var fileName = this.props.file;\n        const file = fileName.slice(9,12) + ':' + fileName.slice(12,14) + ':' + fileName.slice(14,16) + 'Z';\n        return(\n            <div>\n                <div className=\"time\" id='file_bar'>\n                    <p className=\"time-selection\">{file}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select File'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='file_dropdown'>\n                    <ul className=\"file-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='file_label'>File</p>\n            </div>\n        );\n    }\n}\n\nexport default (FileControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\n\nclass Order extends React.Component {  \n    render() {\n        return(\n            <div>\n                <div className=\"set\" id={this.props.barID} onClick={() => this.props.onClick(this.props.order)}>\n                    <p className=\"time-selection\">{this.props.order}</p>\n                </div>\n                <p className=\"time-label\" id={this.props.labelID}>{this.props.type}</p>\n            </div>\n        );\n    }\n}\n\nexport default (Order);","export default __webpack_public_path__ + \"static/media/loader.a069fadb.GIF\";","import React from \"react\";\nimport axios from \"axios\";\nimport Header from '../layout/Header';\nimport BinNote from './BinNote';\nimport Plankton from './Plankton';\nimport TimeSeriesControl from './time/TimeSeriesControl';\nimport YearControl from './time/YearControl';\nimport DayControl from './time/DayControl';\nimport Bar from './time/Bar';\nimport FileControl from './time/FileControl';\nimport Order from './time/Order';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport { List, WindowScroller, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { classifyTarget, classifyRow, classifyAll, save, sync } from \"../../actions/classify\";\n\nimport '../../css/classify-styles.css';\nimport loader from \"./loader.GIF\";\nimport toTop from \"../../icons/to-top.png\";\n\nclass Micrometer extends React.Component {\n    render() {\n        return(\n            <div className=\"drag-box\">\n                <div className=\"micrometer-block\"\n                style={{width: (String(34*this.props.scale) + 'vw')}}></div>\n                <p className=\"micrometer-text\">10m</p>\n            </div>\n        );\n    }\n}\n\nclass ClassMenu extends React.Component {\n  render() {\n      const options = this.props.classes.map((x) => \n      <li key={x}><button id={x} onClick={() => this.props.onClick(x)}>{x}</button></li>);\n      return(\n      <div className=\"sidebar\">\n      <div className=\"class-menu\">\n          <div className=\"control-box\">\n            <div className=\"annotation-control\" onClick={() =>  this.props.handleSelectAllClick()}>\n                <p className=\"control-text\">Select All</p>\n            </div>\n            <div className=\"annotation-control\" onClick={() =>  this.props.handleUndoClick()}>\n                <p className=\"control-text\">Undo</p>\n            </div>\n          </div>\n          <ul className=\"class-menu-options\">{options}</ul>\n      </div>\n      <Micrometer scale={this.props.scale}/>\n      </div>\n      );\n  }\n}\n\nclass NavButton extends React.Component {\n    render() {\n        return(\n            <div className={this.props.className} onClick={() => this.props.onClick()}>\n                <p>{this.props.text}</p>\n            </div>\n        )\n    }\n}\n\nclass Annotations extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          newFile: '',\n          newTimeSeries: '',\n          classes: [],\n          classAbbrs: [],\n          classPicker: 'Unclassified',\n          classMark: 'UNC',\n          planktonClickEnabled: true,\n          infoShowing: [],\n          bin: {timeseries:'', ifcb:'', year:'', day:'', file:''},\n          timeSeriesOptions: [],\n          yearOptions: [],\n          dayOptions: [],\n          barHeights: [],\n          fileOptions: [],\n          setOptions: [],\n          filledDays: [],\n          targets: [],\n          history: [],\n          rows: [],\n          scrollToIndex: -1,\n          targetJumpEntry: '',\n          scale: 0.056,\n          set: 1,\n          setDisplay: 1,\n          group: 'Class',\n          sort: 'A to Z',\n          sortCode: 'AZ',\n          lastScroll: 0,\n          dayOption: '',\n          previous: 'Previous',\n          next: 'Next',\n      }\n      this.onTargetJumpSubmit = this.onTargetJumpSubmit.bind(this);\n      this.clearScrollToIndex = this.clearScrollToIndex.bind(this);\n  }\n\n  static propTypes = {\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    classifyTarget: PropTypes.func.isRequired,\n    classifyRow: PropTypes.func.isRequired,\n    classifyAll: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    isSaving: PropTypes.bool,\n    sync: PropTypes.func.isRequired,\n    isSyncing: PropTypes.bool,\n    user: PropTypes.object,\n    onNotebook: PropTypes.bool,\n    onAnalysis: PropTypes.bool,\n  };\n\n  closeDropdown(element) {\n    if (document.getElementById(element + '_dropdown').classList.contains('show')) {\n        document.getElementById(element + '_dropdown').classList.toggle('show');\n        document.getElementById(element + '_label').classList.toggle('hide');\n        document.getElementById(element + '_bar').classList.toggle('accommodate-dropdown');\n    }\n  }\n\n  getNewTimeSeries(option) {\n    this.closeDropdown('timeseries');\n    this.setState({ loading: true });\n    axios\n        .get('/process/timeseries/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: option,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  componentDidMount() {\n    this.setState({ loading: false });\n    const urlInfo = this.props.location.pathname.split('/');\n    if(urlInfo.length<4) {\n        this.getNewTimeSeries('IFCB104');\n    } else {\n        const timeseries = urlInfo[2];\n        const file = urlInfo[3];\n        const sortCode = urlInfo[4];\n        this.setState({ sortCode: sortCode });\n\n        switch(sortCode) {\n            case 'AZ':\n                this.setState({\n                    group: 'Class',\n                    sort: 'A to Z',\n                });\n                break;\n            case 'ZA':\n                this.setState({\n                    group: 'Class',\n                    sort: 'Z to A',\n                });\n                break;\n            case 'LS':\n                this.setState({\n                    group: 'Size',\n                    sort: 'L to S',\n                });\n                break;\n            case 'SL':\n                this.setState({\n                    group: 'Size',\n                    sort: 'S to L',\n                });\n                break;\n            default:\n                // Add redirect to error page here\n                this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n                return;\n        }\n\n        axios\n            .get('/api/timeseries/')\n            .then((res) => {this.setState({ timeSeriesOptions: res.data.map((c) => (c.name)) })})\n            .catch((err) => console.log(err));\n\n            this.setState({\n                loading: true,\n            });\n            axios\n                .get('/classes/IFCB104/')\n                .then((res) => {\n                this.setState({ \n                    classes: res.data.map((c) => (c.display_name.replace('_', ' '))),\n                    classAbbrs: res.data.map((c) => (c.abbr))\n                });\n                })\n                .catch((err) => console.log(err));\n\n        axios\n            .get('/process/file/' + timeseries + '/' + file + '/' + sortCode + \n                '/' + Math.round(this.state.scale * 10000) + '/')\n            .then((res) => {\n                this.setState({ \n                    bin: res.data.bin, \n                    yearOptions: res.data.options.year_options.reverse(),\n                    barHeights: res.data.options.day_options[0],\n                    dayOptions: res.data.options.day_options[1],\n                    fileOptions: res.data.options.file_options,\n                    setOptions: res.data.options.set_options,\n                    rows: res.data.options.rows,\n                    filledDays: res.data.options.filled_days,\n                    dayOption: res.data.bin.day,\n                })\n                axios\n                    .get('/process/targets/' + timeseries + '/' + file + '/' + sortCode + '/')\n                    .then((targetResponse) => {\n                        this.setState({ \n                            targets: targetResponse.data,\n                            history: [JSON.stringify(targetResponse.data)],\n                            loading: false,\n                        });\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n                return;\n            });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.url !== prevProps.match.url) {\n        this.props.history.go(0);\n    }\n  }\n\n  getNewYear(option) {\n    this.closeDropdown('year');\n    this.setState({ loading: true });\n    axios\n        .get('/process/year/' + this.state.bin.timeseries + '/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleBarHover(option) {\n      this.setState({ dayOption: this.state.dayOptions[option] });\n  }\n\n  handleBar(option) {\n    const histogram = document.getElementById('histogram_dropdown').classList;\n    if (histogram.contains('show-day')) {\n        histogram.toggle('show-day');\n    }\n\n    this.closeDropdown('day');\n    this.setState({ loading: true });\n    axios\n        .get('/process/day/' + this.state.bin.timeseries + '/' + this.state.bin.year + '/'  + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleNewDay(option) {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    const newDay = (element) => element === option;\n    const dayNumber = this.state.dayOptions.findIndex(newDay);\n    this.handleBar(dayNumber);\n  }\n\n  handleNewFile(option) {\n\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    this.closeDropdown('file');\n    \n    const file = 'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n    option.slice(0,3) + option.slice(4,6) + option.slice(7,9);\n    \n    this.setState({ \n        newTimeSeries: this.state.bin.timeseries,\n        newFile: file\n    })\n  }\n\n  handleNewGroup(option) {\n    const code = (this.state.group === 'Class') ? 'LS' : 'AZ';\n    this.setState({\n        loading: true,\n        newTimeSeries: this.state.bin.timeseries,\n        newFile: this.state.bin.file,\n        sortCode: code,\n    });\n  }\n\n  handleNewSort(option) {\n    const code = (this.state.group === 'Class') \n        ? (this.state.sort === 'A to Z') ? 'ZA' : 'AZ' \n        : (this.state.sort === 'L to S') ? 'SL' : 'LS';\n    this.setState({\n        loading: true,\n        newTimeSeries: this.state.bin.timeseries,\n        newFile: this.state.bin.file,\n        sortCode: code,\n    });\n  }\n\n  handleMouseOver(element) {\n    element.style.backgroundColor = '#16609F';\n  }\n\n  handleMouseOut(element) {\n    element.style.backgroundColor = '#079CCC';\n  }\n\n  handleMenuClick(name) {\n      const prevMenu = document.getElementById(this.state.classPicker);\n      prevMenu.style.backgroundColor = '#079CCC';\n      prevMenu.addEventListener('mouseover', this.handleMouseOver(prevMenu));\n      prevMenu.addEventListener('mouseout', this.handleMouseOut(prevMenu));\n\n      const ids = document.getElementsByClassName('id');\n      const idTexts = document.getElementsByClassName('id-text');\n      for (let i=0; i<ids.length; i++) {\n          if (ids[i].style.backgroundColor !== '#FFFFFF') {\n            ids[i].style.backgroundColor = '#FFFFFF';\n            idTexts[i].style.color = '#4E4E4E';\n        }\n      }\n\n      const nameAbbr = (element) => element === name;\n      this.setState({ \n          classPicker: name,\n          classMark: this.state.classAbbrs[this.state.classes.findIndex(nameAbbr)],\n        });\n      const menu = document.getElementById(name);\n      menu.removeEventListener('mouseout', this.handleMouseOut(menu));\n      menu.style.backgroundColor = '#16609F';\n      \n      for (const target of this.state.targets) {\n          if (target.class_name === name) {\n              const container = document.getElementById(target.number);\n              const text = document.getElementById(target.number+'-text');\n              container.style.backgroundColor = '#16609F';\n              text.style.color = '#FFFFFF';\n          }\n      }\n  }\n\n  backToTop() {\n    if(document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {\n        if(document.body.scrollTop !== 0) {\n            this.setState({ lastScroll: document.body.scrollTop });\n        } else {\n            this.setState({ lastScroll: document.documentElement.scrollTop });\n        }\n        document.body.scrollTop = 0; // For Safari\n        document.documentElement.scrollTop = 0;\n    } else {\n        document.body.scrollTop = this.state.lastScroll;\n        document.documentElement.scrollTop = this.state.lastScroll;\n    }\n  }\n\n  flipBackToTop() {\n    if (document.getElementById('to-top') !== null) {\n        if(document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {\n            document.getElementById('to-top').classList.remove('flip');\n        } else if (!document.getElementById('to-top').classList.contains('flip')) {\n            document.getElementById('to-top').classList.add('flip');\n        }\n    }\n  }\n\n  handleSelectAllClick() {\n      var targets = this.state.targets;\n      const className = this.state.classPicker;\n      const classAbbrFunc = (element) => element === this.state.classPicker;\n      const classAbbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbrFunc)];\n      for (let i = 0; i < targets.length; i++) {\n          targets[i].class_name = className;\n          targets[i].class_abbr = classAbbr;\n          targets[i].editor = this.props.user.username;\n          const container = document.getElementById(targets[i].number);\n          const text = document.getElementById(targets[i].number+'-text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({ \n          targets: targets,\n          history: this.state.history.concat([JSON.stringify(targets)])\n     });\n     this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.state.sortCode);\n  }\n\n  handleUndoClick() {\n    if (this.state.history.length > 1) {\n      const newHistory = this.state.history.slice(0, this.state.history.length-1);\n      const targets = JSON.parse(newHistory[newHistory.length-1]);\n      const rows = this.state.rows;\n      this.setState({ rows: [] });\n      this.setState({\n          targets: targets,\n          history: newHistory,\n      });\n      this.setState({ rows: rows });\n      this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.state.sortCode);\n    }\n  }\n\n  handleSyncClick() {\n    document.getElementById('sync').classList.toggle('syncing');\n    this.setState({ rows: [] });\n    this.props.sync(this.state.bin.timeseries, this.state.bin.year, this.state.bin.day, this.state.bin.file);\n    axios\n        .get('/process/targets/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.state.sortCode + '/')\n        .then((targetResponse) => {\n            this.setState({ \n                targets: targetResponse.data,\n                history: this.state.history.concat([JSON.stringify(targetResponse.data)]),\n             });\n        });\n    axios\n        .get('process/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + \n            '/' + this.state.sortCode + '/' + Math.round(this.state.scale * 10000) + '/')\n        .then((res) => {this.setState({ \n            rows: res.data.options.rows,\n            loading: false,\n          })})\n        .catch((err) => console.log(err));\n    document.getElementById('sync').classList.toggle('syncing');\n  }\n\n  handleHistogramClick() {\n    const histogram = document.getElementById('histogram');\n    const histogram_dropdown = document.getElementById('histogram_dropdown');\n    histogram_dropdown.classList.toggle('show-day');\n    histogram.scrollTop = histogram.scrollHeight;\n  }\n\n  handleRowClick(j) {\n    var targets = this.state.targets;\n    const row = this.state.rows[j];\n    for (var i in row) {\n        var k = row[i]\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n    }\n    this.setState({ \n        targets: targets,\n        history: this.state.history.concat([JSON.stringify(targets)])\n    });\n    const start = row[0]\n    const end = row[i];\n    const targetRow = targets.slice(start, end+1);\n\n    this.props.classifyRow(targetRow, this.state.bin.timeseries, this.state.bin.file, this.state.sortCode, start, end);\n  }\n\n  disablePlanktonClick(targetNum, bool, infoShowing) {\n    const infoClassList = document.getElementById(targetNum + '-info').classList;\n    if ((infoShowing) || (infoClassList.contains('show-info'))) {\n        if (!this.state.infoShowing.includes(targetNum)) {\n            this.setState({ infoShowing: this.state.infoShowing.concat([targetNum]) });\n        }\n        this.setState({ planktonClickEnabled: false });\n    } else {\n        const newInfoShowing = this.state.infoShowing.filter(function(item) {\n            return item !== targetNum\n        })\n        this.setState({ planktonClickEnabled: bool, infoShowing: newInfoShowing });\n    }\n  }\n\n  handlePlanktonClick(i) {\n    if (this.state.planktonClickEnabled) {\n        var targets = this.state.targets;\n        const k = targets.findIndex(target => target.number === i);\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const history = this.state.history;\n        this.setState({\n            history: history.concat([JSON.stringify(targets)]),\n            targets: targets,\n        });\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n\n        this.props.classifyTarget(targets[k], this.state.bin.timeseries, this.state.bin.file, targets[k].number);\n    }\n  }\n\n  showNotes() {\n      const noteDropdown = document.getElementById(\"note-dropdown\");\n      noteDropdown.classList.toggle('show');\n      const showButton = document.getElementById(\"show-notes-button\");\n      (showButton.innerHTML === \"Show Notes\") ? showButton.innerHTML = \"Hide Notes\" : showButton.innerHTML = \"Show Notes\";\n\n  }\n\n  hideInfo() {\n    const showButton = document.getElementById(\"hide-info-button\");\n    (showButton.innerHTML === \"Hide Info\") ? showButton.innerHTML = \"Show Info\" : showButton.innerHTML = \"Hide Info\";\n    const infoButtons = document.getElementsByClassName('info');\n      for (let i = 0; i < infoButtons.length; i++) {\n          infoButtons[i].classList.toggle('hide');\n      }\n  }\n\n  handleScale(dir) {\n    const initialScale = this.state.scale\n    var  newScale = 0;\n    if (dir === 'up') {\n        newScale = initialScale + 0.01;\n    } else if  (dir === 'down') {\n        newScale = initialScale - 0.01;\n    }\n    axios\n      .get('process/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + \n        '/' + this.state.sortCode + '/' + Math.round((newScale) * 10000) + '/')\n      .then((rowResponse) => { this.setState({ \n          scale: newScale,\n          rows: rowResponse.data.options.rows \n        }); });\n  }\n\n  handleDownload() {\n    document.getElementById('download-src').src = 'http://ifcb-classification.herokuapp.com/mat/' + this.state.bin.ifcb + '/' + this.state.bin.file + '/'\n  }\n\n  renderTimeSeriesControl() {\n    return <TimeSeriesControl\n        timeseries={this.state.bin.timeseries}\n        options={this.state.timeSeriesOptions}\n        onClick={(option) => this.getNewTimeSeries(option)}\n    />;\n  }\n\n  renderYearControl() {\n    return <YearControl\n        year={this.state.bin.year}\n        options={this.state.yearOptions}\n        onClick={(option) => this.getNewYear(option)} \n    />;\n  }\n\n  renderDayControl() {\n    const options = this.state.filledDays.slice().reverse();\n    return <DayControl\n        day={this.state.bin.day} \n        options={options}\n        onClick={(option) => this.handleNewDay(option)}\n    />;\n  }\n\n  renderFileControl() {\n    return <FileControl\n        file={this.state.bin.file} \n        options={this.state.fileOptions}\n        onClick={(option) => this.handleNewFile(option)} \n    />;\n  }\n\n  renderSort() {\n    return <Order\n        type={'Sort'}\n        labelID={'sort_label'}\n        barID={'sort_bar'}\n        order={this.state.sort}\n        onClick={(option) => this.handleNewSort(option)}\n    />;\n  }\n\n  renderGroup() {\n    return <Order\n        type={'Group'}\n        labelID={'group_label'}\n        barID={'group_bar'}\n        order={this.state.group}\n        onClick={(option) => this.handleNewGroup(option)}\n    />;\n  }\n\n  renderSync() {\n    return(\n        <div className=\"round-button sync\" id=\"sync-button\" onClick={() => this.handleSyncClick()}></div>\n    );\n  }\n\n  renderDownload() {\n      return(\n        <div className=\"round-button download\" onClick={() => this.handleDownload()}>\n            <div style={{display: 'none'}}>\n               <iframe id=\"download-src\" />\n            </div>\n        </div>\n      );\n  }\n\n  renderClassMenu() {\n    return <ClassMenu \n          classes={this.state.classes}\n          onClick={(name) => this.handleMenuClick(name)}\n          handleSelectAllClick={() => this.handleSelectAllClick()}\n          handleUndoClick={() => this.handleUndoClick()}\n          scale={this.state.scale}\n      />;\n  }\n\n  renderBar(gb, i) {\n    const currentDay = (element) => element === this.state.bin.day;\n    return <Bar \n        key={i}\n        onClick={(i) => this.handleBar(i)}\n        onHover={(i) => this.handleBarHover(i)}\n        number={i}\n        height={gb}\n        day={this.state.dayOptions[i]}\n        current={this.state.dayOptions.findIndex(currentDay)}\n    />;\n  }\n\n  renderNavButton(direction) {\n    var dir;\n    var text;\n    var className;\n    (direction === 'next') ? (dir = 1) : (dir = -1);\n    (direction === 'next') ? (className = 'next-button') : (className='previous-button');\n\n    const currentFile = (element) => \n        'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n        element.slice(0,3) + element.slice(4,6) + element.slice(7,9) === this.state.bin.file;\n    const fileNumber = this.state.fileOptions.findIndex(currentFile);\n    if ((fileNumber === this.state.fileOptions.length-1 && dir === 1) || (fileNumber === 0 && dir === -1)) {\n        const currentDay = (element) => element === this.state.bin.day;\n        const dayNumber = this.state.filledDays.findIndex(currentDay);\n        if ((dayNumber === this.state.filledDays.length-1 && dir === 1) || (dayNumber === 0 && dir === -1)) {\n            const currentYear = (element) => element === Number(this.state.bin.year);\n            const yearOptions = this.state.yearOptions.slice().reverse()\n            const yearNumber = yearOptions.findIndex(currentYear);\n            if ((yearNumber === yearOptions.length-1 && dir === 1)) {\n                return <NavButton\n                    text={'Up to Date'}\n                    className={'up-to-date-button'}\n                />;\n            } else if (yearNumber === 0 && dir === -1) {\n                return <NavButton\n                    text={'No Previous Data'}\n                    className={'up-to-date-button'}\n                />;\n            } else {\n                text = (direction === 'next') ? ('Next Year   >') : ('<   Previous Year');\n                return <NavButton\n                    text={text}\n                    onClick={() => this.getNewYear(yearOptions[yearNumber + dir])}\n                    className={className}\n                />\n            }\n        } else {\n            text = (direction === 'next') ? ('Next Day   >') : ('<   Previous Day');\n            return <NavButton\n                text={text}\n                onClick={() => this.handleNewDay(this.state.filledDays[dayNumber + dir])}\n                className={className}\n            />\n        }\n    } else {\n        text = (direction === 'next') ? ('Next File   >') : ('<   Previous File');\n        return <NavButton\n            text={text}\n            onClick={() => this.handleNewFile(this.state.fileOptions[fileNumber + dir])}\n            className={className}\n        />\n    }\n\n    \n  }\n\n  renderLoader() {\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\" style={{'margin':'0 0 3vw 0'}}></img>\n  }\n\n  returnToClassify() {\n    this.setState({ newFile: 'blank' });\n  }\n\n  renderNotFound() {\n      return(\n        <div className='main'>\n            <div className=\"page\">\n                <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>File Not Found</h1>\n                        <p className=\"not-found-message\">The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL.</p>\n                        <div className=\"return-button\" onClick={() => this.returnToClassify()}>Return to Classify</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n  }\n\n  clearScrollToIndex() {\n    this.setState({ scrollToIndex: -1 });\n  }\n\n  onTargetJumpChange = e => this.setState({ targetJumpEntry: e.target.value })\n\n  onTargetJumpSubmit = e => {\n    e.preventDefault();\n    this.setState({\n        scrollToIndex: Number(this.state.targetJumpEntry)\n      });\n  }\n\n  renderPage() {\n    const cache = new CellMeasurerCache({\n        defaultHeight: 10,\n        minHeight: 10,\n        fixedWidth: true\n      });\n\n    const scrollToIndex = this.state.scrollToIndex;\n\n    const rowRenderer = ({index, key, parent, style}) => (\n        \n        (this.state.targets.length < 1) ? <div/> : \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={index}\n            >\n            {({ measure, registerChild }) => (\n            <div ref={registerChild} key={key} style={style}>\n                <div onLoad={measure} className=\"row\">\n                    <div className=\"row-select\" \n                        alt={'Select row'} onClick={() => this.handleRowClick(index)}>\n                    </div>\n                    <div className=\"image-row\">\n                        {this.state.rows[index].map((i) => \n                            <Plankton \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                timestamp={this.state.bin.file}\n                                id={i}\n                                targetNum={this.state.targets[i].number}\n                                class_name={this.state.targets[i].class_name}\n                                class_abbr={this.state.targets[i].class_abbr}\n                                height={this.state.targets[i].height}\n                                width={this.state.targets[i].width}\n                                scale={this.state.scale}\n                                ifcb={this.state.bin.ifcb}\n                                editor={this.state.targets[i].editor}\n                                date={this.state.targets[i].date}\n                                onClick={(i) => this.handlePlanktonClick(i)}\n                                infoChange={(targetNum, bool, infoShowing) => this.disablePlanktonClick(targetNum, bool, infoShowing)}\n                                infoShowing={this.state.infoShowing}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n            )}\n            </CellMeasurer>\n        )\n      return(\n        <WindowScroller onScroll={this.clearScrollToIndex}>\n            {({ height, isScrolling, onChildScroll, scrollTop }) => (\n        <div className='main'>\n            <div className=\"page\">\n\n            <div className=\"content\">\n            <div className=\"inner-content\">\n                <h1>Manual Classifications</h1>\n                <div className=\"time-controls\">\n                    {this.renderTimeSeriesControl()}\n                    {this.renderYearControl()}\n                    {this.renderDayControl()}\n                    {this.renderFileControl()}\n                    {this.renderGroup()}\n                    {this.renderSort()}\n                    <div className=\"target-jump-container\">\n                        <form onSubmit={this.onTargetJumpSubmit} id=\"target-jump-form\" className=\"target-jump-form\">\n                            <input\n                                type=\"number\" \n                                className=\"target-jump-input\"\n                                onChange={this.onTargetJumpChange}\n                                value={this.entry}\n                            />\n                        </form>\n                        <p className=\"time-label jump-label\" id='targetjump_label'>Jump to Target</p>\n                    </div>\n                    <div className=\"show-notes-button\" id=\"show-notes-button\" onClick={() => this.showNotes()}>Show Notes</div>\n                    <div className=\"hide-info-button\" id=\"hide-info-button\" onClick={() => this.hideInfo()}>Hide Info</div>\n                    {this.renderSync()}\n                    {this.renderDownload()}\n                    <div className=\"round-button histogram\" onClick={() => this.handleHistogramClick()}></div>\n                    <div className=\"scale-down\" onClick={() => this.handleScale('down')}></div>\n                    <div className=\"scale-up\" onClick={() => this.handleScale('up')}></div>\n                </div>\n                <div className='histogram-dropdown-container' id='histogram_dropdown'>\n                    <div className=\"histogram-dropdown\" id='histogram'>\n                        <div className=\"timeline\">\n                            <div className=\"bars\">\n                                {this.state.barHeights.map((gb, i) => this.renderBar(gb, i))}\n                            </div>\n                            <div className=\"axis\">\n                                <p className=\"month\">Jan</p>\n                                <p className=\"month\">Feb</p>\n                                <p className=\"month\">Mar</p>\n                                <p className=\"month\">Apr</p>\n                                <p className=\"month\">May</p>\n                                <p className=\"month\">Jun</p>\n                                <p className=\"month\">Jul</p>\n                                <p className=\"month\">Aug</p>\n                                <p className=\"month\">Sep</p>\n                                <p className=\"month\">Oct</p>\n                                <p className=\"month\">Nov</p>\n                                <p className=\"month\">Dec</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='day-option'>\n                        <p className='day-option-text'>{this.state.dayOption}</p>\n                    </div>\n                </div>\n                <div className=\"note-container\" id=\"note-dropdown\">\n                    {((this.state.bin.timeseries) === '' || this.state.bin.file === '') ? \n                    <div></div> :\n                    <BinNote \n                        timeseries={this.state.bin.timeseries}\n                        ifcb={this.state.bin.ifcb}\n                        file={this.state.bin.file}\n                        type='bin'\n                        image='None'\n                    /> }\n                </div>\n                <div className=\"annotations\">\n                    {this.renderClassMenu()}\n                    <div className=\"image-grid\" id=\"image-grid\">\n                        {\n                        (this.state.loading || this.props.isSaving) ? this.renderLoader() : console.log()\n                        }\n                        {console.log(\"scroll to index\", scrollToIndex)}\n                        <List\n                            autoHeight\n                            height={height}\n                            rowCount={this.state.rows.length}\n                            rowHeight={cache.rowHeight}\n                            rowRenderer={rowRenderer}\n                            isScrolling={isScrolling}\n                            onScroll={onChildScroll}\n                            scrollTop={scrollTop}\n                            scrollToAlignment=\"start\"\n                            scrollToIndex={scrollToIndex}\n                            width={document.documentElement.clientWidth*0.72}\n                            images={this.state.rows}\n                        />\n                        <img src={toTop} alt=\"Back to Top\" className=\"to-top\" id=\"to-top\" onClick={() => this.backToTop()}></img>\n                    </div>\n                </div>\n                <div className='navigation-container'>\n                    <div style={{'display':'flex'}}>\n                        {this.renderNavButton('previous')}\n                        {this.renderNavButton('next')}\n                    </div>\n                </div>\n            </div>\n            </div>\n\n            </div>\n        </div>\n        )}\n        </WindowScroller>\n      );\n  }\n\n  render() {\n    \n    if(this.props.onNotebook) {\n        return <Redirect to=\"/notebook/\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect to=\"/analysis/\" />\n    }\n\n    if(this.state.newFile.length !== 0) {\n        if (this.state.newFile === 'blank') {\n            return <Redirect to='/classify/' />\n        }\n        const newURL = '/classify/' + this.state.newTimeSeries + '/' + this.state.newFile + '/' + this.state.sortCode;\n        return <Redirect to={newURL} />\n    }\n\n    return(\n        <div className='body'>\n        <title>{'IFCB | ' + this.state.bin.file}</title>\n        <Header />\n        {(this.state.bin.file === 'Not Found') ? this.renderNotFound() : this.renderPage()}\n        \n        <script>{document.addEventListener(\"scroll\", this.flipBackToTop)}</script>\n    </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => ({\n    isSaving: state.classify.isSaving,\n    user: state.auth.user,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps, { classifyTarget, classifyRow, classifyAll, save, sync })(Annotations);","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\nimport { Grid, AutoSizer, CellMeasurerCache, CellMeasurer } from 'react-virtualized';\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport { filterNotebook, receiveNotesChange } from \"../../actions/classify\";\nimport Header from '../layout/Header';\nimport Note from \"./Note\";\nimport '../../css/notebook-styles.css';\n\nclass Filter extends Component {\n    renderOption(option) {\n        return(\n            <div className=\"filter-option\" onClick={() => this.props.applyFilter(this.props.filter, option)}>{option}</div>\n        );\n    }\n    \n    render() {\n        return(\n            <div>\n                <div className=\"filter-choice\" onClick={() => this.props.onClick(this.props.filter)}>\n                    <p className=\"filter-choice-text\">{this.props.filter}</p>\n                    <p className=\"filter-choice-plus\" id={this.props.filter + \"-plus\"}>+</p>\n                </div>\n                <div className=\"filter-dropdown\" id={this.props.filter + \"-dropdown\"}>\n                    {this.props.options.map((option) => (this.renderOption(option[this.props.filter])))}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Notebook extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            notes: [{\n                \"id\": \"\",\n                \"author\": \"\",\n                \"date\": \"\",\n                \"entry\": \"\",\n                \"parent\": null,\n                \"replies\": [],\n                \"timeseries\": \"\",\n                \"ifcb\": \"\",\n                \"file\": \"\",\n                \"image\": \"\"\n            }],\n            flags: [],\n            classes: [],\n            searchTerms: \"\",\n            authors: [{author: ''}],\n            bins: [{bin: ''}],\n            timeseries: [{timeseries: ''}],\n            ifcbs: [{ifcb: ''}],\n            types: [\n                {type: 'Bin Note'}, \n                {type: 'Target Note'}\n            ],\n            appliedFilters: [],\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        notes: PropTypes.array,\n        filterNotebook: PropTypes.func,\n        receiveNotesChange: PropTypes.func,\n        noteChangeFlag: PropTypes.bool\n    }\n\n    getNotebook(filters) {\n        if (filters.length === 0) {\n            axios\n                .get('/notebook/')\n                .then((res) => {\n                    this.setState({ \n                        notes: res.data,\n                        flags: Array(res.data.length).fill(''),\n                    });\n                })\n                .catch((err) => console.log(err));\n        } else {\n            this.props.filterNotebook(filters);\n        }\n    }\n\n    componentDidMount() {\n        this.getNotebook([]);\n        axios\n            .get('/notebook/filters/')\n            .then((res) => {\n                this.setState({ \n                    authors: res.data.options.authors,\n                    bins: res.data.options.bins,\n                    timeseries: res.data.options.timeseries,\n                    ifcbs: res.data.options.ifcbs,\n                });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    componentDidUpdate() {\n        if (this.props.noteChangeFlag) {\n            this.getNotebook(this.state.appliedFilters);\n            this.props.receiveNotesChange();\n        }\n    }\n\n    handleFilterClick() {\n        document.getElementById('filter_dropdown').classList.toggle('show');\n    }\n\n    onChange = e => this.setState({ searchTerms: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        const newAppliedFilters = this.state.appliedFilters.concat([ {category: \"search\", choice: this.state.searchTerms} ]);\n        this.setState({ appliedFilters: newAppliedFilters })\n        this.props.filterNotebook(newAppliedFilters);\n    }\n\n    handleFilterChoiceClick(option) {\n        document.getElementById(option + '-plus').classList.toggle('rotate-plus');\n        document.getElementById(option + '-dropdown').classList.toggle('show');\n    }\n\n    handleApplyFilter(category, choice) {\n        const duplicates = this.state.appliedFilters.filter(entry => (entry['category'] === category) && (entry['choice'] === choice))\n        if (duplicates.length === 0) {\n            const newAppliedFilters = this.state.appliedFilters.concat([ {category: category, choice: choice} ])\n            this.getNotebook(newAppliedFilters);\n            this.setState({ appliedFilters: newAppliedFilters });\n        }\n    }\n\n    handleRemoveFilter(filter) {\n        const applied = this.state.appliedFilters;\n        const index = applied.findIndex(entry => entry === filter);\n        const newAppliedFilters = applied.slice(0, index).concat(applied.slice(index+1,applied.length));\n        this.setState({ appliedFilters: newAppliedFilters });\n        this.getNotebook(newAppliedFilters);\n    }\n\n    renderFilterChoice(filter, options) {\n        return(\n            <Filter\n                filter={filter}\n                options={options}\n                onClick={(option) => this.handleFilterChoiceClick(option)}\n                applyFilter={(category, choice) => this.handleApplyFilter(category, choice)}\n            />\n        );\n    }\n\n    renderAppliedFilters(filter) {\n        return (\n            <div className=\"filter-choice applied\" onClick={() => this.handleRemoveFilter(filter)}>\n                <p className=\"filter-choice-text applied-text\">{filter.category.toUpperCase() + ': ' + filter.choice}</p>\n                <p className=\"filter-choice-plus applied-text rotate-plus\" id={this.props.filter + \"-plus\"}>+</p>\n            </div>\n        );\n    }\n\n\n  render() {\n    if(this.props.onClassify) {\n        return <Redirect to=\"/classify\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect to=\"/analysis/\" />\n    }\n\n    const cache = new CellMeasurerCache({\n        defaultHeight: 200,\n        minHeight: 200,\n        fixedWidth: true\n      });\n\n    // Grid data as an array of arrays\n    const notes = this.state.notes;\n    const username = this.props.user.username;\n    var skips = 0;\n    var rendered = [];\n\n    function renderReply(note, count) {\n        return(\n            <div className=\"reply\" style={{margin: \"0 0 0 \" + String(count) + \"vw\"}}>\n                <Note\n                    note={note}\n                    user={username}\n                    timeseries={note.timeseries}\n                    ifcb={note.ifcb}\n                    file={note.file}\n                    type='bin'\n                    image={note.image}\n                />\n                <div className=\"reply\" style={{margin: \"0 0 0 \" + String((count+1)) + \"vw\"}}>\n                {(note.replies.length !== 0) ?\n                    note.replies.map((reply) => renderReply(reply, count+1)) :\n                    <div></div>\n                }\n                </div>\n            </div>\n        );\n    }\n    \n    function cellRenderer({columnIndex, key, parent, rowIndex, style}) {\n        if ((rowIndex === 0) && (columnIndex === 0)) {\n            skips = 0;\n            rendered = [];\n        }\n        var noteIndex = (3*rowIndex) + columnIndex + skips;\n        if ((noteIndex) < notes.length) {\n            if ((notes[noteIndex].parent !== null) || (rendered.includes(noteIndex))) {\n                while (notes[noteIndex].parent !== null || (rendered.includes(noteIndex))) {\n                    noteIndex = noteIndex + 1;\n                    skips = skips + 1;\n                    if (noteIndex >= notes.length) {\n                        return\n                    }\n                }\n            }\n            rendered = rendered.concat([noteIndex]);\n            const note = notes[noteIndex];\n            const count = 0;\n            var url = '';\n            if (note.image !== 'None') {\n                url = 'http://128.114.25.154:8888/' + note.timeseries + '/' + note.file + '_' + note.ifcb + '_' + note.image + '.jpg';\n            }\n            const flatNote = JSON.stringify(note);\n            const includesFlag = flatNote.includes('true');\n            return (\n                <CellMeasurer\n                    cache={cache}\n                    columnIndex={columnIndex}\n                    key={key}\n                    parent={parent}\n                    rowIndex={rowIndex}\n                >\n                {({ measure, registerChild }) => (\n                    <div ref={registerChild} key={key} style={style}>\n                        <div className=\"notebook-note\" onLoad={measure}>\n                            {(url === '') ? <div></div> : \n                            <img src={url} className=\"notebook-image\" alt={'Target ' + note.image}></img>}\n                            {(includesFlag) ? <div className=\"flag\"></div> : <div></div>}\n                            <div className=\"notebook-entry\"> \n                                <div>\n                                    {(note.image === 'None') ? \n                                    <div className=\"notebook-entry\">\n                                        <p className=\"notebook-entry-heading\">{note.timeseries + ', ' + note.file}</p>\n                                    </div> :\n                                    <div className=\"notebook-entry\">\n                                        <p className=\"notebook-entry-heading\">{'Target ' + note.image}</p>\n                                        <p className=\"notebook-entry-subtitle\">{note.timeseries + ', ' + note.file}</p>\n                                    </div>\n                                    }\n                                    <Note\n                                        note={note}\n                                        user={username}\n                                        timeseries={note.timeseries}\n                                        ifcb={note.ifcb}\n                                        file={note.file}\n                                        type='bin'\n                                        image={note.image}\n                                    />\n                                    {(note.replies.length !== 0) ?\n                                        note.replies.map((reply) => renderReply(reply, count+1)) :\n                                        <div></div>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n                </CellMeasurer>\n            );\n            } else {return}\n      }\n\n    return (\n            <div>\n                <Header />\n                <title>IFCB | Notebook</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Notebook</h1>\n                                <div className=\"filter-button\" onClick={() => this.handleFilterClick()}>Filter</div>\n                            </div>\n                            <div className=\"day-dropdown withmargin\" id='filter_dropdown'>\n                                <form className=\"search-form\" id=\"search-form\" onSubmit={this.onSubmit}>\n                                    <div className=\"search-bar\">\n                                        <div className=\"search-icon\"></div>\n                                        <input\n                                            type=\"text\"\n                                            className=\"search-input\"\n                                            name=\"searchTerms\"\n                                            onChange={this.onChange}\n                                            value={this.state.searchTerms}\n                                        />\n                                    </div>\n                                    <div className=\"applied-filters\">{this.state.appliedFilters.map((filter) => (this.renderAppliedFilters(filter)))}</div>\n                                    <div className=\"filter-buttons\">\n                                        {this.renderFilterChoice('author', this.state.authors)}\n                                        {this.renderFilterChoice('file', this.state.bins)}\n                                        {this.renderFilterChoice('timeseries', this.state.timeseries)}\n                                        {this.renderFilterChoice('ifcb', this.state.ifcbs)}\n                                    </div>\n                                </form>\n                            </div>\n                            <div className=\"notebook-content\">\n                                <AutoSizer>\n                                {({ width, height }) => (\n                                    <Grid\n                                        cellRenderer={cellRenderer}\n                                        columnCount={3}\n                                        columnWidth={document.documentElement.clientWidth*0.29}\n                                        rowHeight={cache.rowHeight}\n                                        deferredMeasurementCache={cache}\n                                        rowCount={Math.ceil(this.state.notes.length/3)}\n                                        height={height}\n                                        width={width}\n                                        notes={this.props.notes}\n                                    />\n                                )}\n                                </AutoSizer>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onClassify: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    noteChangeFlag: state.classify.noteChangeFlag\n });\n\nexport default connect(mapStateToProps, {filterNotebook, receiveNotesChange})(Notebook);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport { goto_classdownload, goto_search } from \"../../actions/menu\";\nimport '../../css/analysis-styles.css';\n\nclass AnalysisOption extends Component {\n    render() {\n        return(\n            <div className=\"analysis-option-container\">\n                <h2 className=\"analysis-option-heading\">{this.props.heading}</h2>\n                <p className=\"analysis-option-description\">{this.props.description}</p>\n                <div className=\"analysis-option-button\" onClick={this.props.handleClick}>Start</div>\n            </div>\n        );\n    }\n}\n\nclass Analysis extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            analysisOptions: [\n                {heading: 'Search', description: \"Find any image or collection of images with the help of classification filtering, file look-up, and more.\"},\n                {heading: 'Download by Class', description: \"Download a ZIP file containing all, or a desired subset of, images classified as a particular species.\"}\n            ]\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onClassDownload: PropTypes.bool,\n        onSearch: PropTypes.bool,\n        goto_classdownload: PropTypes.func,\n        goto_search: PropTypes.func,\n    }\n\n    renderAnalysisOption(option) {\n        var handleClick\n        console.log(option);\n        if (option.heading === 'Search') {\n            handleClick = this.props.goto_search;\n            console.log('Search');\n        } else if (option.heading === 'Download by Class') {\n            handleClick = this.props.goto_classdownload;\n            console.log('Download');\n        }\n        return (\n            <AnalysisOption\n                key={option.heading}\n                heading={option.heading}\n                description={option.description}\n                handleClick={handleClick}\n            />\n        );\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n\n        if(this.props.onClassDownload) {\n            return <Redirect to=\"/analysis/classdownload\" />\n        }\n\n        if(this.props.onSearch) {\n            return <Redirect to=\"/analysis/search\" />\n        }\n\n        return(\n            <div>\n                <Header />\n                <title>IFCB | Analysis</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <div className=\"analysis-options\">\n                                {this.state.analysisOptions.map((option) => (this.renderAnalysisOption(option)))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onNotebook,\n    onClassDownload: state.menu.onClassDownload,\n    onSearch: state.menu.onSearch,\n });\n\nexport default connect(mapStateToProps, { goto_classdownload, goto_search })(Analysis);","import React, { Component } from 'react';\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass ClassDownload extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classes: [],\n            classifiers: [],\n            classChoice: '',\n            optionalChoices: {\n                include: [],\n                exclude: [],\n                number: 'all',\n            },\n            loading: false,\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n    }\n\n    componentDidMount() {\n        axios\n            .get('/classes/IFCB104/')\n            .then((res) => {\n                this.setState({ \n                    classes: res.data.map((c) => (c.display_name)),\n                });\n            })\n            .catch((err) => console.log(err));\n        axios\n            .get('/classdownload/classifiers/')\n            .then((res) => {\n                this.setState({ \n                    classifiers: res.data.options.classifiers,\n                });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    handleClassOptionClick(option) {\n        if (this.state.classChoice !== '') {\n            document.getElementById(this.state.classChoice + '-text').style.color = '#707070';\n            document.getElementById(this.state.classChoice + '-cont').style.backgroundColor = '#F8F7F7';\n        }\n        this.setState({ classChoice: option });\n        document.getElementById(option + '-text').style.color = '#FFFFFF';\n        document.getElementById(option + '-cont').style.backgroundColor = '#16609F';\n    }\n\n    handleClassifierOptionClick(option) {\n        const classifierIncludes = this.state.optionalChoices.include;\n        const classifierExcludes = this.state.optionalChoices.exclude;\n        document.getElementById(option + '-text').style.color = '#707070';\n        document.getElementById(option + '-cont').style.backgroundColor = '#F8F7F7';\n        if (classifierIncludes.includes(option)) {\n            const index = classifierIncludes.indexOf(option);\n            classifierIncludes.splice(index, 1);\n            const newExcludes = classifierExcludes.concat([option]);\n            this.setState({ optionalChoices: {\n                include: classifierIncludes,\n                exclude: newExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#7dad0b';\n            document.getElementById(option + '-text').style.color = '#FFFFFF';\n        } else if (classifierExcludes.includes(option)) {\n            const index = classifierExcludes.indexOf(option);\n            classifierExcludes.splice(index, 1);\n            this.setState({ optionalChoices: {\n                include: classifierIncludes,\n                exclude: classifierExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#F8F7F7';\n            document.getElementById(option + '-text').style.color = '#707070';\n        } else {\n            const newIncludes = classifierIncludes.concat([option]);\n            this.setState({ optionalChoices: {\n                include: newIncludes,\n                exclude: classifierExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#16609F';\n            document.getElementById(option + '-text').style.color = '#FFFFFF';\n        }\n    }\n\n    handleAllClick() {\n        document.getElementById('all-cont').style.backgroundColor = '#16609F';\n        document.getElementById('all-text').style.color = '#FFFFFF';\n        this.setState({ optionalChoices: {\n            include: this.state.optionalChoices.include,\n            exclude: this.state.optionalChoices.exclude,\n            number: 'all'\n        } })\n    }\n\n    handleNumberChange(e) {\n        this.setState({ optionalChoices: {\n            include: this.state.optionalChoices.include,\n            exclude: this.state.optionalChoices.exclude,\n            number: e.target.value\n        } });\n        document.getElementById('all-cont').style.backgroundColor = '#F8F7F7';\n        document.getElementById('all-text').style.color = '#707070';\n    }\n\n    onChange = e => (this.handleNumberChange(e))\n\n    download() {\n        this.setState({ loading: true });\n        const include = (this.state.optionalChoices.include.length < 1) ? ('None') : (this.state.optionalChoices.include.join('-'));\n        const exclude = (this.state.optionalChoices.exclude.length < 1) ? ('None') : (this.state.optionalChoices.exclude.join('-'));\n        const number = this.state.optionalChoices.number\n        document.getElementById('download-src').src = 'http://ifcb-classification.herokuapp.com/classdownload/' + this.state.classChoice + '/' + include + '/' + exclude + '/' + number + '/'\n    }\n\n    loadFrame() {\n        this.setState({ loading: false });\n        console.log('Loaded')\n    }\n\n    renderClassOption(option) {\n        return(\n            <div className=\"filter-choice download-option\" id={option + '-cont'} onClick={() => this.handleClassOptionClick(option)}>\n                <p className=\"filter-choice-text\" id={option + '-text'}>{option}</p>\n            </div>\n        );\n    }\n\n    renderClassifierOption(option) {\n        return(\n            <div className=\"filter-choice download-option\" id={option + '-cont'} onClick={() => this.handleClassifierOptionClick(option)}>\n                <p className=\"filter-choice-text\" id={option + '-text'}>{option}</p>\n            </div>\n        );\n    }\n\n    renderLoader() {\n        return <img src={loader} alt=\"Loading targets...\" width=\"50\" loop=\"infinite\" style={{margin:'2vw 0 0 0'}}></img>\n      }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis\" />\n        }\n\n        return(\n            <div>\n                <Header />\n                <title>IFCB | Class Download</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading\">Download by Class</h2>\n                            <div className=\"download-steps\">\n                                <div className=\"download-step-container\">\n                                    <div className=\"download-step-heading\">\n                                        <div className=\"step-icon\">1</div>\n                                        <p className=\"download-step-text\">Choose a classification</p>\n                                    </div>\n                                    <p className=\"download-step-subtext\">Select one classification name.</p>\n                                    <div className=\"class-options\">\n                                        {this.state.classes.map((option) => (this.renderClassOption(option)))}\n                                    </div>\n                                </div>\n                                <div>\n                                    <div className=\"download-step-container classifiers\">\n                                        <div className=\"download-step-heading\">\n                                            <div className=\"step-icon\">2</div>\n                                            <p className=\"download-step-text\">Choose classifiers (optional)</p>\n                                        </div>\n                                        <p className=\"download-step-subtext\">Click an option once to include it or twice to exclude it.</p>\n                                        <div className=\"class-options\">\n                                            {this.state.classifiers.map((option) => (this.renderClassifierOption(option.editor)))}\n                                        </div>\n                                    </div>\n                                    <div className=\"download-step-container\">\n                                    <div className=\"download-step-heading\">\n                                        <div className=\"step-icon\">3</div>\n                                        <p className=\"download-step-text\">Choose number (optional)</p>\n                                    </div>\n                                    <p className=\"download-step-subtext\">Enter in the number of images to include.</p>\n                                    <div className=\"class-options\">\n                                        <form>\n                                        <input \n                                            type=\"number\" \n                                            id=\"number\" \n                                            name=\"number\" \n                                            min=\"1\"\n                                            onChange={this.onChange}\n                                            value={this.state.optionalChoices.number}\n                                        />\n                                        </form>\n                                        <div className=\"filter-choice download-option\" id={'all-cont'}>\n                                            <p className=\"filter-choice-text\" id={'all-text'} onClick={() => this.handleAllClick()}>All</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"download-button\" onClick={() => this.download()}>Download</div>\n                                <div style={{display: 'none'}}>\n                                    <iframe title=\"Download Images\" id=\"download-src\" onload={() => this.loadFrame()} />\n                                </div>\n                                <div>{ (this.state.loading) ? this.renderLoader() : <div/> }</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps)(ClassDownload);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport { searchTargets, getBins } from \"../../actions/classify\";\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport '../../css/classify-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass Target extends Component {\n    \n    showMore() {\n        document.getElementById(this.props.target.id + '-info').style.display = 'block';\n        document.getElementById(this.props.target.id + '-preview').style.display = 'none';\n        \n        const initialWidth = Number(this.props.target.height);\n        const idWidth = document.getElementById(this.props.target.id + '-info').style.width;\n        const scale = idWidth / initialWidth;\n        const style = {height: String(Number(this.props.target.height)*0.056*scale)+'vw'}\n        document.getElementById(this.props.target.id + '-image').style = style;\n\n    }\n\n    showLess() {\n        document.getElementById(this.props.target.id + '-info').style.display = 'none';\n        document.getElementById(this.props.target.id + '-preview').style.display = 'flex';\n        const style = String(Number(this.props.target.height)*0.056)+'vw'\n        document.getElementById(this.props.target.id + '-image').style.height = style;\n    }\n    \n    render() {\n        if (this.props.bins !== []) {\n            \n            const desiredBin = (element) => element.id === this.props.target.bin;\n            const binIndex = this.props.bins.findIndex(desiredBin);\n            const bin = this.props.bins[binIndex];\n            const url = 'http://128.114.25.154:8888/' + bin.timeseries + '/' + bin.file + '_' + bin.ifcb + '_' + this.props.target.number + '.jpg';\n            \n            return(\n                <div className=\"search-result\">\n                    <img src={url} className=\"image searh-result-image\"\n                        alt={this.props.target.class_name}\n                        id={this.props.target.id + '-image'}\n                        style={{height: String(Number(this.props.target.height)*0.056)+'vw'}}>\n                    </img>\n                    <div className='id' id={this.props.target.id + '-preview'}>\n                        <div className='search-result-plus' id={this.props.target.id + '-plus'} onClick={() => this.showMore()}><p className=\"plus\">+</p></div>\n                    </div>\n                    <div className='id description' style={{display: 'none'}} id={this.props.target.id + '-info'}>\n                        <div className='search-result-plus exit' onClick={() => this.showLess()}>\n                            <p className=\"plus x\">X</p>\n                        </div>\n                        <p className=\"description-heading\">{this.props.target.class_name}</p>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'File: '}</p>\n                            <p>{bin.file}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Time Series: '}</p>\n                            <p>{bin.timeseries}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'IFCB: '}</p>\n                            <p>{bin.ifcb}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Target: '}</p>\n                            <p>{this.props.target.number}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Classifer: '}</p>\n                            <p>{this.props.target.editor}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Date: '}</p>\n                            <p>{this.props.target.date}</p>\n                        </div>\n                        <div className='search-redirect-button' onClick={() => this.props.redirectToFile(bin.timeseries, bin.file)}>Go to File</div>\n                    </div>\n                </div>\n            );\n        }\n        else {\n            return <div/>\n        }\n    }\n}\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            targets: [[]],\n            bins: [[]],\n            basicSearch: '',\n            loading: false,\n            renderable: false,\n            redirectInfo: ''\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        searchTargets: PropTypes.func,\n        targetSearchResults: PropTypes.array,\n        binsSearchResults: PropTypes.array,\n    }\n\n    onChange = e => this.setState({ basicSearch: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.setState({ renderable: false });\n        document.getElementById(\"no-results\").style.display = 'none';\n        this.props.searchTargets(this.state.basicSearch);\n        this.setState({ \n            targets: this.props.targetSearchResults\n        });\n        if (this.props.targetSearchResults === [[]]) {\n            document.getElementById(\"no-results\").style.display = 'flex';\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.targetSearchResults !== this.props.targetSearchResults) {\n            var targets;\n            if (this.props.targetSearchResults[0].length !== undefined) {\n                targets = this.props.targetSearchResults[0];\n            } else {\n                targets = this.props.targetSearchResults;\n            }\n            this.props.getBins(targets.map(target => target.bin));\n        }\n\n        if (prevProps.binsSearchResults !== this.props.binsSearchResults) {\n            this.setState({\n                renderable: true,\n            });\n        }\n    }\n\n    redirectToFile(timeseries, file) {\n        this.setState({ redirectInfo: {timeseries: timeseries, file: file} });\n    }\n\n    renderTarget(target) {\n        return( \n            <Target\n                target={target}\n                bins={this.props.binsSearchResults[0]}\n                key={target.id}\n                redirectToFile={(timeseries, file) => this.redirectToFile(timeseries, file)}\n            />\n        );\n    }\n\n    renderLoader() {\n        return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\"></img>\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect to=\"/classify\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect to=\"/analysis\" />\n        }\n\n        if(this.state.redirectInfo !== '') {\n            const timeseries = this.state.redirectInfo.timeseries;\n            const file = this.state.redirectInfo.file;\n            return <Redirect to={\"/classify/\" + timeseries + \"/\" + file + \"/AZ\"} />\n        }\n\n        var targets;\n        var resultsDisplay;\n        ((typeof this.props.targetSearchResults[0].length !== \"undefined\")) \n           ? (targets = this.props.targetSearchResults[0]) : (targets = this.props.targetSearchResults);\n        (targets.length === 0) ? (resultsDisplay = {display: 'flex'}) : (resultsDisplay = {display: 'none'})\n        \n           return(\n            <div>\n                <Header />\n                <title>IFCB | Search</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading\">Search</h2>\n                            <div>\n                                <form className=\"search-form\" id=\"search-form\" onSubmit={this.onSubmit}>\n                                    <div className=\"search-bar\">\n                                        <div className=\"search-icon\"></div>\n                                        <input\n                                            type=\"text\"\n                                            className=\"search-input\"\n                                            name=\"basicSearch\"\n                                            onChange={this.onChange}\n                                            value={this.state.basicSearch}\n                                        />\n                                    </div>\n                                </form>\n                            </div>\n                            <div>\n                                <p className=\"no-results\" id=\"no-results\" style={resultsDisplay}>No results</p>\n                                <div className=\"image-grid\">\n                                    {\n                                    (this.state.loading) ? this.renderLoader() :\n                                    (this.state.renderable) ? (targets.map((target) => this.renderTarget(target))) : (<div/>)\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    targetSearchResults: state.classify.targetSearchResults,\n    binsSearchResults: state.classify.binsSearchResults,\n });\n\nexport default connect(mapStateToProps, { searchTargets, getBins })(Search);","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\nimport { login } from \"../../actions/auth\";\n\nimport '../../css/auth-styles.css';\n\n\nexport class Login extends Component {\n    state = {\n        username: '',\n        password: '',\n        attempted: false,\n    }\n\n    static propTypes = {\n        login: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        loginFailed: PropTypes.bool,\n        location: PropTypes.string\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.login(this.state.username, this.state.password);\n        this.setState({ attempted: true });\n    }\n\n    onChange = e => this.setState({ \n        [e.target.name]: e.target.value,\n        attempted: false\n    })\n\n    render() {\n        if(document.getElementById('error')) {\n            const error = document.getElementById('error').classList;\n            if(this.props.isAuthenticated) {\n                return <Redirect push to={this.props.location} />\n            } else if(this.props.loginFailed && this.state.attempted) {\n                if (!error.contains('show')) {\n                    error.add('show');\n                }\n            } else {\n                if (error.contains('show')) {\n                    error.remove('show');\n                }\n            }\n        }\n        \n        const { username, password } = this.state;\n        return (\n            <div className='body'>\n                <title>IFCB | Login</title>\n                <main className=\"login-main\">\n                <div className=\"header\">\n                    <h3>IFCB Classification</h3>\n                    <ul className=\"navbar\">\n                        <li className=\"nav-item\">\n                            <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"main-container\">\n                    <div className=\"sub-container\">\n                    <h2>Welcome back.</h2>\n                    <p className='auth-text'>Sign in to start classifying.</p>\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            onChange={this.onChange}\n                            value={username}\n                        />\n                        <label>Username</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.onChange}\n                            value={password}\n                        />\n                        <label>Password</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <p className=\"error-message\" id=\"error\">Incorrect username or password.</p>\n                        <button type=\"submit\" className=\"login-submit\">\n                            Login\n                        </button>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n   isAuthenticated: state.auth.isAuthenticated,\n   loginFailed: state.auth.loginFailed,\n   location: state.auth.location \n});\n\nexport default connect(mapStateToProps, { login })(Login);","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\nimport { register } from \"../../actions/auth\";\n\nexport class Register extends Component {\n    state = {\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n    }\n\n    static propTypes = {\n        register: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n        const { username, email, password, password2 } = this.state;\n        if(password !== password2) {\n            console.log('Passwords do not match.') // change to UI message\n        } else {\n            const newUser = {\n                username,\n                email,\n                password\n            }\n            this.props.register(newUser);\n        }\n    }\n\n    onChange = e => this.setState({ [e.target.name]: e.target.value })\n\n    render() {\n        if(this.props.isAuthenticated) {\n            return <Redirect to=\"/classify\" />;\n        }\n        \n        const { username, email, password, password2 } = this.state;\n        return (\n            <div className='body'>\n                <title>IFCB | Register</title>\n                <main className=\"register-main\">\n                <div className=\"header\">\n                    <h3>IFCB Classification</h3>\n                    <ul className=\"navbar\">\n                        <li className=\"nav-item\">\n                            <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"main-container\">\n                    <div className=\"sub-container\">\n                    <h2>Welcome to Manual Classification.</h2>\n                    <p  className='auth-text'>Create an account to start classifying.</p>\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            onChange={this.onChange}\n                            value={username}\n                        />\n                        <label>Username</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"email\"\n                            onChange={this.onChange}\n                            value={email}\n                        />\n                        <label>Email</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.onChange}\n                            value={password}\n                        />\n                        <label>Password</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password2\"\n                            onChange={this.onChange}\n                            value={password2}\n                        />\n                        <label>Confirm Password</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <button type=\"submit\" className=\"register-submit\">\n                            Create Account\n                        </button>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated \n });\n \n export default connect(mapStateToProps, { register })(Register);","export default __webpack_public_path__ + \"static/media/loader.a069fadb.GIF\";","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { saveLocation } from \"../../actions/auth\";\nimport loader from \"./loader.GIF\";\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n    <Route \n        {...rest}\n        render={props => {\n            saveLocation(window.location.pathname);\n            if(auth.isLoading) {\n                return <img src={loader} alt=\"Loading...\" width=\"80\" loop=\"infinite\"></img>\n            } else if(!auth.isAuthenticated) {\n                return <Redirect to=\"/login\" />\n            } else {\n                return <Component {...props} />;\n            }\n        }}\n    />\n);\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);","import {\n    USER_LOADED,\n    USER_LOADING,\n    LOCATION_SAVED,\n    AUTH_ERROR,\n    LOGIN_ATTEMPT,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n} from '../actions/types';\n\n\nconst initialState = {\n    token: localStorage.getItem('token'),\n    isAuthenticated: null,\n    loginFailed: false,\n    registerFailed: false,\n    isLoading: false,\n    user: null,\n    location: window.location.pathname,\n    locationCount: 1,\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case USER_LOADING:\n            return {\n                ...state,\n                isLoading: true\n            }\n        case USER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                isLoading: false,\n                user: action.payload\n            };\n        case LOCATION_SAVED:\n            return {\n                ...state,\n                location: action.payload\n            }\n        case LOGIN_ATTEMPT:\n            return {\n                ...state,\n                ...action.payload,\n                loginFailed: false\n            }\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated: true,\n                isLoading: false\n            }\n        case AUTH_ERROR:\n        case LOGOUT_SUCCESS:\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false,\n                registerFailed: true,\n            }\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false\n            }\n        case LOGIN_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false,\n                loginFailed: true,\n            }\n            \n        default:\n            return state;\n    }\n}\n\n","import {\n    CLASSIFY_PAGE,\n    NOTEBOOK_PAGE,\n    ANALYSIS_PAGE,\n    CLASSDOWNLOAD_PAGE,\n    SEARCH_PAGE,\n} from '../actions/types';\n\nconst initialState = {\n    onClassify: false,\n    onNotebook: false,\n    onAnalysis: false,\n    onClassDownload: false,\n    onSearch: false,\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case CLASSIFY_PAGE:\n            return {\n                ...state,\n                onClassify: true,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        case NOTEBOOK_PAGE:\n            return {\n                ...state,\n                onClassify: false,\n                onNotebook: true,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n            }\n        \n        case ANALYSIS_PAGE:\n            return {\n                ...state,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: true,\n                onClassDownload: false,\n                onSearch: false,\n            }\n\n        case CLASSDOWNLOAD_PAGE:\n            return {\n                ...state,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: true,\n                onSearch: false,\n            }\n\n        case SEARCH_PAGE:\n            return {\n                ...state,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: true,\n            }\n            \n        default:\n            return state;\n    }\n}\n\n","import {\n    SAVE_PROGRESS,\n    SAVE_SUCCESS,\n    SYNC_PROGRESS,\n    SYNC_SUCCESS,\n    NOTES_CHANGED,\n    NOTES_RECORDED,\n    NOTEBOOK_FILTERED,\n    REPLY_RESOLVED,\n    REPLY_OPEN,\n    TARGETS_BASIC_SEARCHED,\n    BINS_BASIC_SEARCHED\n} from '../actions/types';\n\nconst initialState = {\n    isSaving: false,\n    isSyncing: false,\n    noteChangeFlag: true,\n    replyChangeFlag: false,\n    notes: [],\n    targetSearchResults: [[]],\n    binsSearchResults: [[]],\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case SAVE_PROGRESS:\n            return {\n                ...state,\n                isSaving: true\n            }\n        case SAVE_SUCCESS:\n            return {\n                ...state,\n                isSaving: false\n            }\n        case SYNC_PROGRESS:\n            return {\n                ...state,\n                isSyncing: true\n            }\n        case SYNC_SUCCESS:\n            return {\n                ...state,\n                isSyncing: false\n            }\n        case NOTES_CHANGED:\n            return {\n                ...state,\n                noteChangeFlag: true\n            }\n        case NOTES_RECORDED:\n            return {\n                ...state,\n                noteChangeFlag: false\n            }\n        case REPLY_OPEN:\n            return {\n                ...state,\n                noteChangeFlag: true\n            }\n        case REPLY_RESOLVED:\n            return {\n                ...state,\n                noteChangeFlag: false\n            }\n        case NOTEBOOK_FILTERED:\n            return {\n                ...state,\n                notes: action.payload\n            }\n        case TARGETS_BASIC_SEARCHED:\n            return {\n                ...state,\n                targetSearchResults: ((typeof(action.payload) === Array) ? (action.payload) : ([action.payload]))\n            }\n        case BINS_BASIC_SEARCHED:\n            return {\n                ...state,\n                binsSearchResults: ((typeof(action.payload) === Array) ? (action.payload) : ([action.payload]))\n            }\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport menu from './menu';\nimport classify from './classify';\n\nexport default combineReducers({\n  auth,\n  menu,\n  classify,\n});","import { createStore, applyMiddleware } from \"redux\"\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware)),\n);\n\nexport default store;","import React, { Component } from 'react';\nimport { withRouter } from \"react-router\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport Annotations from './components/annotations/Annotations';\nimport Notebook from './components/features/Notebook';\nimport Analysis from './components/features/Analysis';\nimport ClassDownload from './components/features/ClassDownload';\nimport Search from './components/features/Search';\nimport Login from './components/accounts/Login';\nimport Register from './components/accounts/Register';\nimport PrivateRoute from './components/common/PrivateRoute';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { loadUser } from './actions/auth';\n\nclass App extends Component {\n\n    componentDidMount() {\n        store.dispatch(loadUser());\n    }\n\n    render() {\n        return(\n            <Provider store={store}>\n                <BrowserRouter>\n                    <Switch>\n                        <PrivateRoute \n                            exact path=\"/classify/:timeseries/:file/:sortcode\" \n                            key={window.location.pathname}\n                            component={withRouter(Annotations)} />\n                        <PrivateRoute exact path=\"/classify/\" component={Annotations} />\n                        <PrivateRoute exact path=\"/notebook/\" component={Notebook} />\n                        <PrivateRoute exact path=\"/analysis\" component={Analysis} />\n                        <PrivateRoute exact path=\"/analysis/classdownload\" component={ClassDownload} />\n                        <PrivateRoute exact path=\"/analysis/search\" component={Search} />\n                        <Route exact path=\"/register\" component={Register} />\n                        <Route exact path=\"/login\" component={Login} />\n                        <PrivateRoute exact path=\"/\" component={Annotations} />\n                    </Switch>\n                </BrowserRouter>\n            </Provider>\n        );\n    }\n\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/master.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}