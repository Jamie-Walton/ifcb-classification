(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,s){},178:function(e,t,s){},179:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),a=s(28),o=s.n(a),r=(s(100),s(9)),c=s(10),l=s(12),d=s(11),h=s(21),u=s(23),p=s(15),m=s(7),b=s.n(m),j="USER_LOADING",g="USER_LOADED",f="LOCATION_SAVED",y="AUTH_ERROR",O="LOGIN_ATTEMPT",v="LOGIN_SUCCESS",x="LOGIN_FAIL",N="LOGOUT_SUCCESS",A="REGISTER_SUCCESS",C="REGISTER_FAIL",k="SCALE_CHANGED",w="USER_LOADED",S="PREFERENCES_ERROR",E="HOME_PAGE",B="LEARN_PAGE",I="REGISTER_PAGE",F="LOGIN_PAGE",L="CLASSIFY_PAGE",T="NOTEBOOK_PAGE",D="ANALYSIS_PAGE",R="CLASSDOWNLOAD_PAGE",H="SEARCH_PAGE",M="COMMUNITYREVIEW_PAGE",z="COMMUNITYFILE_PAGE",U="LABREVIEW_PAGE",P="SAVE_SUCCESS",G="SAVE_PROGRESS",Z="SYNC_SUCCESS",Q="SYNC_PROGRESS",J="NOTES_CHANGED",V="NOTES_RECORDED",X="REPLY_OPEN",Y="REPLY_RESOLVED",W="NOTEBOOK_FILTERED",q="TARGETS_BASIC_SEARCHED",K="BINS_BASIC_SEARCHED",_=function(e){var t=e().auth.token,s={headers:{"Content-Type":"application/json"}};return t&&(s.headers.Authorization="Token ".concat(t)),s},$=function(){return function(e){e({type:E})}},ee=function(){return function(e){e({type:B})}},te=function(){return function(e){e({type:L})}},se=function(){return function(e){e({type:M})}},ne=function(){return function(e){e({type:z})}},ie=s(0),ae=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this.props.auth,s=t.isAuthenticated,n=t.user;if(e=this.props.location?this.props.location.pathname:null,this.props.onClassify)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});var i=Object(ie.jsxs)("ul",{className:"logoutbar",children:[Object(ie.jsx)("span",{className:"nav-hello",children:Object(ie.jsx)("strong",{className:"nav-hello",children:n?"Welcome, ".concat(n.username):""})}),Object(ie.jsxs)("div",{className:"login-navbar",children:[Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{onClick:this.props.goto_home,className:"login-nav-link",children:"Home"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{onClick:this.props.goto_learn,className:"login-nav-link",children:"Learn"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{onClick:this.props.goto_classify,className:"login-nav-link",children:"Classify"})})]}),Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)("button",{onClick:this.props.logout,to:"/login",className:"logout",children:"Logout"})})]});null!==this.props.user&&1===this.props.user.groups[0]&&(i=Object(ie.jsxs)("ul",{className:"logoutbar",children:[Object(ie.jsx)("span",{className:"nav-hello",children:Object(ie.jsx)("strong",{className:"nav-hello",children:n?"Welcome, ".concat(n.username):""})}),Object(ie.jsxs)("div",{className:"login-navbar",children:[Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{onClick:this.props.goto_classify,className:"login-nav-link",children:"Classify"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{onClick:this.props.goto_notebook,className:"login-nav-link",children:"Notebook"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{onClick:this.props.goto_analysis,className:"login-nav-link",children:"Analysis"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{href:"http://odontella.oceandatacenter.ucsc.edu:8000/admin/",className:"login-nav-link",children:"Admin"})})]}),Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)("button",{onClick:this.props.logout,to:"/login",className:"logout",children:"Logout"})})]}));var a=Object(ie.jsxs)("ul",{className:"/"===e||"/learn"===e?"fixed-navbar":"navbar",children:[Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)(u.b,{to:"/register",className:"nav-link",onClick:this.props.goto_register,children:"Register"})}),Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)(u.b,{to:"/login",className:"nav-link",onClick:this.props.goto_login,children:"Login"})})]});return Object(ie.jsxs)("header",{className:"/"===e||"/learn"===e?"home-header":"general-header",children:[Object(ie.jsx)("button",{onClick:this.props.goto_home,className:"h3",children:"IFCB Classification"}),s?i:a]})}}]),s}(n.Component),oe=Object(p.b)((function(e){return{auth:e.auth,user:e.auth.user,onHome:e.menu.onHome}}),{logout:function(){return function(e,t){b.a.post("/api/auth/logout/",null,_(t)).then((function(t){e({type:N})}))}},goto_home:$,goto_learn:ee,goto_register:function(){return function(e){e({type:I})}},goto_login:function(){return function(e){e({type:F})}},goto_classify:te,goto_notebook:function(){return function(e){e({type:T})}},goto_analysis:function(){return function(e){e({type:D})}}})(ae),re=s.p+"static/media/ifcb-gallery.095b81b2.png",ce=s.p+"static/media/ditylum-gradient.982b042e.png",le=s.p+"static/media/webpage.33266271.png",de=s.p+"static/media/chaetoceros-gradient.f5286ef9.png",he=s.p+"static/media/lithodesmium-gradient.4b062529.png",ue=s.p+"static/media/centric-gradient.2d5ff084.png",pe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return this.props.onClassify?Object(ie.jsx)(h.a,{push:!0,to:"/classify"}):this.props.onLearn?Object(ie.jsx)(h.a,{push:!0,to:"/learn"}):this.props.onRegister?Object(ie.jsx)(h.a,{push:!0,to:"/register"}):this.props.onLogin?Object(ie.jsx)(h.a,{push:!0,to:"/login"}):this.props.onNotebook?Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"}):this.props.onAnalysis?Object(ie.jsx)(h.a,{push:!0,to:"/analysis/"}):Object(ie.jsxs)("main",{children:[Object(ie.jsx)(oe,{location:this.props.location}),Object(ie.jsx)("div",{className:"landing-hero-container",children:Object(ie.jsxs)("div",{className:"landing-hero",children:[Object(ie.jsx)("h2",{className:"landing-title",children:"Dive Into Phytoplankton"}),Object(ie.jsx)("p",{className:"landing-subtitle",children:"Identify phytoplankton types photographed by a robot! Help us monitor the ever-changing marine environment."}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"landing-hero-button",onClick:this.props.goto_learn,children:"Learn More"}),Object(ie.jsx)("button",{className:"landing-hero-button",onClick:this.props.goto_classify,children:"Classify"})]})]})}),Object(ie.jsxs)("div",{className:"landing-content",children:[Object(ie.jsxs)("div",{className:"main-panel",children:[Object(ie.jsxs)("div",{className:"hor-section",children:[Object(ie.jsx)("img",{className:"hor-image",src:ce,alt:'The community science webpage, which features a title reading "Classify Phytoplankton," a gallery of blank and white microscope images of phytoplankton, and a menu of phytoplankton classification names.'}),Object(ie.jsxs)("div",{className:"hor-text",children:[Object(ie.jsx)("h2",{className:"section-heading",children:"The Classification Project"}),Object(ie.jsx)("p",{className:"section-body",children:"Our community classification tool is expanding phytoplankton identification to everyone. It's a network of community scientists making real change in studying the ocean, tracking harmful algae blooms, and more."})]})]}),Object(ie.jsxs)("div",{className:"side-text",children:[Object(ie.jsx)("h2",{className:"side-heading",children:"You can make a difference for our oceans."}),Object(ie.jsx)("p",{className:"side-body",children:"Community scientists have the potential to drive marine data collection."})]}),Object(ie.jsx)("img",{className:"website-preview",src:le,alt:"A preview of the classification webpage, which includes a tutorial, buttons for picking plankton sample, images for classification, and more."}),Object(ie.jsxs)("div",{className:"get-involved-section",children:[Object(ie.jsx)("img",{src:re,alt:"Cursor clicking plankton images to identify them",width:"80",loop:"infinite",className:"ifcb-gallery"}),Object(ie.jsxs)("div",{className:"side-text",children:[Object(ie.jsx)("h2",{className:"side-heading get-involved-heading",children:"Get Involved"}),Object(ie.jsx)("p",{className:"side-body",children:"Make an account and start classifying! No experience necessary. Explore the beautiful world of phytoplankton while making real contributions to scientific discovery and ocean conservation."}),Object(ie.jsx)("button",{className:"landing-button",onClick:this.props.goto_classify,children:"Start Now"})]})]})]}),Object(ie.jsxs)("div",{className:"external-container",children:[Object(ie.jsxs)("div",{className:"vert-section",children:[Object(ie.jsx)("img",{src:ue,alt:"A circular phytoplankton with a bubblewrap-like texture",className:"vert-image"}),Object(ie.jsxs)("div",{className:"vert-text",children:[Object(ie.jsx)("h2",{className:"vert-heading",children:"Phytoplankton"}),Object(ie.jsx)("p",{className:"vert-body",children:"Phytoplankton are microscopic organisms that drive the ocean food chain."})]}),Object(ie.jsx)("button",{className:"external-button",onClick:this.props.goto_learn,children:"Learn More"})]}),Object(ie.jsxs)("div",{className:"vert-section righthand-container",children:[Object(ie.jsx)("img",{src:de,alt:"A translucent, pillow-like phytoplankton with a dark circular middle",className:"vert-image"}),Object(ie.jsxs)("div",{className:"vert-text",children:[Object(ie.jsx)("h2",{className:"vert-heading",children:"The IFCB"}),Object(ie.jsx)("p",{className:"vert-body",children:"IFCBs are robotic microscopes that collect water and take pictures without a human."})]}),Object(ie.jsx)("button",{className:"external-button",onClick:this.props.goto_learn,children:"Learn More"})]}),Object(ie.jsxs)("div",{className:"vert-section righthand-container",children:[Object(ie.jsx)("img",{src:he,alt:"A translucent, pillow-like phytoplankton with a dark circular middle",className:"vert-image"}),Object(ie.jsxs)("div",{className:"vert-text",children:[Object(ie.jsx)("h2",{className:"vert-heading",children:"The Kudela Lab"}),Object(ie.jsx)("p",{className:"vert-body",children:"We use satellites, robots, and good old fashioned chemistry to understand phytoplankton."})]}),Object(ie.jsx)("button",{className:"external-button",onClick:this.props.goto_learn,children:"Learn More"})]})]})]})]})}}]),s}(n.Component),me=Object(p.b)((function(e){return{onClassify:e.menu.onClassify,onLearn:e.menu.onLearn,onRegister:e.menu.onRegister,onLogin:e.menu.onLogin,onNotebook:e.menu.onNotebook,onAnalysis:e.menu.onAnalysis}}),{goto_learn:ee,goto_classify:te})(pe),be=s.p+"static/media/IFCB-Pier17.59c2c9a4.jpeg",je=s.p+"static/media/IFCB-USGS.834f8185.jpeg",ge=s.p+"static/media/ceratium-drawing.549caaab.png",fe=s.p+"static/media/microscope-plankton.8d40b982.jpg",ye=s.p+"static/media/plankton-circle-gradient-1.5d517b22.png",Oe=s.p+"static/media/plankton-circle-gradient-2.44062e77.png",ve="data:image/png;base64,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",xe=s.p+"static/media/ifcb-green.897e4bbc.png",Ne=s.p+"static/media/community-green.fa6c5c2b.png",Ae=s.p+"static/media/scientist-green.b1ee000d.png",Ce=s.p+"static/media/flow-arrow-blue.9564e0e3.png",ke=s.p+"static/media/flow-arrow-side-blue.66b321f2.png",we=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"expandBasics",value:function(e){var t=document.getElementById(e),s=document.getElementById(e+"-dropdown"),n=document.getElementById(e+"-image");t.classList.toggle("hide"),n.classList.toggle("hide"),s.classList.toggle("flip")}},{key:"render",value:function(){var e=this;return this.props.onClassify?Object(ie.jsx)(h.a,{push:!0,to:"/classify"}):this.props.onHome?Object(ie.jsx)(h.a,{push:!0,to:"/"}):this.props.onNotebook?Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"}):this.props.onAnalysis?Object(ie.jsx)(h.a,{push:!0,to:"/analysis/"}):Object(ie.jsxs)("main",{children:[Object(ie.jsx)(oe,{location:this.props.location}),Object(ie.jsx)("div",{style:{"background-color":"#1fc85e"},children:Object(ie.jsx)("div",{className:"learn-hero",children:Object(ie.jsx)("h2",{className:"learn-title",children:"Learn"})})}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsxs)("div",{className:"learn-page",children:[Object(ie.jsxs)("div",{className:"learn-section-white learn-with-image",children:[Object(ie.jsx)("h3",{className:"learn-heading",children:"Welcome to the Project"}),Object(ie.jsxs)("p",{className:"learn-body",children:["This is a ",Object(ie.jsx)("span",{className:"learn-text-highlight",children:"phytoplankton taxonomy annotation"})," project.",Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),"The phytoplankton images on this site are generated by an Imaging FlowCytobot, or IFCB. The IFCB collects thousands of images of living phytoplankton cells daily, and transmits them to a computer over the internet. There are too many images to be identified by a human in real time, so we develop algorithms to automate the process. That\u2019s what we\u2019re doing here, with your help!",Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),"Initially, it takes the eyes of a trained taxonomist to manually identify images and develop the algorithms. The more images we can collect and identify, the better our algorithm will perform. Once we have a functioning algorithm, we continue to correct and improve it over time. Having more people lend their eyes to the project will give us better results!"]}),Object(ie.jsx)("img",{alt:"An IFCB, a big, black metal cylinder with a blue tube coming from the top, surrounded by other scientific  monitoring instruments.",src:be,className:"learn-section-image"})]}),Object(ie.jsxs)("div",{className:"learn-section-blue",children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("h3",{className:"learn-heading learn-in-white",children:"The Basics"}),Object(ie.jsx)("img",{src:ge,className:"ceratium-decor"})]}),Object(ie.jsxs)("div",{className:"basics-section",children:[Object(ie.jsx)("img",{src:ye,className:"basics-circle-image"}),Object(ie.jsx)("p",{className:"basics-section-header",children:"Plankton"}),Object(ie.jsxs)("p",{className:"basics-section-body",children:["Phytoplankton are tiny, single-celled organisms that drift with the ocean currents. ",Object(ie.jsx)("span",{className:"hide",id:"plankton-basics",children:"Like plants, many species of phytoplankton convert sunlight to energy through photosynthesis, though some types can consume prey."})]}),Object(ie.jsx)("img",{alt:"A variety of plankton seen through a microscope. The majority are long, tapered rectanges with a fluorescent blue and orange color.",className:"basics-section-image hide",id:"plankton-basics-image",src:fe}),Object(ie.jsx)("img",{src:ve,className:"basics-dropdown",id:"plankton-basics-dropdown",onClick:function(){return e.expandBasics("plankton-basics")}})]}),Object(ie.jsxs)("div",{className:"basics-section",children:[Object(ie.jsx)("img",{src:Oe,className:"basics-circle-image"}),Object(ie.jsx)("p",{className:"basics-section-header",children:"IFCBs"}),Object(ie.jsxs)("p",{className:"basics-section-body",children:["An IFCB is an automated microscope with a built-in camera that collects seawater. ",Object(ie.jsxs)("span",{className:"hide",id:"ifcb-basics",children:["The seawater flows through a tiny tube inside the instrument. Images of the phytoplankton cells are taken as they pass one at a time in front of the camera.",Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),"The IFCB is a valuable tool because it runs by itself, around the clock, for weeks at a time. The IFCB collects a seawater sample every 20 minutes, and can produce as many as 20,000 images an hour! All of the images are sent over the internet to a computer."]})]}),Object(ie.jsx)("img",{alt:"A black metal cylinder with a tube at the top, the IFCB, strapped to a blue cabinet inside a boat.",className:"basics-section-image hide",id:"ifcb-basics-image",src:je}),Object(ie.jsx)("img",{src:ve,className:"basics-dropdown",id:"ifcb-basics-dropdown",onClick:function(){return e.expandBasics("ifcb-basics")}})]})]}),Object(ie.jsxs)("div",{className:"learn-section-white",children:[Object(ie.jsx)("h3",{className:"learn-heading",children:"How It Comes Together"}),Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"flow-flex",children:[Object(ie.jsxs)("div",{className:"learn-flow-section left-section",children:[Object(ie.jsxs)("div",{className:"flow-graphics",children:[Object(ie.jsx)("p",{className:"flow-number",children:"1"}),Object(ie.jsx)("img",{alt:"Graphic showing the silhouette of an IFCB against a green circle.",src:xe,className:"flow-icon"})]}),Object(ie.jsx)("p",{className:"flow-header",children:"Sample Collection"}),Object(ie.jsx)("p",{className:"flow-body",children:"The IFCB collects seawater samples and takes images of the phytoplankton."})]}),Object(ie.jsxs)("div",{className:"learn-flow-section",children:[Object(ie.jsxs)("div",{className:"flow-graphics",children:[Object(ie.jsx)("p",{className:"flow-number",children:"2"}),Object(ie.jsx)("img",{alt:"Graphic showing the silhouette of an IFCB against a green circle.",src:"data:image/png;base64,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",className:"flow-icon"})]}),Object(ie.jsx)("p",{className:"flow-header",children:"Auto Classification"}),Object(ie.jsx)("p",{className:"flow-body",children:"The images are run through algorithms that group the phytoplankton by species."})]}),Object(ie.jsx)("img",{src:Ce,className:"flow-arrow-1-to-2"}),Object(ie.jsx)("img",{src:ke,className:"flow-arrow-2-to-3"})]}),Object(ie.jsxs)("div",{className:"flow-flex",children:[Object(ie.jsxs)("div",{className:"learn-flow-section left-section",children:[Object(ie.jsxs)("div",{className:"flow-graphics",children:[Object(ie.jsx)("p",{className:"flow-number",children:"4"}),Object(ie.jsx)("img",{alt:"Graphic showing the silhouette of an IFCB against a green circle.",src:Ae,className:"flow-icon"})]}),Object(ie.jsx)("p",{className:"flow-header",children:"Lab Classification"}),Object(ie.jsx)("p",{className:"flow-body",children:"Scientists from the Kudela Lab review all community classifications, then use the data for their work."})]}),Object(ie.jsxs)("div",{className:"learn-flow-section",children:[Object(ie.jsxs)("div",{className:"flow-graphics",children:[Object(ie.jsx)("p",{className:"flow-number",children:"3"}),Object(ie.jsx)("img",{alt:"Graphic showing the silhouette of an IFCB against a green circle.",src:Ne,className:"flow-icon"})]}),Object(ie.jsx)("p",{className:"flow-header",children:"Community Classification"}),Object(ie.jsx)("p",{className:"flow-body",children:"Community scientists find misclassifications and identify the species that befuddled the algorithm."})]}),Object(ie.jsx)("img",{src:Ce,className:"flow-arrow-3-to-4"})]})]})]}),Object(ie.jsxs)("div",{className:"learn-section-blue plankton-decor",children:[Object(ie.jsx)("h3",{className:"learn-heading learn-in-white",children:"Ocean Conservation Starts With You"}),Object(ie.jsx)("p",{className:"learn-body learn-in-white learn-body-wide",children:"Phytoplankton are vital to the health of our oceans, and our planet. Scientists use many tools to monitor the ever-changing phytoplankton community, but the vast and dynamic nature of the ocean makes the work challenging. Image recognition technology is one of the newest methods used for phytoplankton monitoring, and by participating in this project, you are taking part in cutting-edge science!"})]}),Object(ie.jsxs)("div",{className:"learn-section-white",children:[Object(ie.jsx)("h3",{className:"learn-heading",children:"The Kudela Lab"}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{className:"learn-body learn-body-wide",children:"In the Kudela Lab at UC Santa Cruz, we use microscopes, satellites, robots, and good old fashioned chemistry to understand phytoplankton. Phytoplankton are the unsung heroes of our planet, providing food for everything from krill to whales, and producing much of the oxygen in our atmosphere. The dynamic and ever-changing phytoplankton community is made up of thousands of different species, and we use an array of tools to examine what kinds are in the water at different times and under different conditions."}),Object(ie.jsx)("a",{className:"learn-button",href:"http://oceandatacenter.ucsc.edu/",children:"Learn More"})]})]})]})})]})}}]),s}(n.Component),Se=Object(p.b)((function(e){return{onClassify:e.menu.onClassify,onHome:e.menu.onHome,onNotebook:e.menu.onNotebook,onAnalysis:e.menu.onAnalysis}}))(we),Ee=s(85),Be=s(36),Ie=function(e){return function(t){t({type:k,payload:e})}},Fe=(s(25),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={recentChecked:!0,phytoGuideChecked:!0,sortChecked:{AZ:!0,ZA:!1,LS:!1,SL:!1},scaleEntry:560},n.onSortChange=n.onSortChange.bind(Object(Be.a)(n)),n.onScaleChange=n.onScaleChange.bind(Object(Be.a)(n)),n.onLoadChange=n.onLoadChange.bind(Object(Be.a)(n)),n.onPhytoGuideChange=n.onPhytoGuideChange.bind(Object(Be.a)(n)),n}return Object(c.a)(s,[{key:"componentDidMount",value:function(){switch(this.props.sort){case"AZ":this.setState({sortChecked:{AZ:!0,ZA:!1,LS:!1,SL:!1}});break;case"ZA":this.setState({sortChecked:{AZ:!1,ZA:!0,LS:!1,SL:!1}});break;case"LS":this.setState({sortChecked:{AZ:!1,ZA:!1,LS:!0,SL:!1}});break;case"SL":this.setState({sortChecked:{AZ:!1,ZA:!1,LS:!1,SL:!0}})}this.setState({recentChecked:"recent"===this.props.load,phytoGuideChecked:!0===this.props.phytoGuide,scaleEntry:this.props.scale})}},{key:"close",value:function(){document.getElementById("overlay").style.display="none",document.getElementById("preferences").classList.toggle("show-pref"),this.props.history.go(0)}},{key:"onScaleChange",value:function(e){this.setState({scaleEntry:e.target.value}),this.props.changeScale(e.target.value),this.props.setScalePreference(e.target.value,this.props.user.username)}},{key:"onSortChange",value:function(e){switch(e.target.value){case"AZ":this.setState({sortChecked:{AZ:!0,ZA:!1,LS:!1,SL:!1}}),this.props.setSortPreference({AZ:!0,ZA:!1,LS:!1,SL:!1},this.props.user.username);break;case"ZA":this.setState({sortChecked:{AZ:!1,ZA:!0,LS:!1,SL:!1}}),this.props.setSortPreference({AZ:!1,ZA:!0,LS:!1,SL:!1},this.props.user.username);break;case"LS":this.setState({sortChecked:{AZ:!1,ZA:!1,LS:!0,SL:!1}}),this.props.setSortPreference({AZ:!1,ZA:!1,LS:!0,SL:!1},this.props.user.username);break;case"SL":this.setState({sortChecked:{AZ:!1,ZA:!1,LS:!1,SL:!0}}),this.props.setSortPreference({AZ:!1,ZA:!1,LS:!1,SL:!0},this.props.user.username)}}},{key:"onLoadChange",value:function(e){switch(e.target.value){case"recent":this.setState({recentChecked:!0});break;case"edited":this.setState({recentChecked:!1})}this.props.setLoadPreference(e.target.value,this.props.user.username)}},{key:"onPhytoGuideChange",value:function(e){switch(e.target.value){case"True":this.setState({phytoGuideChecked:!0});break;case"False":this.setState({phytoGuideChecked:!1})}this.props.setPhytoGuidePreference(e.target.value,this.props.user.username)}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)("div",{className:"preferences-window",id:"preferences",children:[Object(ie.jsx)("div",{className:"window-close",onClick:function(){return e.close()}}),Object(ie.jsx)("h1",{className:"preferences-heading",children:"Preferences"}),Object(ie.jsxs)("div",{className:"preferences-container",children:[Object(ie.jsxs)("div",{className:"left-pref-col",children:[Object(ie.jsxs)("div",{className:"pref-category",children:[Object(ie.jsx)("p",{className:"pref-subheading",children:"On Website Load"}),Object(ie.jsxs)("div",{className:"pref-form",children:[Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("input",{type:"radio",name:"load",id:"recent",className:"pref-radio",value:"recent",checked:this.state.recentChecked,onChange:this.onLoadChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"recent",children:"Load most recent file"})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("input",{type:"radio",name:"load",id:"edited",className:"pref-radio",value:"edited",checked:!this.state.recentChecked,onChange:this.onLoadChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"edited",children:"Load last edited file"})]})]})]}),Object(ie.jsxs)("div",{className:"pref-category",style:{margin:"2vw 0 0 0"},children:[Object(ie.jsx)("p",{className:"pref-subheading",children:"Show PhytoGuide"}),Object(ie.jsxs)("div",{className:"pref-form",children:[Object(ie.jsx)("input",{type:"radio",name:"phytoguide",id:"showPhytoGuide",className:"pref-radio",value:"True",checked:this.state.phytoGuideChecked,onChange:this.onPhytoGuideChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"recent",children:"Show guide"})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("input",{type:"radio",name:"phytoguide",id:"showPhytoGuide",className:"pref-radio",value:"False",checked:!this.state.phytoGuideChecked,onChange:this.onPhytoGuideChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"edited",children:"Do not show guide"})]})]})]}),Object(ie.jsxs)("div",{className:"right-pref-col",children:[Object(ie.jsxs)("div",{className:"pref-category",children:[Object(ie.jsx)("p",{className:"pref-subheading",children:"Sort Targets"}),Object(ie.jsxs)("div",{className:"pref-form",children:[Object(ie.jsx)("input",{type:"radio",name:"sort",id:"AZ",className:"pref-radio",value:"AZ",checked:this.state.sortChecked.AZ,onChange:this.onSortChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"recent",children:"By class, from A to Z"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("input",{type:"radio",name:"sort",id:"ZA",className:"pref-radio",value:"ZA",checked:this.state.sortChecked.ZA,onChange:this.onSortChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"edited",children:"By class, from Z to A"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("input",{type:"radio",name:"sort",id:"LS",className:"pref-radio",value:"LS",checked:this.state.sortChecked.LS,onChange:this.onSortChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"edited",children:"By size, from largest to smallest"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("input",{type:"radio",name:"sort",id:"SL",className:"pref-radio",value:"SL",checked:this.state.sortChecked.SL,onChange:this.onSortChange}),Object(ie.jsx)("label",{className:"pref-radio-label",for:"edited",children:"By size, from smallest to largest"}),Object(ie.jsx)("br",{})]})]}),Object(ie.jsxs)("div",{className:"pref-category",style:{margin:"2vw 0 0 0"},children:[Object(ie.jsx)("p",{className:"pref-subheading",children:"Image Scale"}),Object(ie.jsx)("div",{className:"pref-form",children:Object(ie.jsx)("input",{type:"number",name:"scale",id:"scale",value:this.state.scaleEntry,className:"target-jump-container scale",step:"0.01",onChange:this.onScaleChange})})]})]})]})]})}}]),s}(i.a.Component)),Le=Object(p.b)((function(e){return{user:e.auth.user}}),{changeScale:Ie,setLoadPreference:function(e,t){return function(s,n){b.a.post("/preferences/setload/"+t+"/",JSON.stringify(e),{headers:{"Content-Type":"application/json"}},_(n)).catch((function(e){return console.log(e)}))}},setScalePreference:function(e,t){return function(s,n){b.a.post("/preferences/setscale/"+t+"/",JSON.stringify(e),{headers:{"Content-Type":"application/json"}},_(n)).catch((function(e){return console.log(e)}))}},setSortPreference:function(e,t){return function(s,n){var i;e.AZ?i="AZ":e.ZA?i="ZA":e.LS?i="LS":e.SL&&(i="SL"),b.a.post("/preferences/setsort/"+t+"/",JSON.stringify(i),{headers:{"Content-Type":"application/json"}},_(n)).catch((function(e){return console.log(e)}))}},setPhytoGuidePreference:function(e,t){return function(s,n){b.a.post("/preferences/setphytoguide/"+t+"/",JSON.stringify(e),{headers:{"Content-Type":"application/json"}},_(n)).catch((function(e){return console.log(e)}))}}})(Fe),Te=function(){return function(e,t){e({type:J})}},De=function(){return function(e,t){e({type:V})}},Re=function(e,t,s,n,i,a,o,r){return function(c,l){var d=JSON.stringify({author:e,entry:t,parent:s,replies:n,timeseries:i,ifcb:a,file:o,image:r});b.a.post("/add/note/",d,{headers:{"Content-Type":"application/json"}},_(l)).catch((function(e){return console.log(e)}))}},He=function(e,t,s,n,i,a){return function(o,r){b.a.put("/edit/targetrow/"+t+"/"+s+"/"+n+"/"+i+"/"+a+"/",e,_(r)).catch((function(e){return console.log(e)}))}},Me=function(e,t,s,n,i,a){return function(o,r){b.a.put("/edit/all/"+e+"/"+t+"/"+s+"/"+n+"/"+i+"/"+a+"/",_(r)).catch((function(e){return console.log(e)}))}},ze=function(e,t,s,n){return function(i,a){i({type:G}),b.a.put("/save/"+t+"/"+s+"/"+n+"/",e,_(a)).then((function(e){i({type:P})})).catch((function(e){return console.log(e)}))}},Ue=function(e,t,s,n){return function(i,a){i({type:Q}),b.a.get("sync/"+e+"/"+t+"/"+s+"/"+n+"/").then((function(e){i({type:Z})})).catch((function(e){return console.log(e)}))}},Pe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={entry:""},e.onChange=function(t){return e.setState({entry:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.addBinNote(e.props.user,e.state.entry,e.props.note.id,[],e.props.timeseries,e.props.ifcb,e.props.file,e.props.image),e.props.sendNotesChange(),document.getElementById("note-form").reset(),document.getElementById("reply-form"+e.props.note.id).classList.toggle("show")},e}return Object(c.a)(s,[{key:"reply",value:function(e){document.getElementById("reply-form"+e).classList.toggle("show"),this.props.sendReplyOpen()}},{key:"delete",value:function(e){this.props.deleteBinNote(e),this.props.sendNotesChange()}},{key:"flag",value:function(e){this.props.flagBinNote(e),this.props.sendNotesChange()}},{key:"getFlagButton",value:function(e){return e?"Unflag":"Flag"}},{key:"render",value:function(){var e=this,t=this.props.note,s=t.id,n=t.author,i=t.date,a=t.entry,o=(t.parent,t.replies,t.timeseries,t.file,t.image,t.flag);return Object(ie.jsxs)("div",{className:this.props.type+"-note",id:s,children:[Object(ie.jsxs)("div",{className:this.props.type+"-note-header",children:[Object(ie.jsx)("p",{className:"note-author",children:n}),Object(ie.jsx)("p",{className:"note-date",children:i.slice(0,10)}),o?Object(ie.jsx)("div",{className:"flag-small"}):Object(ie.jsx)("div",{})]}),Object(ie.jsx)("p",{className:this.props.type+"-note-entry",children:a}),"bin"===this.props.type?Object(ie.jsx)("button",{className:"reply-button",onClick:function(){return e.reply(s)},children:"Reply"}):Object(ie.jsx)("div",{}),n===this.props.user?Object(ie.jsx)("button",{className:"reply-button",onClick:function(){return e.delete(s)},children:"Delete"}):Object(ie.jsx)("div",{}),n===this.props.user?Object(ie.jsx)("button",{className:"reply-button",onClick:function(){return e.flag(s)},children:this.getFlagButton(o)}):Object(ie.jsx)("div",{}),Object(ie.jsx)("div",{className:"reply-form",id:"reply-form"+s,children:Object(ie.jsx)("form",{onSubmit:this.onSubmit,id:"note-form",children:Object(ie.jsxs)("div",{className:"new-note",children:[Object(ie.jsx)("input",{type:"textarea",rows:"10",className:"note-input",name:"note-entry",id:"note-entry",onChange:this.onChange,value:this.entry}),Object(ie.jsx)("button",{type:"submit",className:this.props.type+"-note-submit"})]})})})]})}}]),s}(i.a.Component),Ge=Object(p.b)((function(e){return{notes:e.classify.notes}}),{addBinNote:Re,deleteBinNote:function(e){return function(t,s){b.a.delete("/delete/note/"+e+"/",_(s)).catch((function(e){return console.log(e)}))}},flagBinNote:function(e){return function(t,s){b.a.put("/flag/note/"+e+"/",_(s)).catch((function(e){return console.log(e)}))}},sendNotesChange:Te,sendReplyOpen:function(){return function(e,t){e({type:X})}}})(Pe),Ze=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={entry:"",parents:[],notes:[]},e.onChange=function(t){return e.setState({entry:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.addBinNote(e.props.user.username,e.state.entry,null,[],e.props.timeseries,e.props.ifcb,e.props.file,e.props.image),e.props.sendNotesChange(),e.getNotes(),document.getElementById("note-form").reset()},e}return Object(c.a)(s,[{key:"getNotes",value:function(){var e=this;b.a.get("/process/note/"+this.props.timeseries+"/"+this.props.file+"/"+this.props.image+"/").then((function(t){e.setState({notes:t.data})})).catch((function(e){return console.log(e)}))}},{key:"renderNote",value:function(e,t){var s=this;if(null!==e.parent){for(var n=e,i=0;null!==n.parent;){n=this.state.notes[this.state.notes.findIndex((function(e){return e.id===n.parent}))];i+=1}if(t!==i)return}return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Ge,{note:e,user:this.props.user.username,timeseries:this.props.timeseries,ifcb:this.props.ifcb,file:this.props.file,type:this.props.type,image:this.props.image}),Object(ie.jsx)("div",{className:"reply",style:{margin:"0 0 0 "+String(t+1)+"vw"},children:0!==e.replies.length?e.replies.map((function(e){return s.renderNote(e,t+1)})):Object(ie.jsx)("div",{})})]})}},{key:"componentDidMount",value:function(){this.getNotes()}},{key:"componentDidUpdate",value:function(){this.props.noteChangeFlag&&(this.props.receiveNotesChange(),this.getNotes()),this.props.replyChangeFlag&&(this.props.receiveReplyOpen(),this.getNotes())}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)("div",{className:this.props.type+"-notes-content",children:["bin"===this.props.type?Object(ie.jsx)("div",{className:"refresh",onClick:function(){return e.getNotes()}}):Object(ie.jsx)("div",{}),Object(ie.jsx)("div",{id:"note-container",children:this.state.notes.map((function(t){return e.renderNote(t,0)}))}),Object(ie.jsx)("div",{className:this.props.type+"-note-form",children:Object(ie.jsxs)("form",{onSubmit:this.onSubmit,id:"note-form",children:[Object(ie.jsxs)("div",{className:this.props.type+"-new-note",children:[Object(ie.jsx)("input",{type:"textarea",rows:"10",className:this.props.type+"-note-input",name:this.props.type+"-note-entry",id:"note-entry",onChange:this.onChange,value:this.entry}),Object(ie.jsx)("button",{type:"submit",className:this.props.type+"-note-submit"})]}),this.state.notes===[]?Object(ie.jsx)("p",{className:"bin-note-label",children:"Add a Note"}):Object(ie.jsx)("div",{})]})})]})}}]),s}(i.a.Component),Qe=Object(p.b)((function(e){return{noteChangeFlag:e.classify.noteChangeFlag,replyChangeFlag:e.classify.replyChangeFlag,user:e.auth.user}}),{addBinNote:Re,sendNotesChange:Te,receiveNotesChange:De,receiveReplyOpen:function(){return function(e,t){e({type:Y})}}})(Ze),Je=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props.nameSpace+this.props.timestamp+"_"+this.props.ifcb+"_"+this.props.targetNum+".jpg";return Object(ie.jsx)("img",{src:e,className:"image "+this.props.status,alt:this.props.classification,id:this.props.targetNum+"-image",style:{height:String(Number(this.props.height)*this.props.scale)+"vw"}})}}]),s}(i.a.Component),Ve=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={checkStatus:"",infoStatus:"",imageStatus:"",infoButtonStatus:""},n}return Object(c.a)(s,[{key:"renderImage",value:function(){return Object(ie.jsx)(Je,{nameSpace:"http://akashiwo.oceandatacenter.ucsc.edu:8000/data/",timestamp:this.props.timestamp,timeseries:this.props.timeseries,ifcb:this.props.ifcb,targetNum:this.props.targetNum,classification:this.props.class_name,height:this.props.height,scale:this.props.scale,status:this.state.imageStatus})}},{key:"getHeight",value:function(){return this.props.height<0?"5":String(Number(this.props.height)*this.props.scale+2.25)}},{key:"getWidth",value:function(){return this.props.width<0?"5":String(Number(this.props.width)*this.props.scale)}},{key:"handleInfoClick",value:function(){this.props.infoChange(this.props.targetNum,!1,!0),""===this.state.infoStatus?this.setState({infoStatus:"show-info"}):this.setState({infoStatus:""}),""===this.state.imageStatus?this.setState({imageStatus:"hide"}):this.setState({imageStatus:""})}},{key:"onCheck",value:function(e){""===this.state.checkStatus?this.setState({checkStatus:"checked"}):this.setState({checkStatus:""}),this.props.onCheck(e)}},{key:"render",value:function(){var e=this,t={height:this.getHeight()+"vw",width:this.getWidth()+"vw"};return Object(ie.jsx)("div",{children:Object(ie.jsx)("div",{className:"plankton-button",id:"plankton-button",onClick:this.props.categorizeMode?function(){return e.onCheck(e.props.targetNum)}:function(){return e.props.onClick(e.props.targetNum)},children:Object(ie.jsxs)("div",{className:"plankton",children:[this.renderImage(),Object(ie.jsx)("div",{className:this.props.public?"hide":"info "+this.props.infoButtonStatus,onMouseEnter:function(){return e.props.infoChange(e.props.targetNum,!1,!1)},onMouseLeave:function(){return e.props.infoChange(e.props.targetNum,!0,!1)},onClick:function(){return e.handleInfoClick()}}),Object(ie.jsxs)("div",{className:"info-div "+this.state.infoStatus,id:this.props.targetNum+"-info",style:t,children:[Object(ie.jsx)("p",{className:"classification-info",children:this.props.class_name}),Object(ie.jsx)("p",{className:"target-num-info",children:"Target "+this.props.targetNum}),Object(ie.jsx)("p",{className:"editor-info",children:"Classified by "+this.props.editor+",\n"+this.props.date}),this.props.infoShowing.includes(this.props.targetNum)&&this.props.noteOption?Object(ie.jsx)(Qe,{timeseries:this.props.timeseries,ifcb:this.props.ifcb,file:this.props.file,type:"target",image:this.props.targetNum}):Object(ie.jsx)("div",{})]}),Object(ie.jsx)("div",{className:this.props.categorizeMode?"id public-id":"id "+this.state.imageStatus,id:this.props.targetNum,children:this.props.categorizeMode?Object(ie.jsx)("div",{className:"plankton-check "+this.state.checkStatus,id:this.props.targetNum+"-check"}):Object(ie.jsx)("p",{className:"id-text",id:this.props.targetNum+"-text",children:this.props.class_abbr})})]})})})}}]),s}(i.a.Component),Xe=s(32),Ye=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(ie.jsxs)("div",{className:"drag-box",children:[Object(ie.jsx)("div",{className:"micrometer-block",style:{width:String(34*this.props.scale)+"vw"}}),Object(ie.jsx)("p",{className:"micrometer-text",children:"10\xb5m"})]})}}]),s}(i.a.Component),We=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={indexSelected:n.props.initial,indexHovered:n.props.initial},n}return Object(c.a)(s,[{key:"handleMenuClick",value:function(e,t){this.setState({indexSelected:t,indexHovered:t}),this.props.onClick(e)}},{key:"handleMouseOver",value:function(e){this.setState({indexHovered:e})}},{key:"handleMouseOut",value:function(){this.setState({indexHovered:this.state.indexSelected})}},{key:"componentDidUpdate",value:function(e){this.props.initial!==e.initial&&this.setState({indexSelected:this.props.initial,indexHovered:this.props.initial})}},{key:"render",value:function(){var e=this,t=this.props.categorizeMode?this.props.categories:this.props.classes,s=this.props.categorizeMode?this.props.descriptions.filter((function(t,s){return e.props.categoryIndices.includes(s)})):this.props.descriptions,n=this.props.categorizeMode?this.props.examples.filter((function(t,s){return e.props.categoryIndices.includes(s)})):this.props.examples,i=this.props.categorizeMode?this.props.nonexamples.filter((function(t,s){return e.props.categoryIndices.includes(s)})):this.props.nonexamples,a=t.map((function(t,s){return Object(ie.jsx)("li",{children:Object(ie.jsx)("button",{id:t,className:"classmenu-button",onClick:function(){return e.handleMenuClick(t,s)},onMouseEnter:function(){return e.handleMouseOver(s)},onMouseLeave:function(){return e.handleMouseOut(s)},children:t})},t)}));return Object(ie.jsxs)("div",{className:"sidebar",children:[Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsxs)("div",{className:this.props.showPhytoGuide?"class-menu with-guide":"class-menu",children:[Object(ie.jsxs)("div",{className:"control-box"+(this.props.public?" hide":""),children:[Object(ie.jsx)("div",{className:"annotation-control",onClick:function(){return e.props.handleSelectAllClick()},children:Object(ie.jsx)("p",{className:"control-text",children:"Select All"})}),Object(ie.jsx)("div",{className:"annotation-control",onClick:function(){return e.props.handleUndoClick()},children:Object(ie.jsx)("p",{className:"control-text",children:"Undo"})})]}),Object(ie.jsx)("ul",{className:"class-menu-options"+(this.props.public?" public-class-menu-options":""),children:a})]}),this.props.showPhytoGuide?Object(ie.jsxs)("div",{className:"phyto-guide",children:[Object(ie.jsx)("p",{className:"phyto-guide-heading",children:t[this.state.indexHovered]}),Object(ie.jsx)("p",{className:"phyto-guide-description",children:s[this.state.indexHovered]}),Object(ie.jsx)("div",{className:"yes-examples",children:n.length>0?n[this.state.indexHovered].map((function(s){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("img",{src:"data:image/png;base64,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",className:"phyto-guide-icon"}),Object(ie.jsx)("img",Object(Xe.a)({src:s,className:"image",alt:t[e.state.indexHovered]+" example"},"className","phyto-guide-image"))]})})):Object(ie.jsx)("div",{})}),Object(ie.jsxs)("div",{className:"no-examples",children:[i.length>0&&i[this.state.indexHovered].length?Object(ie.jsx)("p",{className:"phyto-guide-nonexample-heading",children:"Don't confuse with:"}):Object(ie.jsx)("div",{}),i.length>0?i[this.state.indexHovered].map((function(s){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("img",{src:"data:image/png;base64,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",className:"phyto-guide-icon"}),Object(ie.jsx)("img",Object(Xe.a)({src:s,className:"image",alt:t[e.state.indexHovered]+" non-example"},"className","phyto-guide-image"))]})})):Object(ie.jsx)("div",{})]})]}):Object(ie.jsx)("div",{})]}),Object(ie.jsx)(Ye,{scale:this.props.scale})]})}}]),s}(i.a.Component),qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAFQAAAAA5bZMmAAACKUlEQVQ4EZVV0VEbQQzV7sEP4Bk64PzpeMyQCkIqgFQQdxCoIEcFdgcMFUAHwR1kbA5/2u4gGUx+8N1Gb+O70e7pnGFnYLVP0tNqJZ3NYrE4fl2v7w3ROTm3pCT50u/3f9I7V57nZ64sR+BxRI/G2mvw2D/r9YMnB6ExqSuKHwj6Tn6isqx5PF9R3IPD8t8nSWaMOX59eRlL7H9yPptlbHMS2PFlcVEEmAQKPnCQr/P5PI1x7QwS59w3Rbfqdru/LEfIFCUVm82thscYP3GGrGOc65kB4+ci4hQfeQueCjgH/9wbDKBTF7IsN5uFolz1B4MUOJ6I7N7eEHu8SqJRjMlz+fam1opJh5WdD9Dr9Zb8jncVKPazfDqtjQVO89nsnIt1IbGtPJFZ+wBQHHY6V/xuvxWH7wpGnF2m4WTtlcTrAKg436iZMrfbtg1rv+fp9JIPjZrhFeIhrQPA++DoaKxlgTaUw+e0i7B/sr+fgUeuIIDPgihIEcZoQ7Qj5OenJ+hPIEfrBrWMsH9tGoP8JDBsklj7EZ+SRt9z7Q46nXR7wYAuyKDSMDisZLmr5GzAH7ZMI4evHzRJUsltw1fpxV4PlcBqUc3Aa6N2qz0iwTjXqJk0aQ2AdmsZPuk/+XB6+iCBWG4NAEPfdvrweR52zryw49/OAL7tWnoe2clPQluMnQHg5IePaBUQcFbaUAU220NrF0ljTDF+5bj/U7750iTJOP4kSHsp/wWEFsqR3igYKgAAAABJRU5ErkJggg==",Ke=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"handleDropdown",value:function(){document.getElementById("timeseries_dropdown").classList.toggle("show"),document.getElementById("timeseries_label").classList.toggle("hide"),document.getElementById("timeseries_bar").classList.toggle("accommodate-dropdown")}},{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){return Object(ie.jsx)("li",{onClick:function(){return e.props.onClick(t)},children:Object(ie.jsx)("button",{id:t,children:t})},t)}));return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"time time-series",id:"timeseries_bar",children:[Object(ie.jsx)("p",{className:"time-selection",children:this.props.timeseries}),Object(ie.jsx)("img",{src:qe,className:"time-icon",alt:"Select time series",onClick:function(){return e.handleDropdown()}})]}),Object(ie.jsx)("div",{className:"time-dropdown time-series",id:"timeseries_dropdown",children:Object(ie.jsx)("ul",{className:"timeseries-option",children:t})}),Object(ie.jsx)("p",{className:"time-label",id:"timeseries_label",children:"Time Series"})]})}}]),s}(i.a.Component),_e=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"handleDropdown",value:function(){document.getElementById("year_dropdown").classList.toggle("show"),document.getElementById("year_label").classList.toggle("hide"),document.getElementById("year_bar").classList.toggle("accommodate-dropdown")}},{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){return Object(ie.jsx)("li",{onClick:function(){return e.props.onClick(t)},children:Object(ie.jsx)("button",{id:t,children:t})},t)}));return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"time",id:"year_bar",children:[Object(ie.jsx)("p",{className:"time-selection",children:this.props.year}),Object(ie.jsx)("img",{src:qe,className:"time-icon",alt:"Select Year",onClick:function(){return e.handleDropdown()}})]}),Object(ie.jsx)("div",{className:"time-dropdown",id:"year_dropdown",children:Object(ie.jsx)("ul",{className:"year-option",children:t})}),Object(ie.jsx)("p",{className:"time-label",id:"year_label",children:"Year"})]})}}]),s}(i.a.Component),$e=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"handleDropdown",value:function(){document.getElementById("day_dropdown").classList.toggle("show"),document.getElementById("day_label").classList.toggle("hide"),document.getElementById("day_bar").classList.toggle("accommodate-dropdown")}},{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){return Object(ie.jsx)("li",{onClick:function(){return e.props.onClick(t)},children:Object(ie.jsx)("button",{id:t,children:t})},t)}));return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"time",id:"day_bar",children:[Object(ie.jsx)("p",{className:"time-selection",id:"day_text",children:this.props.day}),Object(ie.jsx)("img",{src:qe,className:"time-icon",alt:"Select Day",onClick:function(){return e.handleDropdown()}})]}),Object(ie.jsx)("div",{className:"time-dropdown",id:"day_dropdown",children:Object(ie.jsx)("ul",{className:"year-option",children:t})}),Object(ie.jsx)("p",{className:"time-label",id:"day_label",children:"Day"})]})}}]),s}(i.a.Component),et=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"handleHover",value:function(e){this.props.onHover(e)}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)("div",{className:"bar-container",children:[Object(ie.jsx)("div",{className:"day",id:"day"+this.props.number,children:this.props.day}),Object(ie.jsx)("div",{className:"bar",id:"bar"+this.props.number,onClick:function(){return e.props.onClick(e.props.number)},onMouseEnter:function(){return e.handleHover(e.props.number)},onMouseLeave:function(){return e.handleHover(e.props.current)},style:{height:String(.008*this.props.height)+"vw"}})]})}}]),s}(i.a.Component),tt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"handleDropdown",value:function(){document.getElementById("file_dropdown").classList.toggle("show"),document.getElementById("file_label").classList.toggle("hide"),document.getElementById("file_bar").classList.toggle("accommodate-dropdown")}},{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){return Object(ie.jsx)("li",{onClick:function(){return e.props.onClick(t)},children:Object(ie.jsx)("button",{id:t,children:t})},t)})),s=this.props.file,n=s.slice(9,12)+":"+s.slice(12,14)+":"+s.slice(14,16)+"Z";return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"time",id:"file_bar",children:[Object(ie.jsx)("p",{className:"time-selection",children:n}),Object(ie.jsx)("img",{src:qe,className:"time-icon",alt:"Select File",onClick:function(){return e.handleDropdown()}})]}),Object(ie.jsx)("div",{className:"time-dropdown",id:"file_dropdown",children:Object(ie.jsx)("ul",{className:"file-option",children:t})}),Object(ie.jsx)("p",{className:"time-label",id:"file_label",children:"File"})]})}}]),s}(i.a.Component),st=s(22),nt=s.p+"static/media/loader.a069fadb.GIF",it=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(ie.jsx)("div",{className:this.props.className,onClick:function(){return e.props.onClick()},children:Object(ie.jsx)("p",{children:this.props.text})})}}]),s}(i.a.Component),at=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={loading:!0,newFile:"",newTimeSeries:"",classes:[],classAbbrs:[],classDescriptions:[],classExamples:[],classNonexamples:[],classPicker:"Unclassified",classMark:"UNC",planktonClickEnabled:!0,infoShowing:[],infoButtonStatus:"",bin:{timeseries:"",ifcb:"",year:"",day:"",file:""},timeSeriesOptions:[],yearOptions:[],dayOptions:[],barHeights:[],fileOptions:[],setOptions:[],filledDays:[],targets:[],targetNumbers:[],history:[],rows:[],scrollToIndex:void 0,jumpEntry:"",jumpSubmit:"",initialTargetJump:"",lastEditBin:"",lastEditTarget:"",scale:.056,lastScroll:0,dayOption:"",previous:"Previous",next:"Next",complete:!1},n.onTargetJumpChange=n.onTargetJumpChange.bind(Object(Be.a)(n)),n.onTargetJumpSubmit=n.onTargetJumpSubmit.bind(Object(Be.a)(n)),n}return Object(c.a)(s,[{key:"closeDropdown",value:function(e){document.getElementById(e+"_dropdown").classList.contains("show")&&(document.getElementById(e+"_dropdown").classList.toggle("show"),document.getElementById(e+"_label").classList.toggle("hide"),document.getElementById(e+"_bar").classList.toggle("accommodate-dropdown"))}},{key:"getNewTimeSeries",value:function(e){var t=this;this.closeDropdown("timeseries"),this.setState({loading:!0}),b.a.get("/process/timeseries/"+e+"/").then((function(s){t.setState({newTimeSeries:e,newFile:s.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!1});var t=this.props.location.pathname.split("/");if(t.length<3)"edited"===this.props.preferences.load?this.jumpToLastEdit():this.getNewTimeSeries("SCW");else{var s=t[2],n=t[3];b.a.get("/api/timeseries/").then((function(t){e.setState({timeSeriesOptions:t.data.map((function(e){return e.name}))})})).catch((function(e){return console.log(e)})),this.setState({loading:!0}),b.a.get("/classes/SCW/").then((function(t){e.setState({classes:t.data.map((function(e){return e.display_name.replace("_"," ")})),classAbbrs:t.data.map((function(e){return e.abbr})),classDescriptions:t.data.map((function(e){return e.description})),classExamples:t.data.map((function(e){return e.examples.split(",").filter((function(e){return e.length>1}))})),classNonexamples:t.data.map((function(e){return e.nonexamples.split(",").filter((function(e){return e.length}))}))})})).catch((function(e){return console.log(e)})),b.a.get("/process/file/"+s+"/"+n+"/"+this.props.preferences.sort+"/"+Math.round(1e3*this.props.preferences.scale)+"/"+this.props.preferences.phytoguide+"/").then((function(t){e.setState({bin:t.data.bin,yearOptions:t.data.options.year_options.reverse(),barHeights:t.data.options.day_options[0],dayOptions:t.data.options.day_options[1],fileOptions:t.data.options.file_options,setOptions:t.data.options.set_options,rows:t.data.options.rows,filledDays:t.data.options.filled_days,dayOption:t.data.bin.day,complete:t.data.bin.complete}),b.a.get("/process/targets/"+s+"/"+n+"/"+e.props.preferences.sort+"/").then((function(t){e.setState({targets:t.data,targetNumbers:t.data.map((function(e){return e.number})),history:[JSON.stringify(t.data)],loading:!1})}))})).catch((function(t){console.log(t),e.setState({bin:{timeseries:"",ifcb:"",year:"",day:"",file:"Not Found"}})}))}this.props.scaleEntry!==this.props.preferences.scale&&this.props.changeScale(this.props.preferences.scale)}},{key:"componentDidUpdate",value:function(e,t){var s=this;if(this.props.match.url!==e.match.url&&this.props.history.go(0),this.state.scrollToIndex!==t.scrollToIndex){var n=this.state.jumpSubmit;this.state.targetNumbers.includes(this.state.jumpSubmit)&&(setTimeout((function(){try{s.highlightTarget(n)}catch(e){console.log()}}),1),setTimeout((function(){try{s.unhighlightTarget(n)}catch(e){console.log()}}),5e3))}}},{key:"highlightTarget",value:function(e){var t=document.getElementById(e),s=document.getElementById(e+"-text");t.style.backgroundColor="#16609F",s.style.color="#FFFFFF"}},{key:"unhighlightTarget",value:function(e){var t=document.getElementById(e),s=document.getElementById(e+"-text");t.style.backgroundColor="#FFFFFF",s.style.color="#4E4E4E"}},{key:"getNewYear",value:function(e){var t=this;this.closeDropdown("year"),this.setState({loading:!0}),b.a.get("/process/year/"+this.state.bin.timeseries+"/"+e+"/").then((function(e){t.setState({newTimeSeries:t.state.bin.timeseries,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"handleBarHover",value:function(e){this.setState({dayOption:this.state.dayOptions[e]})}},{key:"handleBar",value:function(e){var t=this,s=document.getElementById("histogram_dropdown").classList;s.contains("show-day")&&s.toggle("show-day"),this.closeDropdown("day"),this.setState({loading:!0}),b.a.get("/process/day/"+this.state.bin.timeseries+"/"+this.state.bin.year+"/"+e+"/").then((function(e){t.setState({newTimeSeries:t.state.bin.timeseries,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"handleNewDay",value:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0;var t=this.state.dayOptions.findIndex((function(t){return t===e}));this.handleBar(t)}},{key:"handleNewFile",value:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.closeDropdown("file");var t="D"+this.state.bin.year+this.state.bin.day.slice(0,2)+this.state.bin.day.slice(3,5)+e.slice(0,3)+e.slice(4,6)+e.slice(7,9);this.setState({newTimeSeries:this.state.bin.timeseries,newFile:t})}},{key:"handleMouseOver",value:function(e){e.style.backgroundColor="#16609F"}},{key:"handleMouseOut",value:function(e){e.style.backgroundColor="#079CCC"}},{key:"handleMenuClick",value:function(e){var t=document.getElementById(this.state.classPicker);t.style.backgroundColor="#079CCC",t.addEventListener("mouseover",this.handleMouseOver(t)),t.addEventListener("mouseout",this.handleMouseOut(t));for(var s=document.getElementsByClassName("id"),n=document.getElementsByClassName("id-text"),i=0;i<s.length;i++)"#FFFFFF"!==s[i].style.backgroundColor&&(s[i].style.backgroundColor="#FFFFFF",n[i].style.color="#4E4E4E");this.setState({classPicker:e,classMark:this.state.classAbbrs[this.state.classes.findIndex((function(t){return t===e}))]});var a=document.getElementById(e);a.removeEventListener("mouseout",this.handleMouseOut(a)),a.style.backgroundColor="#16609F";var o,r=Object(Ee.a)(this.state.targets);try{for(r.s();!(o=r.n()).done;){var c=o.value;if(c.class_name===e){var l=document.getElementById(c.number),d=document.getElementById(c.number+"-text");l.style.backgroundColor="#16609F",d.style.color="#FFFFFF"}}}catch(h){r.e(h)}finally{r.f()}}},{key:"backToTop",value:function(){document.body.scrollTop>0||document.documentElement.scrollTop>0?(0!==document.body.scrollTop?this.setState({lastScroll:document.body.scrollTop}):this.setState({lastScroll:document.documentElement.scrollTop}),document.body.scrollTop=0,document.documentElement.scrollTop=0):(document.body.scrollTop=this.state.lastScroll,document.documentElement.scrollTop=this.state.lastScroll)}},{key:"flipBackToTop",value:function(){null!==document.getElementById("to-top")&&(document.body.scrollTop>0||document.documentElement.scrollTop>0?document.getElementById("to-top").classList.remove("flip"):document.getElementById("to-top").classList.contains("flip")||document.getElementById("to-top").classList.add("flip"))}},{key:"handleSelectAllClick",value:function(){for(var e=this,t=this.state.targets,s=this.state.classPicker,n=this.state.classAbbrs[this.state.classes.findIndex((function(t){return t===e.state.classPicker}))],i=0;i<t.length;i++){t[i].class_name=s,t[i].class_abbr=n,t[i].editor=this.props.user.username;var a=document.getElementById(t[i].number),o=document.getElementById(t[i].number+"-text");a.style.backgroundColor="#16609F",o.style.color="#FFFFFF"}this.setState({targets:t,history:this.state.history.concat([JSON.stringify(t)])}),this.props.save(t,this.state.bin.timeseries,this.state.bin.file,this.props.preferences.sort)}},{key:"handleUndoClick",value:function(){if(this.state.history.length>1){var e=this.state.history.slice(0,this.state.history.length-1),t=JSON.parse(e[e.length-1]),s=this.state.rows;this.setState({rows:[]}),this.setState({targets:t,history:e}),this.setState({rows:s}),this.props.save(t,this.state.bin.timeseries,this.state.bin.file,this.props.preferences.sort)}}},{key:"handleSyncClick",value:function(){var e=this;document.getElementById("sync").classList.toggle("syncing"),this.setState({rows:[]}),this.props.sync(this.state.bin.timeseries,this.state.bin.year,this.state.bin.day,this.state.bin.file),b.a.get("/process/targets/"+this.state.bin.timeseries+"/"+this.state.bin.file+"/"+this.props.preferences.sort+"/").then((function(t){e.setState({targets:t.data,history:e.state.history.concat([JSON.stringify(t.data)])})})),b.a.get("process/rows/"+this.state.bin.timeseries+"/"+this.state.bin.file+"//"+this.props.preferences.sort+"/"+Math.round(1e3*this.state.scale)+"/"+this.props.preferences.phytoguide+"/").then((function(t){e.setState({rows:t.data.options.rows,loading:!1})})).catch((function(e){return console.log(e)})),document.getElementById("sync").classList.toggle("syncing")}},{key:"handleHistogramClick",value:function(){var e=document.getElementById("histogram");document.getElementById("histogram_dropdown").classList.toggle("show-day"),e.scrollTop=e.scrollHeight}},{key:"handleRowClick",value:function(e){var t=this,s=this.state.targets,n=this.state.rows[e];for(var i in n){var a=n[i];s[a].class_name=this.state.classPicker,s[a].class_abbr=this.state.classAbbrs[this.state.classes.findIndex((function(e){return e===t.state.classPicker}))],s[a].editor=this.props.user.username;var o=document.getElementById(s[a].number),r=document.getElementById(s[a].number+"-text");o.style.backgroundColor="#16609F",r.style.color="#FFFFFF"}this.setState({targets:s,history:this.state.history.concat([JSON.stringify(s)])});var c=n[0],l=n[i],d=s.slice(c,l+1);this.props.classifyRow(d,this.state.bin.timeseries,this.state.bin.file,this.props.preferences.sort,c,l)}},{key:"disablePlanktonClick",value:function(e,t,s){var n=document.getElementById(e+"-info").classList;if(s||n.contains("show-info"))this.state.infoShowing.includes(e)||this.setState({infoShowing:this.state.infoShowing.concat([e])}),this.setState({planktonClickEnabled:!1});else{var i=this.state.infoShowing.filter((function(t){return t!==e}));this.setState({planktonClickEnabled:t,infoShowing:i})}}},{key:"handlePlanktonClick",value:function(e){var t=this;if(this.state.planktonClickEnabled){var s=this.state.targets,n=s.findIndex((function(t){return t.number===e}));s[n].class_name=this.state.classPicker,s[n].class_abbr=this.state.classAbbrs[this.state.classes.findIndex((function(e){return e===t.state.classPicker}))],s[n].editor=this.props.user.username;var i=this.state.history;this.setState({history:i.concat([JSON.stringify(s)]),targets:s});var a=document.getElementById(s[n].number),o=document.getElementById(s[n].number+"-text");a.style.backgroundColor="#16609F",o.style.color="#FFFFFF",this.props.classifyTarget(s[n],this.state.bin.timeseries,this.state.bin.file,s[n].number)}}},{key:"showNotes",value:function(){document.getElementById("note-dropdown").classList.toggle("show");var e=document.getElementById("show-notes-button");"Show Notes"===e.innerHTML?e.innerHTML="Hide Notes":e.innerHTML="Show Notes"}},{key:"hideInfo",value:function(){var e=document.getElementById("hide-info-button");"Hide Info"===e.innerHTML?e.innerHTML="Show Info":e.innerHTML="Hide Info",""===this.state.infoButtonStatus?this.setState({infoButtonStatus:"hide"}):this.setState({infoButtonStatus:""})}},{key:"handleScale",value:function(e){var t=this,s=this.state.scale,n=0;"up"===e?n=s+.01:"down"===e&&(n=s-.01),b.a.get("process/rows/"+this.state.bin.timeseries+"/"+this.state.bin.file+"//"+this.props.preferences.sort+"/"+Math.round(1e3*n)+"/"+this.props.preferences.phytoguide+"/").then((function(e){t.setState({scale:n,rows:e.data.options.rows})}))}},{key:"handleDownload",value:function(){document.getElementById("download-src").src="http://odontella.oceandatacenter.ucsc.edu:8000/mat/"+this.state.bin.ifcb+"/"+this.state.bin.file+"/"}},{key:"handleCompleteClick",value:function(){this.setState({complete:!this.state.complete}),b.a.get("/complete/"+this.state.bin.timeseries+"/"+this.state.bin.file+"/").catch((function(e){return console.log(e)}))}},{key:"openPreferences",value:function(){document.getElementById("overlay").style.display="block",document.getElementById("preferences").classList.toggle("show-pref")}},{key:"closePreferences",value:function(){document.getElementById("overlay").style.display="none",document.getElementById("preferences").classList.toggle("show-pref"),this.props.history.go(0)}},{key:"renderPreferences",value:function(){return Object(ie.jsx)(Le,{history:this.props.history,load:this.props.preferences.load,scale:this.props.preferences.scale,sort:this.props.preferences.sort,phytoGuide:this.props.preferences.phytoguide})}},{key:"renderTimeSeriesControl",value:function(){var e=this;return Object(ie.jsx)(Ke,{timeseries:this.state.bin.timeseries,options:this.state.timeSeriesOptions,onClick:function(t){return e.getNewTimeSeries(t)}})}},{key:"renderYearControl",value:function(){var e=this;return Object(ie.jsx)(_e,{year:this.state.bin.year,options:this.state.yearOptions,onClick:function(t){return e.getNewYear(t)}})}},{key:"renderDayControl",value:function(){var e=this,t=this.state.filledDays.slice().reverse();return Object(ie.jsx)($e,{day:this.state.bin.day,options:t,onClick:function(t){return e.handleNewDay(t)}})}},{key:"renderFileControl",value:function(){var e=this;return Object(ie.jsx)(tt,{file:this.state.bin.file,options:this.state.fileOptions,onClick:function(t){return e.handleNewFile(t)}})}},{key:"renderSync",value:function(){var e=this;return Object(ie.jsx)("div",{className:"round-button sync",id:"sync-button",onClick:function(){return e.handleSyncClick()}})}},{key:"renderDownload",value:function(){var e=this;return Object(ie.jsx)("div",{className:"round-button download",onClick:function(){return e.handleDownload()},children:Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("iframe",{id:"download-src"})})})}},{key:"renderDoneButton",value:function(){var e,t,s,n=this;return this.state.complete?(e="Finished",t="complete-done-button"):(e="Mark as Complete",t="incomplete-done-button"),this.state.loading&&(s="hide"),Object(ie.jsxs)("div",{className:"done-button lab-complete-button "+t+" "+s,onClick:function(){return n.handleCompleteClick()},children:[Object(ie.jsx)("div",{className:"done-check"}),Object(ie.jsx)("p",{className:"done-text",children:e})]})}},{key:"renderClassMenu",value:function(){var e=this;return Object(ie.jsx)(We,{classes:this.state.classes,descriptions:this.state.classDescriptions,examples:this.state.classExamples,nonexamples:this.state.classNonexamples,onClick:function(t){return e.handleMenuClick(t)},handleSelectAllClick:function(){return e.handleSelectAllClick()},handleUndoClick:function(){return e.handleUndoClick()},scale:this.state.scale,showPhytoGuide:this.props.preferences.phytoguide,categorizeMode:!1,initial:0})}},{key:"renderBar",value:function(e,t){var s=this;return Object(ie.jsx)(et,{onClick:function(e){return s.handleBar(e)},onHover:function(e){return s.handleBarHover(e)},number:t,height:e,day:this.state.dayOptions[t],current:this.state.dayOptions.findIndex((function(e){return e===s.state.bin.day}))},t)}},{key:"renderNavButton",value:function(e){var t,s,n,i=this;t="next"===e?1:-1,n="next"===e?"next-button":"previous-button";var a=this.state.fileOptions.findIndex((function(e){return"D"+i.state.bin.year+i.state.bin.day.slice(0,2)+i.state.bin.day.slice(3,5)+e.slice(0,3)+e.slice(4,6)+e.slice(7,9)===i.state.bin.file}));if(a===this.state.fileOptions.length-1&&1===t||0===a&&-1===t){var o=this.state.filledDays.findIndex((function(e){return e===i.state.bin.day}));if(o===this.state.filledDays.length-1&&1===t||0===o&&-1===t){var r=this.state.yearOptions.slice().reverse(),c=r.findIndex((function(e){return e===Number(i.state.bin.year)}));return c===r.length-1&&1===t?Object(ie.jsx)(it,{text:"Up to Date",className:"up-to-date-button"}):0===c&&-1===t?Object(ie.jsx)(it,{text:"No Previous Data",className:"up-to-date-button"}):(s="next"===e?"Next Year   >":"<   Previous Year",Object(ie.jsx)(it,{text:s,onClick:function(){return i.getNewYear(r[c+t])},className:n}))}return s="next"===e?"Next Day   >":"<   Previous Day",Object(ie.jsx)(it,{text:s,onClick:function(){return i.handleNewDay(i.state.filledDays[o+t])},className:n})}return s="next"===e?"Next File   >":"<   Previous File",Object(ie.jsx)(it,{text:s,onClick:function(){return i.handleNewFile(i.state.fileOptions[a+t])},className:n})}},{key:"renderLoader",value:function(){return Object(ie.jsx)("img",{src:nt,alt:"Loading targets...",width:"80",loop:"infinite",style:{margin:"0 0 3vw 0"}})}},{key:"returnToClassify",value:function(){this.setState({newFile:"blank"})}},{key:"jumpToLastEdit",value:function(){var e=this;b.a.get("/lastedit/"+this.props.user.username+"/").then((function(t){return e.setState({lastEditBin:t.data.bin,lastEditTarget:t.data.options})})).catch((function(e){return console.log(e)}))}},{key:"renderNotFound",value:function(){var e=this;return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsx)("div",{className:"content",children:Object(ie.jsxs)("div",{className:"inner-content",children:[Object(ie.jsx)("h1",{children:"File Not Found"}),Object(ie.jsx)("p",{className:"not-found-message",children:"The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL."}),Object(ie.jsx)("div",{className:"return-button",onClick:function(){return e.returnToClassify()},children:"Return to Classify"})]})})})})}},{key:"onTargetJumpChange",value:function(e){this.setState({jumpEntry:e.target.value})}},{key:"onTargetJumpSubmit",value:function(e){var t=this;e.preventDefault();var s=this.state.targets.findIndex((function(e){return e.number===t.state.jumpEntry})),n=this.state.rows.findIndex((function(e){return e.includes(s)}));(isNaN(n)||n<0)&&(n=void 0),this.setState({jumpSubmit:this.state.jumpEntry,scrollToIndex:n})}},{key:"renderPage",value:function(){var e=this,t=new st.c({defaultHeight:10,minHeight:10,fixedWidth:!0}),s=this.state.jumpEntry,n=this.state.scrollToIndex;return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{className:"content",children:[Object(ie.jsx)("div",{className:"overlay",id:"overlay",onClick:function(){return e.closePreferences()}}),this.renderPreferences(),Object(ie.jsxs)("div",{className:"inner-content",children:[Object(ie.jsx)("h4",{onClick:function(){return e.jumpToLastEdit()},children:"Last Edit \u2192"}),Object(ie.jsx)("h1",{children:"Manual Classifications"}),Object(ie.jsxs)("div",{className:"time-controls",children:[this.renderTimeSeriesControl(),this.renderYearControl(),this.renderDayControl(),this.renderFileControl(),Object(ie.jsxs)("div",{className:"target-jump-container",children:[Object(ie.jsx)("form",{onSubmit:this.onTargetJumpSubmit,children:Object(ie.jsx)("input",{type:"textarea",className:"target-jump-input",onChange:this.onTargetJumpChange,value:s||"",placeholder:"Target..."})}),Object(ie.jsx)("p",{className:"time-label jump-label",id:"targetjump_label",children:"Jump to Target"})]}),Object(ie.jsx)("div",{className:"show-notes-button",id:"show-notes-button",onClick:function(){return e.showNotes()},children:"Show Notes"}),Object(ie.jsx)("div",{className:"hide-info-button",id:"hide-info-button",onClick:function(){return e.hideInfo()},children:"Hide Info"}),this.renderSync(),this.renderDownload(),Object(ie.jsx)("div",{className:"round-button histogram",onClick:function(){return e.handleHistogramClick()}}),Object(ie.jsx)("div",{className:"preferences-button",onClick:function(){return e.openPreferences()}})]}),Object(ie.jsxs)("div",{className:"histogram-dropdown-container",id:"histogram_dropdown",children:[Object(ie.jsx)("div",{className:"histogram-dropdown",id:"histogram",children:Object(ie.jsxs)("div",{className:"timeline",children:[Object(ie.jsx)("div",{className:"bars",children:this.state.barHeights.map((function(t,s){return e.renderBar(t,s)}))}),Object(ie.jsxs)("div",{className:"axis",children:[Object(ie.jsx)("p",{className:"month",children:"Jan"}),Object(ie.jsx)("p",{className:"month",children:"Feb"}),Object(ie.jsx)("p",{className:"month",children:"Mar"}),Object(ie.jsx)("p",{className:"month",children:"Apr"}),Object(ie.jsx)("p",{className:"month",children:"May"}),Object(ie.jsx)("p",{className:"month",children:"Jun"}),Object(ie.jsx)("p",{className:"month",children:"Jul"}),Object(ie.jsx)("p",{className:"month",children:"Aug"}),Object(ie.jsx)("p",{className:"month",children:"Sep"}),Object(ie.jsx)("p",{className:"month",children:"Oct"}),Object(ie.jsx)("p",{className:"month",children:"Nov"}),Object(ie.jsx)("p",{className:"month",children:"Dec"})]})]})}),Object(ie.jsx)("div",{className:"day-option",children:Object(ie.jsx)("p",{className:"day-option-text",children:this.state.dayOption})})]}),Object(ie.jsx)("div",{className:"note-container",id:"note-dropdown",children:""===this.state.bin.timeseries||""===this.state.bin.file?Object(ie.jsx)("div",{}):Object(ie.jsx)(Qe,{timeseries:this.state.bin.timeseries,ifcb:this.state.bin.ifcb,file:this.state.bin.file,type:"bin",image:"None"})}),Object(ie.jsxs)("div",{className:"annotations",children:[this.renderClassMenu(),Object(ie.jsxs)("div",{className:"image-grid",id:"image-grid",children:[this.state.loading||this.props.isSaving?this.renderLoader():console.log(),Object(ie.jsxs)("div",{children:[this.renderDoneButton(),Object(ie.jsx)(st.e,{height:800,rowCount:this.state.rows.length,rowHeight:t.rowHeight,rowRenderer:function(s){var n=s.index,i=s.key,a=s.parent,o=s.style;return e.state.targets.length<1?Object(ie.jsx)("div",{}):Object(ie.jsx)(st.b,{cache:t,parent:a,rowIndex:n,children:function(t){var s=t.measure,a=t.registerChild;return Object(ie.jsx)("div",{ref:a,style:o,children:Object(ie.jsxs)("div",{onLoad:s,className:"row",children:[Object(ie.jsx)("div",{className:"row-select",alt:"Select row",onClick:function(){return e.handleRowClick(n)}}),Object(ie.jsx)("div",{className:"image-row",children:e.state.rows[n].map((function(t){return Object(ie.jsx)(Ve,{timeseries:e.state.bin.timeseries,file:e.state.bin.file,timestamp:e.state.bin.file,id:t,targetNum:e.state.targets[t].number,class_name:e.state.targets[t].class_name,class_abbr:e.state.targets[t].class_abbr,height:e.state.targets[t].height,width:e.state.targets[t].width,scale:e.props.scaleEntry/10,ifcb:e.state.bin.ifcb,editor:e.state.targets[t].editor,date:e.state.targets[t].date,onClick:function(t){return e.handlePlanktonClick(t)},infoChange:function(t,s,n){return e.disablePlanktonClick(t,s,n)},infoShowing:e.state.infoShowing,infoButtonStatus:e.state.infoButtonStatus,public:!1,categorizeMode:!1,noteOption:!0})}))})]})},i)}},i)},scrollToAlignment:"start",scrollToIndex:n,width:.72*document.documentElement.clientWidth})]}),Object(ie.jsx)("img",{src:"data:image/png;base64,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",alt:"Back to Top",className:"to-top",id:"to-top",onClick:function(){return e.backToTop()}})]})]}),Object(ie.jsx)("div",{className:"navigation-container",children:Object(ie.jsxs)("div",{style:{display:"flex"},children:[this.renderNavButton("previous"),this.renderNavButton("next")]})})]})]})})})}},{key:"render",value:function(){if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/"});if(0!==this.state.newFile.length){if("blank"===this.state.newFile)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});var e="/classify/"+this.state.newTimeSeries+"/"+this.state.newFile;return Object(ie.jsx)(h.a,{push:!0,to:e})}if(this.state.rows!==[]&&""===this.state.initialTargetJump&&!this.state.loading){var t=this.props.location.pathname.split("/");if(t.length>4){var s=t[4],n=this.state.targets.findIndex((function(e){return e.number===s})),i=this.state.rows.findIndex((function(e){return e.includes(n)}));(isNaN(i)||i<0)&&(i=void 0),this.setState({jumpEntry:s,jumpSubmit:s,initialTargetJump:s,scrollToIndex:i})}}if("string"!==typeof this.state.lastEditBin){this.setState({loading:!0});var a=this.state.lastEditBin;return Object(ie.jsx)(h.a,{push:!0,to:"/classify/"+a.timeseries+"/"+a.file+"/"+this.state.lastEditTarget.target})}return Object(ie.jsxs)("div",{className:"body",children:[Object(ie.jsx)("title",{children:"IFCB | "+this.state.bin.file}),Object(ie.jsx)(oe,{}),"Not Found"===this.state.bin.file?this.renderNotFound():this.renderPage(),Object(ie.jsx)("script",{children:document.addEventListener("scroll",this.flipBackToTop)})]})}}]),s}(i.a.Component),ot=Object(p.b)((function(e){return{preferences:e.auth.preferences,isSaving:e.classify.isSaving,user:e.auth.user,scaleEntry:e.classify.scaleEntry,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onNotebook:e.menu.onNotebook,onAnalysis:e.menu.onAnalysis}}),{classifyTarget:function(e,t,s,n){return function(i,a){b.a.put("/edit/target/"+t+"/"+s+"/"+n+"/",e,_(a)).catch((function(e){return console.log(e)}))}},classifyRow:He,classifyAll:Me,save:ze,sync:Ue,changeScale:Ie})(at),rt=s(71),ct=s.p+"static/media/akashiwo-character.18a198bc.png",lt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={toc:[{id:0,title:"Welcome!",text:"Let's get started classifying phytoplankton.",buttons:null},{id:1,title:"Start categorizing",text:"Your first task is to find the images that the AutoClassification algorithm misidentified. Use the left menu to select a species, then click on all the phytoplankton that DON\u2019T belong.",buttons:null},{id:2,title:"What if you're unsure?",text:"If you\u2019re torn on whether an image belongs or not, leave it in its original category (don\u2019t click). But don\u2019t worry too much\u2014 our scientists always check over your data before using it, so it\u2019s okay if you sometimes make a mistake.",buttons:null},{id:3,title:"Keep going!",text:"When you finish with all the plankton on the screen, click on another species from the sample and categorize. When you\u2019ve gone through all the species, hit the finish button so we know the file is complete.",buttons:null},{id:4,title:"Switch modes",text:"If you\u2019re up for a challenge, switch over to identify mode using the toggle bar above the images.",buttons:null},{id:5,title:"Start identifying",text:"Now you\u2019ll see all the images that you marked as misidentified or that the AutoClassification algorithm couldn\u2019t figure out. Select a classification in the left menu, then click on all the images that match it.",buttons:null},{id:6,title:"Try another method",text:"You can also work the other way: choose an image, then hover over the classifications in the left menu until you find the one that matches it. Select the classification, then click on the image to classify it.",buttons:null},{id:7,title:"What if you're unsure?",text:"Again, if you\u2019re not sure where an image belongs, just leave it unclassified. If you\u2019re finding that identify mode is too challenging, you can always stick to just categorizing.",buttons:null},{id:8,title:"Finish strong",text:"When you\u2019re done identifying, click the finish the button. Load up a new sample by selecting a day and an IFCB location in the sample menu and keep classifying!",buttons:null},{id:9,title:"Congrats!",text:"You\u2019re ready to dive in. You can always revisit this tutorial if you need any help.",buttons:null}],tracks:[[0,1,2,3,4,5,6,7,8,9]],slide:0,track:0},n}return Object(c.a)(s,[{key:"back",value:function(){var e=this,t=this.state.tracks[this.state.track].findIndex((function(t){return t===e.state.slide})),s=this.state.tracks[this.state.track][t-1];this.setState({slide:s})}},{key:"next",value:function(){var e=this,t=this.state.tracks[this.state.track].findIndex((function(t){return t===e.state.slide})),s=this.state.tracks[this.state.track][t+1];this.setState({slide:s})}},{key:"handleButton",value:function(e){var t=this,s=this.state.track;this.setState({track:e});var n=this.state.tracks[s].findIndex((function(e){return e===t.state.slide})),i=this.state.tracks[e][n+1];this.setState({slide:i})}},{key:"render",value:function(){var e=this,t=this.state.toc[this.state.slide];return Object(ie.jsxs)("div",{className:"public-time-controls",children:[Object(ie.jsx)("img",{src:ct,alt:"Drawing of a celebratory phytoplankton",className:"akashiwo-character"}),Object(ie.jsxs)("div",{id:"tutorial-1",className:"visible-tutorial-text",children:[Object(ie.jsx)("p",{className:"tutorial-title",children:t.title}),Object(ie.jsx)("p",{className:"tutorial-body",children:t.text}),t.buttons?Object(ie.jsx)("div",{className:"tutorial-button-container",children:t.buttons.map((function(t){return Object(ie.jsx)("div",{className:"tutorial-button",onClick:function(){return e.handleButton(t.track)},children:t.text},t.track)}))}):Object(ie.jsx)("div",{}),Object(ie.jsxs)("div",{className:"tutorial-nav-container",children:[this.state.slide>0?Object(ie.jsx)("p",{className:"tutorial-back",onClick:function(){return e.back()},children:"< Back"}):Object(ie.jsx)("div",{}),this.state.slide<this.state.toc.length-1&&!t.buttons?Object(ie.jsx)("p",{className:"tutorial-next",onClick:function(){return e.next()},children:"Next >"}):Object(ie.jsx)("div",{})]})]})]})}}]),s}(i.a.Component),dt=s(88),ht=s.n(dt),ut=s(70),pt=(s(83),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={loading:!0,newFile:"",newTimeSeries:"",classes:[],classAbbrs:[],classDescriptions:[],classExamples:[],classNonexamples:[],categories:[],categoryIndices:[],classPicker:"Unclassified",classMark:"UNC",initialClassIndex:0,planktonClickEnabled:!0,categorizeMode:!0,emptyCategories:!1,emptyIdentifications:!1,infoShowing:[],bin:{timeseries:"",ifcb:"",year:"",day:"",file:""},timeSeriesOptions:[],timeSeriesNames:[],yearOptions:[],dayOptions:[],dateOptions:[],fileOptions:[],filledDays:[],targets:[],targetSet:[],targetNumbers:[],history:[],rows:[],scrollToIndex:void 0,jumpEntry:"",jumpSubmit:"",initialTargetJump:"",lastEditBin:"",lastEditTarget:"",scale:.056,lastScroll:0,dayOption:"",categorizationComplete:!1,identificationComplete:!1},n}return Object(c.a)(s,[{key:"getNewTimeSeries",value:function(e){var t=this;this.setState({loading:!0});var s=this.state.timeSeriesOptions.findIndex((function(t){return t===String(e)})),n=this.state.timeSeriesNames[s];b.a.get("/process/public/timeseries/"+n+"/").then((function(e){t.setState({newTimeSeries:n,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname.split("/");b.a.get("/api/timeseries/").then((function(s){e.setState({timeSeriesOptions:s.data.map((function(e){return e.public_name})),timeSeriesNames:s.data.map((function(e){return e.name}))}),t.length<3&&e.getNewTimeSeries("Santa Cruz Wharf")})).catch((function(e){return console.log(e)}));var s=t[2],n=t[3];this.setState({loading:!0}),b.a.get("/classes/SCW/").then((function(t){e.setState({classes:t.data.map((function(e){return e.display_name.replace("_"," ")})),classAbbrs:t.data.map((function(e){return e.abbr})),classDescriptions:t.data.map((function(e){return e.description})),classExamples:t.data.map((function(e){return e.examples.split(",").filter((function(e){return e.length>1}))})),classNonexamples:t.data.map((function(e){return e.nonexamples.split(",").filter((function(e){return e.length}))}))})})).catch((function(e){return console.log(e)})),void 0!==n&&(b.a.get("/process/public/file/"+s+"/"+n+"/"+this.props.user.username+"/").then((function(t){e.setState({bin:t.data.bin,yearOptions:t.data.options.year_options.reverse(),dayOptions:t.data.options.day_options[1],dateOptions:t.data.options.filled_days.map((function(e){return new Date(e)})),fileOptions:t.data.options.file_options,filledDays:t.data.options.filled_days,dayOption:t.data.bin.day}),b.a.get("/process/public/targets/"+s+"/"+n+"/"+e.props.user.username+"/").then((function(t){var i=t.data[0].class_name,a=t.data[0].class_abbr,o=Object(rt.a)(new Set(t.data.map((function(e){return e.class_name})))).filter((function(e){return"Unclassified"!==e}));e.setState({targets:t.data,targetSet:t.data.filter((function(e){return e.class_name===i})),targetNumbers:t.data.map((function(e){return e.number})),classPicker:i,classMark:a,initialClassIndex:e.state.classes.findIndex((function(e){return e===i})),history:[JSON.stringify(t.data)],categories:o,categoryIndices:e.state.classes.map((function(e,t){return t})).filter((function(t){return o.includes(e.state.classes[t])})),loading:!1}),"Unclassified"===i&&e.setState({emptyCategories:!0}),b.a.get("/process/public/rows/"+s+"/"+n+"/"+a+"/"+e.props.user.username+"/").then((function(t){e.setState({rows:t.data.options.rows}),o.length<1?e.setState({initialClassIndex:0}):e.setState({initialClassIndex:e.state.categories.findIndex((function(e){return e===i}))})}))}))})).catch((function(t){console.log(t),e.setState({bin:{timeseries:"",ifcb:"",year:"",day:"",file:"Not Found"}})})),b.a.get("/complete/public/status/"+s+"/"+n+"/"+this.props.user.username+"/").then((function(t){e.setState({categorizationComplete:t.data.options.categorized,identificationComplete:t.data.options.identified})})).catch((function(e){console.log(e)})))}},{key:"componentDidUpdate",value:function(e){this.props.match.url!==e.match.url&&this.props.history.go(0)}},{key:"highlightTarget",value:function(e){var t=document.getElementById(e),s=document.getElementById(e+"-text");t.style.backgroundColor="#16609F",s.style.color="#FFFFFF"}},{key:"unhighlightTarget",value:function(e){var t=document.getElementById(e),s=document.getElementById(e+"-text");t.style.backgroundColor="#FFFFFF",s.style.color="#4E4E4E"}},{key:"getNewYear",value:function(e){var t=this;this.setState({loading:!0}),b.a.get("/process/year/"+this.state.bin.timeseries+"/"+e+"/").then((function(e){t.setState({newTimeSeries:t.state.bin.timeseries,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"handleBarHover",value:function(e){this.setState({dayOption:this.state.dayOptions[e]})}},{key:"handleBar",value:function(e){var t=this,s=document.getElementById("histogram_dropdown").classList;s.contains("show-day")&&s.toggle("show-day"),this.setState({loading:!0}),b.a.get("/process/day/"+this.state.bin.timeseries+"/"+this.state.bin.year+"/"+e+"/").then((function(e){t.setState({newTimeSeries:t.state.bin.timeseries,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"onDateChange",value:function(e){var t=this;b.a.get("/process/public/day/"+this.state.bin.timeseries+"/"+String(e).split(" ").slice(1,4).join("")+"/").then((function(e){t.setState({newTimeSeries:t.state.bin.timeseries,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"handleNewFile",value:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0;var t="D"+this.state.bin.year+this.state.bin.day.slice(0,2)+this.state.bin.day.slice(3,5)+e.slice(0,3)+e.slice(4,6)+e.slice(7,9);this.setState({newTimeSeries:this.state.bin.timeseries,newFile:t})}},{key:"handleMouseOver",value:function(e){e.style.backgroundColor="#16609F"}},{key:"handleMouseOut",value:function(e){e.style.backgroundColor="#079CCC"}},{key:"handleMenuClick",value:function(e){var t=this,s=document.getElementById(this.state.classPicker);s.classList.contains("select-menu")&&s.classList.remove("select-menu");var n=this.state.classAbbrs[this.state.classes.findIndex((function(t){return t===e}))];this.setState({classPicker:e,classMark:n}),this.state.categorizeMode&&(this.setState({rows:[],targetSet:this.state.targets.filter((function(t){return t.class_name===e}))}),b.a.get("/process/public/rows/"+this.state.bin.timeseries+"/"+this.state.bin.file+"/"+n+"/"+this.props.user.username+"/").then((function(e){t.setState({rows:e.data.options.rows})}))),document.getElementById(e).classList.add("select-menu")}},{key:"handleUndoClick",value:function(){if(this.state.history.length>1){var e=this.state.history.slice(0,this.state.history.length-1),t=JSON.parse(e[e.length-1]),s=this.state.rows;this.setState({rows:[]}),this.setState({targets:t,history:e}),this.setState({rows:s}),this.props.save(t,this.state.bin.timeseries,this.state.bin.file,this.props.preferences.sort)}}},{key:"handleHistogramClick",value:function(){var e=document.getElementById("histogram");document.getElementById("histogram_dropdown").classList.toggle("show-day"),e.scrollTop=e.scrollHeight}},{key:"handleModeToggle",value:function(){var e=this;this.setState({loading:!0,rows:[]}),document.getElementById("mode-left").classList.toggle("mode-selected"),document.getElementById("mode-right").classList.toggle("mode-selected"),document.getElementById("mode-left-text").classList.toggle("mode-text-selected"),document.getElementById("mode-right-text").classList.toggle("mode-text-selected"),b.a.get("/process/public/targets/"+this.state.bin.timeseries+"/"+this.state.bin.file+"/"+this.props.user.username+"/").then((function(t){var s,n,i,a=t.data[0].class_name,o=t.data[0].class_abbr,r=Object(rt.a)(new Set(t.data.map((function(e){return e.class_name})))).filter((function(e){return"Unclassified"!==e}));s=e.state.categorizeMode?"UNCL":o,n=e.state.categorizeMode?e.state.classes[0]:a,i=e.state.categorizeMode?e.state.classAbbrs[0]:o,e.setState({targets:t.data,targetSet:t.data.filter((function(e){return e.class_abbr===s})),targetNumbers:t.data.map((function(e){return e.number})),classPicker:n,classMark:i,history:[JSON.stringify(t.data)],categories:r,categoryIndices:e.state.classes.map((function(e,t){return t})).filter((function(t){return r.includes(e.state.classes[t])})),categorizeMode:!e.state.categorizeMode}),"Unclassified"===a&&e.setState({emptyCategories:!0}),!e.state.categorizeMode&&e.state.targetSet.length<1&&e.setState({emptyIdentifications:!0}),b.a.get("/process/public/rows/"+e.state.bin.timeseries+"/"+e.state.bin.file+"/"+s+"/"+e.props.user.username+"/").then((function(t){e.setState({rows:t.data.options.rows,loading:!1}),r.length<1?e.setState({initialClassIndex:0}):e.setState({initialClassIndex:e.state.categories.findIndex((function(e){return e===a}))})}))}))}},{key:"handlePlanktonClick",value:function(e){var t=this;if(this.state.planktonClickEnabled){var s=this.state.targets,n=s.findIndex((function(t){return t.number===e}));s[n].class_name=this.state.classPicker,s[n].class_abbr=this.state.classAbbrs[this.state.classes.findIndex((function(e){return e===t.state.classPicker}))],s[n].editor=this.props.user.username;var i=this.state.history;this.setState({history:i.concat([JSON.stringify(s)]),targets:s});var a=document.getElementById(s[n].number),o=document.getElementById(s[n].number+"-text");a.style.backgroundColor="#16609F",o.style.color="#FFFFFF",this.props.classifyPublicTarget(s[n],this.state.bin.timeseries,this.state.bin.file,s[n].number,this.props.user.username)}}},{key:"handlePlanktonCheck",value:function(e){var t=this;if(this.state.planktonClickEnabled){var s=this.state.targets,n=s.findIndex((function(t){return t.number===e}));s[n].class_name===this.state.classPicker?(s[n].class_name="Unclassified",s[n].class_abbr="UNCL"):(s[n].class_name=this.state.classPicker,s[n].class_abbr=this.state.classAbbrs[this.state.classes.findIndex((function(e){return e===t.state.classPicker}))]),s[n].editor=this.props.user.username;var i=this.state.history;this.setState({history:i.concat([JSON.stringify(s)]),targets:s}),this.props.classifyPublicTarget(s[n],this.state.bin.timeseries,this.state.bin.file,s[n].number,this.props.user.username)}}},{key:"handleDoneClick",value:function(){var e,t=["#1DC3D7","#6FB530"];this.state.categorizeMode?(this.state.categorizationComplete||Object(ut.a)({particleCount:100,spread:70,origin:{y:.6},colors:t}),e="/complete/public/categorization/"+this.state.bin.timeseries+"/"+this.state.bin.file+"/"+this.props.user.username+"/",this.setState({categorizationComplete:!this.state.categorizationComplete})):(this.state.identificationComplete||Object(ut.a)({particleCount:100,spread:70,origin:{y:.6},colors:t}),e="/complete/public/identification/"+this.state.bin.timeseries+"/"+this.state.bin.file+"/"+this.props.user.username+"/",this.setState({identficationComplete:!this.state.identficationComplete})),b.a.get(e).catch((function(e){return console.log(e)}))}},{key:"renderClassMenu",value:function(){var e=this;return Object(ie.jsx)(We,{classes:this.state.classes,categories:this.state.categories,descriptions:this.state.classDescriptions,examples:this.state.classExamples,nonexamples:this.state.classNonexamples,initial:this.state.initialClassIndex,onClick:function(t){return e.handleMenuClick(t)},handleSelectAllClick:function(){return e.handleSelectAllClick()},handleUndoClick:function(){return e.handleUndoClick()},scale:this.state.scale,showPhytoGuide:this.props.preferences.phytoguide,categorizeMode:this.state.categorizeMode,categoryIndices:this.state.categoryIndices,public:!0})}},{key:"renderModeToggle",value:function(){var e=this;return Object(ie.jsxs)("div",{className:"mode-toggle",children:[Object(ie.jsx)("div",{className:"mode-left mode-selected",id:"mode-left",onClick:function(){return e.handleModeToggle()},children:Object(ie.jsx)("p",{className:"mode-text mode-text-selected",id:"mode-left-text",children:"Categorize"})}),Object(ie.jsx)("div",{className:"mode-right",id:"mode-right",onClick:function(){return e.handleModeToggle()},children:Object(ie.jsx)("p",{className:"mode-text",id:"mode-right-text",children:"Identify"})})]})}},{key:"renderDoneButton",value:function(){var e,t,s=this;return this.state.categorizeMode?this.state.categorizationComplete?(e="Categorization Complete",t="complete-done-button"):(e="Finished Categorizing?",t="incomplete-done-button"):this.state.identificationComplete?(e="Identification Complete",t="complete-done-button"):(e="Finished Identifying?",t="incomplete-done-button"),Object(ie.jsxs)("div",{className:"done-button "+t,onClick:function(){return s.handleDoneClick()},children:[Object(ie.jsx)("div",{className:"done-check"}),Object(ie.jsx)("p",{className:"done-text",children:e})]})}},{key:"renderLoader",value:function(){return Object(ie.jsx)("img",{src:nt,alt:"Loading targets...",width:"80",loop:"infinite",style:{margin:"0 0 3vw 0"}})}},{key:"returnToClassify",value:function(){this.setState({newFile:"blank"})}},{key:"renderNotFound",value:function(){var e=this;return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsx)("div",{className:"content",children:Object(ie.jsxs)("div",{className:"inner-content",children:[Object(ie.jsx)("h1",{children:"File Not Found"}),Object(ie.jsx)("p",{className:"not-found-message",children:"The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL."}),Object(ie.jsx)("div",{className:"return-button",onClick:function(){return e.returnToClassify()},children:"Return to Classify"})]})})})})}},{key:"renderPage",value:function(){var e=this,t=new st.c({defaultHeight:10,minHeight:10,fixedWidth:!0}),s=this.state.scrollToIndex,n=""===this.state.bin.day?new Date:new Date(this.state.bin.day+"-"+this.state.bin.year);return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsx)("div",{className:"content",children:Object(ie.jsxs)("div",{className:"inner-content",children:[Object(ie.jsx)("h1",{children:"Classify Phytoplankton"}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("div",{style:{display:"flex"},children:Object(ie.jsxs)("div",{className:"public-time-controls",children:[Object(ie.jsx)(ht.a,{onChange:function(t){return e.onDateChange(t)},value:n,selected:n,includeDates:this.state.dateOptions,placeholderText:this.state.bin.day+"-"+this.state.bin.year,className:"datepicker",inline:!0}),Object(ie.jsxs)("div",{className:"timeseries-box",children:[Object(ie.jsx)("p",{className:"tutorial-title sample-title",children:"Sample"}),this.state.timeSeriesOptions.filter((function(e){return""!==e})).map((function(t,s){return Object(ie.jsx)("li",{className:"tutorial-button",onClick:function(){return e.getNewTimeSeries(t)},children:t},s)}))]})]})}),Object(ie.jsx)(lt,{})]}),Object(ie.jsxs)("div",{className:"annotations",children:[this.renderClassMenu(),Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"status-buttons",children:[this.renderModeToggle(),this.renderDoneButton()]}),Object(ie.jsxs)("div",{className:"image-grid remove-top-margin",id:"image-grid",children:[this.state.loading||this.props.isSaving?this.renderLoader():console.log(),this.state.emptyCategories&&this.state.categorizeMode?Object(ie.jsx)("p",{className:"empty-categories-text",children:"Nothing to categorize! Switch over to Identify mode to start classifying."}):this.state.emptyIdentifications&&!this.state.categorizeMode?Object(ie.jsx)("p",{className:"empty-categories-text",children:"Nothing to identify! You're finished with this file."}):Object(ie.jsx)(st.e,{height:800,rowCount:this.state.rows.length,rowHeight:t.rowHeight,rowRenderer:function(s){var n=s.index,i=s.key,a=s.parent,o=s.style;return e.state.targets.length<1?Object(ie.jsx)("div",{}):Object(ie.jsx)(st.b,{cache:t,parent:a,rowIndex:n,children:function(t){var s=t.measure,a=t.registerChild;return Object(ie.jsx)("div",{ref:a,style:o,children:Object(ie.jsx)("div",{onLoad:s,className:"row",children:Object(ie.jsx)("div",{className:"image-row",children:e.state.rows[n].map((function(t){return Object(ie.jsx)(Ve,{timeseries:e.state.bin.timeseries,file:e.state.bin.file,timestamp:e.state.bin.file,id:t,targetNum:e.state.targetSet[t].number,class_name:e.state.targetSet[t].class_name,class_abbr:e.state.targetSet[t].class_abbr,height:e.state.targetSet[t].height,width:e.state.targetSet[t].width,scale:e.props.scaleEntry/10,ifcb:e.state.bin.ifcb,editor:"jamiewalton",date:e.state.targetSet[t].date,onClick:function(t){return e.handlePlanktonClick(t)},onCheck:function(t){return e.handlePlanktonCheck(t)},infoChange:function(t,s,n){return e.disablePlanktonClick(t,s,n)},infoShowing:e.state.infoShowing,public:!0,categorizeMode:e.state.categorizeMode})}))})})},i)}},i)},scrollToAlignment:"start",scrollToIndex:s,width:.72*document.documentElement.clientWidth})]})]})]})]})})})})}},{key:"render",value:function(){if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/"});if(0!==this.state.newFile.length){if("blank"===this.state.newFile)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});var e="/classify/"+this.state.newTimeSeries+"/"+this.state.newFile;return Object(ie.jsx)(h.a,{push:!0,to:e})}if(this.state.rows!==[]&&""===this.state.initialTargetJump&&!this.state.loading){var t=this.props.location.pathname.split("/");if(t.length>4){var s=t[4],n=this.state.targets.findIndex((function(e){return e.number===s})),i=this.state.rows.findIndex((function(e){return e.includes(n)}));(isNaN(i)||i<0)&&(i=void 0),this.setState({jumpEntry:s,jumpSubmit:s,initialTargetJump:s,scrollToIndex:i})}}return Object(ie.jsxs)("div",{className:"body",children:[Object(ie.jsx)("title",{children:"IFCB | "+this.state.bin.file}),Object(ie.jsx)(oe,{}),"Not Found"===this.state.bin.file?this.renderNotFound():this.renderPage(),Object(ie.jsx)("script",{children:document.addEventListener("scroll",this.flipBackToTop)})]})}}]),s}(i.a.Component)),mt=Object(p.b)((function(e){return{preferences:e.auth.preferences,isSaving:e.classify.isSaving,user:e.auth.user,scaleEntry:e.classify.scaleEntry,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onNotebook:e.menu.onNotebook,onAnalysis:e.menu.onAnalysis}}),{classifyPublicTarget:function(e,t,s,n,i){return function(a,o){b.a.put("/edit/public/target/"+t+"/"+s+"/"+n+"/"+i,e,_(o)).catch((function(e){return console.log(e)}))}},classifyRow:He,classifyAll:Me,save:ze,sync:Ue,changeScale:Ie})(pt),bt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return 1===this.props.group[0]?Object(ie.jsx)(ot,{location:this.props.location,match:this.props.match,history:this.props.history}):Object(ie.jsx)(mt,{location:this.props.location,match:this.props.match,history:this.props.history})}}]),s}(i.a.Component),jt=Object(p.b)((function(e){return{group:e.auth.user.groups}}),{})(bt),gt=(s(44),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"renderOption",value:function(e){var t=this;return Object(ie.jsx)("div",{className:"filter-option",onClick:function(){return t.props.applyFilter(t.props.filter,e)},children:e})}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"filter-choice",onClick:function(){return e.props.onClick(e.props.filter)},children:[Object(ie.jsx)("p",{className:"filter-choice-text",children:this.props.filter}),Object(ie.jsx)("p",{className:"filter-choice-plus",id:this.props.filter+"-plus",children:"+"})]}),Object(ie.jsx)("div",{className:"filter-dropdown",id:this.props.filter+"-dropdown",children:this.props.options.map((function(t){return e.renderOption(t[e.props.filter])}))})]})}}]),s}(n.Component)),ft=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).onChange=function(e){return n.setState({searchTerms:e.target.value})},n.onSubmit=function(e){e.preventDefault();var t=n.state.appliedFilters.concat([{category:"search",choice:n.state.searchTerms}]);n.setState({appliedFilters:t}),n.props.filterNotebook(t)},n.state={notes:[{id:"",author:"",date:"",entry:"",parent:null,replies:[],timeseries:"",ifcb:"",file:"",image:""}],flags:[],classes:[],searchTerms:"",authors:[{author:""}],bins:[{bin:""}],timeseries:[{timeseries:""}],ifcbs:[{ifcb:""}],types:[{type:"Bin Note"},{type:"Target Note"}],appliedFilters:[]},n}return Object(c.a)(s,[{key:"getNotebook",value:function(e){var t=this;0===e.length?b.a.get("/notebook/").then((function(e){t.setState({notes:e.data,flags:Array(e.data.length).fill("")})})).catch((function(e){return console.log(e)})):this.props.filterNotebook(e)}},{key:"componentDidMount",value:function(){var e=this;this.getNotebook([]),b.a.get("/notebook/filters/").then((function(t){e.setState({authors:t.data.options.authors,bins:t.data.options.bins,timeseries:t.data.options.timeseries,ifcbs:t.data.options.ifcbs})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){this.props.noteChangeFlag&&(this.getNotebook(this.state.appliedFilters),this.props.receiveNotesChange())}},{key:"handleFilterClick",value:function(){document.getElementById("filter_dropdown").classList.toggle("show")}},{key:"handleFilterChoiceClick",value:function(e){document.getElementById(e+"-plus").classList.toggle("rotate-plus"),document.getElementById(e+"-dropdown").classList.toggle("show")}},{key:"handleApplyFilter",value:function(e,t){if(0===this.state.appliedFilters.filter((function(s){return s.category===e&&s.choice===t})).length){var s=this.state.appliedFilters.concat([{category:e,choice:t}]);this.getNotebook(s),this.setState({appliedFilters:s})}}},{key:"handleRemoveFilter",value:function(e){var t=this.state.appliedFilters,s=t.findIndex((function(t){return t===e})),n=t.slice(0,s).concat(t.slice(s+1,t.length));this.setState({appliedFilters:n}),this.getNotebook(n)}},{key:"renderFilterChoice",value:function(e,t){var s=this;return Object(ie.jsx)(gt,{filter:e,options:t,onClick:function(e){return s.handleFilterChoiceClick(e)},applyFilter:function(e,t){return s.handleApplyFilter(e,t)}})}},{key:"renderAppliedFilters",value:function(e){var t=this;return Object(ie.jsxs)("div",{className:"filter-choice applied",onClick:function(){return t.handleRemoveFilter(e)},children:[Object(ie.jsx)("p",{className:"filter-choice-text applied-text",children:e.category.toUpperCase()+": "+e.choice}),Object(ie.jsx)("p",{className:"filter-choice-plus applied-text rotate-plus",id:this.props.filter+"-plus",children:"+"})]})}},{key:"render",value:function(){var e=this;if(this.props.onClassify)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/"});var t=new st.c({defaultHeight:200,minHeight:200,fixedWidth:!0}),s=this.state.notes,n=this.props.user.username,i=0,a=[];function o(e,t){return Object(ie.jsxs)("div",{className:"reply",style:{margin:"0 0 0 "+String(t)+"vw"},children:[Object(ie.jsx)(Ge,{note:e,user:n,timeseries:e.timeseries,ifcb:e.ifcb,file:e.file,type:"bin",image:e.image}),Object(ie.jsx)("div",{className:"reply",style:{margin:"0 0 0 "+String(t+1)+"vw"},children:0!==e.replies.length?e.replies.map((function(e){return o(e,t+1)})):Object(ie.jsx)("div",{})})]})}function r(e){var r=e.columnIndex,c=e.key,l=e.parent,d=e.rowIndex,h=e.style;0===d&&0===r&&(i=0,a=[]);var u=3*d+r+i;if(u<s.length){if(null!==s[u].parent||a.includes(u))for(;null!==s[u].parent||a.includes(u);)if(i+=1,(u+=1)>=s.length)return;a=a.concat([u]);var p=s[u],m="";"None"!==p.image&&(m="http://akashiwo.oceandatacenter.ucsc.edu:8000/"+p.timeseries+"/"+p.file+"_"+p.ifcb+"_"+p.image+".jpg");var b=JSON.stringify(p).includes("true");return Object(ie.jsx)(st.b,{cache:t,columnIndex:r,parent:l,rowIndex:d,children:function(e){var t=e.measure,s=e.registerChild;return Object(ie.jsx)("div",{ref:s,style:h,children:Object(ie.jsxs)("div",{className:"notebook-note",onLoad:t,children:[""===m?Object(ie.jsx)("div",{}):Object(ie.jsx)("img",{src:m,className:"notebook-image",alt:"Target "+p.image}),b?Object(ie.jsx)("div",{className:"flag"}):Object(ie.jsx)("div",{}),Object(ie.jsx)("div",{className:"notebook-entry",children:Object(ie.jsxs)("div",{children:["None"===p.image?Object(ie.jsx)("div",{className:"notebook-entry",children:Object(ie.jsx)("p",{className:"notebook-entry-heading",children:p.timeseries+", "+p.file})}):Object(ie.jsxs)("div",{className:"notebook-entry",children:[Object(ie.jsx)("p",{className:"notebook-entry-heading",children:"Target "+p.image}),Object(ie.jsx)("p",{className:"notebook-entry-subtitle",children:p.timeseries+", "+p.file})]}),Object(ie.jsx)(Ge,{note:p,user:n,timeseries:p.timeseries,ifcb:p.ifcb,file:p.file,type:"bin",image:p.image}),0!==p.replies.length?p.replies.map((function(e){return o(e,1)})):Object(ie.jsx)("div",{})]})})]})},c)}},c)}}return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(oe,{}),Object(ie.jsx)("title",{children:"IFCB | Notebook"}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"notebook-heading",children:[Object(ie.jsx)("h1",{className:"notebook-header",children:"Notebook"}),Object(ie.jsx)("div",{className:"filter-button",onClick:function(){return e.handleFilterClick()},children:"Filter"})]}),Object(ie.jsx)("div",{className:"day-dropdown withmargin",id:"filter_dropdown",children:Object(ie.jsxs)("form",{className:"search-form",id:"search-form",onSubmit:this.onSubmit,children:[Object(ie.jsxs)("div",{className:"search-bar",children:[Object(ie.jsx)("div",{className:"search-icon"}),Object(ie.jsx)("input",{type:"text",className:"search-input",name:"searchTerms",onChange:this.onChange,value:this.state.searchTerms})]}),Object(ie.jsx)("div",{className:"applied-filters",children:this.state.appliedFilters.map((function(t){return e.renderAppliedFilters(t)}))}),Object(ie.jsxs)("div",{className:"filter-buttons",children:[this.renderFilterChoice("author",this.state.authors),this.renderFilterChoice("file",this.state.bins),this.renderFilterChoice("timeseries",this.state.timeseries),this.renderFilterChoice("ifcb",this.state.ifcbs)]})]})}),Object(ie.jsx)("div",{className:"notebook-content",children:Object(ie.jsx)(st.a,{children:function(s){var n=s.width,i=s.height;return Object(ie.jsx)(st.d,{cellRenderer:r,columnCount:3,columnWidth:.29*document.documentElement.clientWidth,rowHeight:t.rowHeight,deferredMeasurementCache:t,rowCount:Math.ceil(e.state.notes.length/3),height:i,width:n,notes:e.props.notes})}})})]})})})]})}}]),s}(n.Component),yt=Object(p.b)((function(e){return{user:e.auth.user,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onClassify:e.menu.onClassify,onAnalysis:e.menu.onAnalysis,noteChangeFlag:e.classify.noteChangeFlag}}),{filterNotebook:function(e,t){return function(s,n){var i=JSON.stringify(e,t);b.a.post("/notebook/applyfilters/",i,{headers:{"Content-Type":"application/json"}},_(n)).then((function(e){s({type:W,payload:e.data})})).catch((function(e){return console.log(e)}))}},receiveNotesChange:De})(ft),Ot=(s(45),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(ie.jsxs)("div",{className:"analysis-option-container",children:[Object(ie.jsx)("h2",{className:"analysis-option-heading",children:this.props.heading}),Object(ie.jsx)("p",{className:"analysis-option-description",children:this.props.description}),Object(ie.jsx)("div",{className:"analysis-option-button",onClick:this.props.handleClick,children:"Start"})]})}}]),s}(n.Component)),vt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={analysisOptions:[{heading:"Search",description:"Find any image or collection of images with the help of classification filtering, file look-up, and more."},{heading:"Download by Class",description:"Download a ZIP file containing all, or a desired subset of, images classified as a particular species."},{heading:"Analyze Community Data",description:"Check over community scientist classifications, review completion statuses, and download their datasets."},{heading:"Analyze Lab Data",description:"Review lab classification files and download the datasets."}],bin:"",target:""},n}return Object(c.a)(s,[{key:"renderAnalysisOption",value:function(e){var t;return"Search"===e.heading?t=this.props.goto_search:"Download by Class"===e.heading?t=this.props.goto_classdownload:"Analyze Community Data"===e.heading?t=this.props.goto_communityreview:"Analyze Lab Data"===e.heading&&(t=this.props.goto_labreview),Object(ie.jsx)(Ot,{heading:e.heading,description:e.description,handleClick:t},e.heading)}},{key:"render",value:function(){var e=this;return this.props.onClassify?Object(ie.jsx)(h.a,{push:!0,to:"/classify"}):this.props.onHome?Object(ie.jsx)(h.a,{push:!0,to:"/"}):this.props.onLearn?Object(ie.jsx)(h.a,{push:!0,to:"/learn"}):this.props.onNotebook?Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"}):this.props.onClassDownload?Object(ie.jsx)(h.a,{push:!0,to:"/analysis/classdownload"}):this.props.onSearch?Object(ie.jsx)(h.a,{push:!0,to:"/analysis/search"}):this.props.onCommunityReview?Object(ie.jsx)(h.a,{push:!0,to:"/analysis/communityreview"}):this.props.onLabReview?Object(ie.jsx)(h.a,{push:!0,to:"/analysis/labreview"}):Object(ie.jsxs)("div",{children:[Object(ie.jsx)(oe,{}),Object(ie.jsx)("title",{children:"IFCB | Analysis"}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"notebook-heading",children:Object(ie.jsx)("h1",{className:"notebook-header",children:"Analysis"})}),Object(ie.jsx)("div",{className:"analysis-options",children:this.state.analysisOptions.map((function(t){return e.renderAnalysisOption(t)}))})]})})})]})}}]),s}(n.Component),xt=Object(p.b)((function(e){return{user:e.auth.user,onClassify:e.menu.onClassify,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onNotebook:e.menu.onNotebook,onClassDownload:e.menu.onClassDownload,onSearch:e.menu.onSearch,onCommunityReview:e.menu.onCommunityReview,onLabReview:e.menu.onLabReview}}),{goto_classdownload:function(){return function(e){console.log("Going to Download"),e({type:R})}},goto_search:function(){return function(e){console.log("Going to Download"),e({type:H})}},goto_communityreview:se,goto_labreview:function(){return function(e){e({type:U})}}})(vt),Nt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).onChange=function(e){return n.handleNumberChange(e)},n.state={classes:[],classifiers:[],classChoice:"",optionalChoices:{include:[],exclude:[],number:"all"},loading:!1},n}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/classes/SCW/").then((function(t){e.setState({classes:t.data.map((function(e){return e.display_name}))})})).catch((function(e){return console.log(e)})),b.a.get("/classdownload/classifiers/").then((function(t){e.setState({classifiers:t.data.options.classifiers})})).catch((function(e){return console.log(e)}))}},{key:"handleClassOptionClick",value:function(e){""!==this.state.classChoice&&(document.getElementById(this.state.classChoice+"-text").style.color="#707070",document.getElementById(this.state.classChoice+"-cont").style.backgroundColor="#F8F7F7"),this.setState({classChoice:e}),document.getElementById(e+"-text").style.color="#FFFFFF",document.getElementById(e+"-cont").style.backgroundColor="#16609F"}},{key:"handleClassifierOptionClick",value:function(e){var t=this.state.optionalChoices.include,s=this.state.optionalChoices.exclude;if(document.getElementById(e+"-text").style.color="#707070",document.getElementById(e+"-cont").style.backgroundColor="#F8F7F7",t.includes(e)){var n=t.indexOf(e);t.splice(n,1);var i=s.concat([e]);this.setState({optionalChoices:{include:t,exclude:i,number:this.state.optionalChoices.number}}),document.getElementById(e+"-cont").style.backgroundColor="#7dad0b",document.getElementById(e+"-text").style.color="#FFFFFF"}else if(s.includes(e)){var a=s.indexOf(e);s.splice(a,1),this.setState({optionalChoices:{include:t,exclude:s,number:this.state.optionalChoices.number}}),document.getElementById(e+"-cont").style.backgroundColor="#F8F7F7",document.getElementById(e+"-text").style.color="#707070"}else{var o=t.concat([e]);this.setState({optionalChoices:{include:o,exclude:s,number:this.state.optionalChoices.number}}),document.getElementById(e+"-cont").style.backgroundColor="#16609F",document.getElementById(e+"-text").style.color="#FFFFFF"}}},{key:"handleAllClick",value:function(){document.getElementById("all-cont").style.backgroundColor="#16609F",document.getElementById("all-text").style.color="#FFFFFF",this.setState({optionalChoices:{include:this.state.optionalChoices.include,exclude:this.state.optionalChoices.exclude,number:"all"}})}},{key:"handleNumberChange",value:function(e){this.setState({optionalChoices:{include:this.state.optionalChoices.include,exclude:this.state.optionalChoices.exclude,number:e.target.value}}),document.getElementById("all-cont").style.backgroundColor="#F8F7F7",document.getElementById("all-text").style.color="#707070"}},{key:"download",value:function(){this.setState({loading:!0});var e=this.state.optionalChoices.include.length<1?"None":this.state.optionalChoices.include.join("-"),t=this.state.optionalChoices.exclude.length<1?"None":this.state.optionalChoices.exclude.join("-"),s=this.state.optionalChoices.number;document.getElementById("download-src").src="http://odontella.oceandatacenter.ucsc.edu:8000/classdownload/"+this.state.classChoice+"/"+e+"/"+t+"/"+s+"/"}},{key:"loadFrame",value:function(){this.setState({loading:!1})}},{key:"renderClassOption",value:function(e){var t=this;return Object(ie.jsx)("div",{className:"filter-choice download-option",id:e+"-cont",onClick:function(){return t.handleClassOptionClick(e)},children:Object(ie.jsx)("p",{className:"filter-choice-text",id:e+"-text",children:e})})}},{key:"renderClassifierOption",value:function(e){var t=this;return Object(ie.jsx)("div",{className:"filter-choice download-option",id:e+"-cont",onClick:function(){return t.handleClassifierOptionClick(e)},children:Object(ie.jsx)("p",{className:"filter-choice-text",id:e+"-text",children:e})})}},{key:"renderLoader",value:function(){return Object(ie.jsx)("img",{src:nt,alt:"Loading targets...",width:"50",loop:"infinite",style:{margin:"2vw 0 0 0"}})}},{key:"render",value:function(){var e=this;return this.props.onClassify?Object(ie.jsx)(h.a,{push:!0,to:"/classify"}):this.props.onHome?Object(ie.jsx)(h.a,{push:!0,to:"/"}):this.props.onLearn?Object(ie.jsx)(h.a,{push:!0,to:"/learn"}):this.props.onNotebook?Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"}):this.props.onAnalysis?Object(ie.jsx)(h.a,{push:!0,to:"/analysis"}):Object(ie.jsxs)("div",{children:[Object(ie.jsx)(oe,{}),Object(ie.jsx)("title",{children:"IFCB | Class Download"}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"notebook-heading",children:Object(ie.jsx)("h1",{className:"notebook-header",children:"Analysis"})}),Object(ie.jsx)("h2",{className:"analysis-option-heading page-heading",children:"Download by Class"}),Object(ie.jsxs)("div",{className:"download-steps",children:[Object(ie.jsxs)("div",{className:"download-step-container",children:[Object(ie.jsxs)("div",{className:"download-step-heading",children:[Object(ie.jsx)("div",{className:"step-icon",children:"1"}),Object(ie.jsx)("p",{className:"download-step-text",children:"Choose a classification"})]}),Object(ie.jsx)("p",{className:"download-step-subtext",children:"Select one classification name."}),Object(ie.jsx)("div",{className:"class-options",children:this.state.classes.map((function(t){return e.renderClassOption(t)}))})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"download-step-container classifiers",children:[Object(ie.jsxs)("div",{className:"download-step-heading",children:[Object(ie.jsx)("div",{className:"step-icon",children:"2"}),Object(ie.jsx)("p",{className:"download-step-text",children:"Choose classifiers (optional)"})]}),Object(ie.jsx)("p",{className:"download-step-subtext",children:"Click an option once to include it or twice to exclude it."}),Object(ie.jsx)("div",{className:"class-options",children:this.state.classifiers.map((function(t){return e.renderClassifierOption(t.editor)}))})]}),Object(ie.jsxs)("div",{className:"download-step-container",children:[Object(ie.jsxs)("div",{className:"download-step-heading",children:[Object(ie.jsx)("div",{className:"step-icon",children:"3"}),Object(ie.jsx)("p",{className:"download-step-text",children:"Choose number (optional)"})]}),Object(ie.jsx)("p",{className:"download-step-subtext",children:"Enter in the number of images to include."}),Object(ie.jsxs)("div",{className:"class-options",children:[Object(ie.jsx)("form",{children:Object(ie.jsx)("input",{type:"number",id:"number",name:"number",min:"1",onChange:this.onChange,value:this.state.optionalChoices.number})}),Object(ie.jsx)("div",{className:"filter-choice download-option",id:"all-cont",children:Object(ie.jsx)("p",{className:"filter-choice-text",id:"all-text",onClick:function(){return e.handleAllClick()},children:"All"})})]})]}),Object(ie.jsx)("div",{className:"download-button",onClick:function(){return e.download()},children:"Download"}),Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("iframe",{title:"Download Images",id:"download-src",onload:function(){return e.loadFrame()}})}),Object(ie.jsx)("div",{children:this.state.loading?this.renderLoader():Object(ie.jsx)("div",{})})]})]})]})})})]})}}]),s}(n.Component),At=Object(p.b)((function(e){return{user:e.auth.user,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onClassify:e.menu.onClassify,onNotebook:e.menu.onClassify,onAnalysis:e.menu.onAnalysis}}))(Nt),Ct=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"showMore",value:function(){document.getElementById(this.props.target.id+"-info").style.display="block",document.getElementById(this.props.target.id+"-preview").style.display="none";var e=Number(this.props.target.height),t=document.getElementById(this.props.target.id+"-info").style.width/e,s={height:String(.056*Number(this.props.target.height)*t)+"vw"};document.getElementById(this.props.target.id+"-image").style=s}},{key:"showLess",value:function(){document.getElementById(this.props.target.id+"-info").style.display="none",document.getElementById(this.props.target.id+"-preview").style.display="flex";var e=String(.056*Number(this.props.target.height))+"vw";document.getElementById(this.props.target.id+"-image").style.height=e}},{key:"render",value:function(){var e=this;if(this.props.bins!==[]){var t=this.props.bins.findIndex((function(t){return t.id===e.props.target.bin})),s=this.props.bins[t],n="http://akashiwo.oceandatacenter.ucsc.edu:8000/data/"+s.file+"_"+s.ifcb+"_"+this.props.target.number+".jpg";return Object(ie.jsxs)("div",{className:"search-result",children:[Object(ie.jsx)("img",{src:n,className:"image searh-result-image",alt:this.props.target.class_name,id:this.props.target.id+"-image",style:{height:String(.056*Number(this.props.target.height))+"vw"}}),Object(ie.jsx)("div",{className:"id",id:this.props.target.id+"-preview",children:Object(ie.jsx)("div",{className:"search-result-plus",id:this.props.target.id+"-plus",onClick:function(){return e.showMore()},children:Object(ie.jsx)("p",{className:"plus",children:"+"})})}),Object(ie.jsxs)("div",{className:"id description",style:{display:"none"},id:this.props.target.id+"-info",children:[Object(ie.jsx)("div",{className:"search-result-plus exit",onClick:function(){return e.showLess()},children:Object(ie.jsx)("p",{className:"plus x",children:"X"})}),Object(ie.jsx)("p",{className:"description-heading",children:this.props.target.class_name}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("p",{className:"description-label",children:"File: "}),Object(ie.jsx)("p",{children:s.file})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("p",{className:"description-label",children:"Time Series: "}),Object(ie.jsx)("p",{children:s.timeseries})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("p",{className:"description-label",children:"IFCB: "}),Object(ie.jsx)("p",{children:s.ifcb})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("p",{className:"description-label",children:"Target: "}),Object(ie.jsx)("p",{children:this.props.target.number})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("p",{className:"description-label",children:"Classifer: "}),Object(ie.jsx)("p",{children:this.props.target.editor})]}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)("p",{className:"description-label",children:"Date: "}),Object(ie.jsx)("p",{children:this.props.target.date})]}),Object(ie.jsx)("div",{className:"search-redirect-button",onClick:function(){return e.props.redirectToFile(s.timeseries,s.file,e.props.target.number)},children:"Go to File"})]})]})}return Object(ie.jsx)("div",{})}}]),s}(n.Component),kt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).onChange=function(e){return n.setState({basicSearch:e.target.value})},n.onSubmit=function(e){e.preventDefault(),n.setState({renderable:!1}),document.getElementById("no-results").style.display="none",n.props.searchTargets(n.state.basicSearch),n.setState({targets:n.props.targetSearchResults}),n.props.targetSearchResults===[[]]&&(document.getElementById("no-results").style.display="flex")},n.state={targets:[[]],bins:[[]],basicSearch:"",loading:!1,renderable:!1,redirectInfo:""},n}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e){var t;e.targetSearchResults!==this.props.targetSearchResults&&(t=void 0!==this.props.targetSearchResults[0].length?this.props.targetSearchResults[0]:this.props.targetSearchResults,this.props.getBins(t.map((function(e){return e.bin}))));e.binsSearchResults!==this.props.binsSearchResults&&this.setState({renderable:!0})}},{key:"redirectToFile",value:function(e,t,s){this.setState({redirectInfo:{timeseries:e,file:t,target:s}})}},{key:"renderTarget",value:function(e){var t=this;return Object(ie.jsx)(Ct,{target:e,bins:this.props.binsSearchResults[0],redirectToFile:function(e,s,n){return t.redirectToFile(e,s,n)}},e.id)}},{key:"renderLoader",value:function(){return Object(ie.jsx)("img",{src:nt,alt:"Loading targets...",width:"80",loop:"infinite"})}},{key:"render",value:function(){var e,t,s=this;if(this.props.onClassify)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis"});if(""!==this.state.redirectInfo){var n=this.state.redirectInfo.timeseries,i=this.state.redirectInfo.file,a=this.state.redirectInfo.target;return Object(ie.jsx)(h.a,{push:!0,to:"/classify/"+n+"/"+i+"/"+a})}return t=0===(e="undefined"!==typeof this.props.targetSearchResults[0].length?this.props.targetSearchResults[0]:this.props.targetSearchResults).length?{display:"flex"}:{display:"none"},Object(ie.jsxs)("div",{children:[Object(ie.jsx)(oe,{}),Object(ie.jsx)("title",{children:"IFCB | Search"}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"notebook-heading",children:Object(ie.jsx)("h1",{className:"notebook-header",children:"Analysis"})}),Object(ie.jsx)("h2",{className:"analysis-option-heading page-heading",children:"Search"}),Object(ie.jsx)("div",{children:Object(ie.jsx)("form",{className:"search-form",id:"search-form",onSubmit:this.onSubmit,children:Object(ie.jsxs)("div",{className:"search-bar",children:[Object(ie.jsx)("div",{className:"search-icon"}),Object(ie.jsx)("input",{type:"text",className:"search-input",name:"basicSearch",onChange:this.onChange,value:this.state.basicSearch})]})})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{className:"no-results",id:"no-results",style:t,children:"No results"}),Object(ie.jsx)("div",{className:"image-grid",children:this.state.loading?this.renderLoader():this.state.renderable?e.map((function(e){return s.renderTarget(e)})):Object(ie.jsx)("div",{})})]})]})})})]})}}]),s}(n.Component),wt=Object(p.b)((function(e){return{user:e.auth.user,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onClassify:e.menu.onClassify,onNotebook:e.menu.onClassify,onAnalysis:e.menu.onAnalysis,targetSearchResults:e.classify.targetSearchResults,binsSearchResults:e.classify.binsSearchResults}}),{searchTargets:function(e){return function(t,s){var n=JSON.stringify(e);b.a.post("/searchtargets/",n,{headers:{"Content-Type":"application/json"}},_(s)).then((function(e){t({type:q,payload:(e.data.length,e.data)})})).catch((function(e){return console.log(e)}))}},getBins:function(e){return function(t,s){var n=JSON.stringify(e);b.a.post("/bins/",n,{headers:{"Content-Type":"application/json"}},_(s)).then((function(e){t({type:K,payload:e.data})})).catch((function(e){return console.log(e)}))}}})(kt),St=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"getDate",value:function(e){var t=e.slice(1,5)+"-"+e.slice(5,7)+"-"+e.slice(7,12)+":"+e.slice(12,14)+":"+e.slice(14,16),s=new Date(t);return s.toDateString().slice(4,10)+","+s.toDateString().slice(10)}},{key:"handleDownload",value:function(){document.getElementById("download-src").src="http://odontella.oceandatacenter.ucsc.edu:8000/public/mat/"+this.props.ifcb+"/"+this.props.file+"/"+this.props.classifier+"/"}},{key:"render",value:function(){var e=this,t="";return this.props.categorized?t="community-file-preview-categorized":this.props.identified&&(t="community-file-preview-identified"),Object(ie.jsxs)("div",{className:"community-file-preview-container "+t,children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{className:"community-file-date",children:this.getDate(this.props.file)}),Object(ie.jsx)("p",{className:"community-file-file",children:this.props.file}),Object(ie.jsx)("p",{className:"community-file-classifier",children:this.props.classifier})]}),Object(ie.jsxs)("div",{className:"community-file-preview-buttons",children:[Object(ie.jsx)("div",{className:"round-button download community-download",onClick:function(){return e.handleDownload()},children:Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("iframe",{id:"download-src"})})}),Object(ie.jsx)("div",{className:"round-button right-arrow community-download",onClick:function(){return e.props.onClick(e.props.timeseries,e.props.file,e.props.classifier)}})]})]})}}]),s}(n.Component),Et=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={files:[],selectedTimeseries:"",selectedFile:"",selectedUser:""},n}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/communityfiles/").then((function(t){e.setState({files:t.data.reverse()})})).catch((function(e){return console.log(e)}))}},{key:"handleFileClick",value:function(e,t,s){this.setState({selectedTimeseries:e,selectedFile:t,selectedUser:s}),this.props.goto_communityfile()}},{key:"renderLegend",value:function(){return Object(ie.jsxs)("div",{className:"community-review-legend",children:[Object(ie.jsxs)("div",{className:"legend-entry",children:[Object(ie.jsx)("div",{className:"legend-bubble identified-bubble"}),Object(ie.jsx)("p",{className:"legend-text",children:"Identification Complete"})]}),Object(ie.jsxs)("div",{className:"legend-entry",children:[Object(ie.jsx)("div",{className:"legend-bubble categorized-bubble"}),Object(ie.jsx)("p",{className:"legend-text",children:"Categorization Complete"})]}),Object(ie.jsxs)("div",{className:"legend-entry",children:[Object(ie.jsx)("div",{className:"legend-bubble incomplete-bubble"}),Object(ie.jsx)("p",{className:"legend-text",children:"Incomplete"})]})]})}},{key:"render",value:function(){var e=this;if(this.props.onClassify)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis"});if(this.props.onCommunityFile)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/communityreview/"+this.state.selectedTimeseries+"/"+this.state.selectedFile+"/"+this.state.selectedUser});var t=new st.c({defaultHeight:10,minHeight:10,fixedWidth:!0}),s=this.state.files;return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(oe,{}),Object(ie.jsx)("title",{children:"IFCB | Community Review"}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"notebook-heading",children:Object(ie.jsx)("h1",{className:"notebook-header",children:"Analysis"})}),Object(ie.jsx)("h2",{className:"analysis-option-heading page-heading community-review-heading",children:"Community Review"}),this.renderLegend(),Object(ie.jsx)("div",{children:this.state.files.length>1?Object(ie.jsx)(st.d,{width:.8*document.documentElement.clientWidth,height:800,columnWidth:.8*document.documentElement.clientWidth/4,rowHeight:.11*document.documentElement.clientWidth,rowCount:Math.floor(this.state.files.length/4)+1,columnCount:4,cellRenderer:function(n){var i=n.columnIndex,a=n.key,o=n.rowIndex,r=n.parent,c=n.style;return Object(ie.jsx)(st.b,{cache:t,parent:r,rowIndex:o,columnIndex:i,children:function(t){var n=t.measure,r=t.registerChild;return Object(ie.jsx)("div",{ref:r,style:c,children:Object(ie.jsx)("div",{onLoad:n,children:s[4*o+i]?Object(ie.jsx)(St,{timeseries:s[4*o+i].bin.timeseries,file:s[4*o+i].bin.file,ifcb:s[4*o+i].bin.ifcb,classifier:s[4*o+i].classifier,categorized:s[4*o+i].bin.categorized,identified:s[4*o+i].bin.identified,onClick:function(){return e.handleFileClick(s[4*o+i].bin.timeseries,s[4*o+i].bin.file,s[4*o+i].classifier)}}):Object(ie.jsx)("div",{})})},a)}},a)},scrollToAlignment:"start",className:"community-review-grid"}):Object(ie.jsx)("div",{})})]})})})]})}}]),s}(n.Component),Bt=Object(p.b)((function(e){return{user:e.auth.user,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onClassify:e.menu.onClassify,onNotebook:e.menu.onClassify,onAnalysis:e.menu.onAnalysis,onCommunityFile:e.menu.onCommunityFile}}),{goto_communityfile:ne})(Et),It=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"getDate",value:function(e){var t=e.slice(1,5)+"-"+e.slice(5,7)+"-"+e.slice(7,12)+":"+e.slice(12,14)+":"+e.slice(14,16),s=new Date(t);return s.toDateString().slice(4,10)+","+s.toDateString().slice(10)}},{key:"handleDownload",value:function(){document.getElementById("download-src").src="http://odontella.oceandatacenter.ucsc.edu:8000/mat/"+this.props.ifcb+"/"+this.props.file+"/"}},{key:"render",value:function(){var e=this,t="",s="This file is incomplete.";return this.props.categorized?(t="community-file-preview-categorized",s="This file is fully categorized, but not fully identified."):this.props.identified&&(t="community-file-preview-identified",s="This file is fully categorized and identified."),Object(ie.jsxs)("div",{className:"community-file-info-container",children:[Object(ie.jsxs)("div",{className:"community-file-preview-container community-file-info "+t,children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{className:"community-file-date community-file-heading",children:this.getDate(this.props.file)}),Object(ie.jsx)("p",{className:"community-file-file",children:this.props.file}),Object(ie.jsx)("p",{className:"community-file-classifier",children:this.props.classifier})]}),Object(ie.jsxs)("div",{className:"community-file-preview-buttons",children:[Object(ie.jsx)("div",{className:"round-button download community-download",onClick:function(){return e.handleDownload()},children:Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("iframe",{id:"download-src"})})}),Object(ie.jsx)("div",{className:"round-button right-arrow community-download flip-right-arrow",onClick:function(){return e.props.onClick()}})]})]}),Object(ie.jsx)("div",{className:"community-file-status-container",children:Object(ie.jsx)("p",{className:"community-file-status "+t+"-text",children:s})})]})}}]),s}(n.Component),Ft=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={loading:!0,newFile:"",newTimeSeries:"",planktonClickEnabled:!0,infoShowing:[],bin:{timeseries:"",ifcb:"",year:"",day:"",file:""},user:"",targets:[],targetNumbers:[],rows:[],scrollToIndex:void 0,jumpEntry:"",jumpSubmit:"",initialTargetJump:"",lastEditBin:"",lastEditTarget:"",lastScroll:0,categorized:!1,identified:!1},n}return Object(c.a)(s,[{key:"getNewTimeSeries",value:function(e){var t=this;this.setState({loading:!0});var s=this.state.timeSeriesOptions.findIndex((function(t){return t===e})),n=this.state.timeSeriesNames[s];b.a.get("/process/public/timeseries/"+n+"/").then((function(e){t.setState({newTimeSeries:n,newFile:e.data.bin.file})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname.split("/"),s=t[3],n=t[4],i=t[5];this.setState({loading:!0,user:i}),void 0!==n&&(b.a.get("/process/public/file/"+s+"/"+n+"/"+i+"/").then((function(t){e.setState({bin:t.data.bin,yearOptions:t.data.options.year_options.reverse(),dayOptions:t.data.options.day_options[1],dateOptions:t.data.options.filled_days.map((function(e){return new Date(e)})),fileOptions:t.data.options.file_options,filledDays:t.data.options.filled_days,dayOption:t.data.bin.day}),b.a.get("/process/public/targets/"+s+"/"+n+"/"+i+"/").then((function(t){e.setState({targets:t.data,targetNumbers:t.data.map((function(e){return e.number})),loading:!1}),b.a.get("/process/rows/community/"+e.state.bin.timeseries+"/"+e.state.bin.file+"/"+i+"/").then((function(t){e.setState({rows:t.data.options.rows})}))}))})).catch((function(t){console.log(t),e.setState({bin:{timeseries:"",ifcb:"",year:"",day:"",file:"Not Found"}})})),b.a.get("/complete/public/status/"+s+"/"+n+"/"+i+"/").then((function(t){e.setState({categorized:t.data.options.categorized,identified:t.data.options.identified})})))}},{key:"componentDidUpdate",value:function(e){this.props.match.url!==e.match.url&&this.props.history.go(0)}},{key:"disablePlanktonClick",value:function(e,t,s){var n=document.getElementById(e+"-info").classList;if(s||n.contains("show-info"))this.state.infoShowing.includes(e)||this.setState({infoShowing:this.state.infoShowing.concat([e])}),this.setState({planktonClickEnabled:!1});else{var i=this.state.infoShowing.filter((function(t){return t!==e}));this.setState({planktonClickEnabled:t,infoShowing:i})}}},{key:"renderLoader",value:function(){return Object(ie.jsx)("img",{src:nt,alt:"Loading targets...",width:"80",loop:"infinite",style:{margin:"0 0 3vw 0"}})}},{key:"returnToClassify",value:function(){this.setState({newFile:"blank"})}},{key:"renderNotFound",value:function(){var e=this;return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsx)("div",{className:"content",children:Object(ie.jsxs)("div",{className:"inner-content",children:[Object(ie.jsx)("h1",{children:"File Not Found"}),Object(ie.jsx)("p",{className:"not-found-message",children:"The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL."}),Object(ie.jsx)("div",{className:"return-button",onClick:function(){return e.returnToClassify()},children:"Return to Classify"})]})})})})}},{key:"renderPage",value:function(){var e=this,t=new st.c({defaultHeight:10,minHeight:10,fixedWidth:!0}),s=this.state.scrollToIndex;""===this.state.bin.day?new Date:new Date(this.state.bin.day+"-"+this.state.bin.year);return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsx)("div",{className:"content",children:Object(ie.jsxs)("div",{className:"inner-content",children:[Object(ie.jsx)("div",{className:"notebook-heading",children:Object(ie.jsx)("h1",{className:"notebook-header",children:"Analysis"})}),Object(ie.jsx)("h2",{className:"analysis-option-heading page-heading community-review-heading",children:"Community Review"}),this.state.bin.file?Object(ie.jsx)(It,{timeseries:this.state.bin.timeseries,file:this.state.bin.file,ifcb:this.state.bin.ifcb,classifier:this.state.user,categorized:this.state.categorized,identified:this.state.identified,onClick:function(){return e.props.goto_communityreview()}}):Object(ie.jsx)("div",{}),Object(ie.jsx)("div",{className:"annotations",children:Object(ie.jsx)("div",{children:Object(ie.jsxs)("div",{className:"image-grid remove-top-margin",id:"image-grid",children:[this.state.loading||this.props.isSaving?this.renderLoader():console.log(),this.state.emptyCategories&&this.state.categorizeMode?Object(ie.jsx)("p",{className:"empty-categories-text",children:"Nothing to categorize! Switch over to Identify mode to start classifying."}):Object(ie.jsx)(st.e,{height:800,rowCount:this.state.rows.length,rowHeight:t.rowHeight,rowRenderer:function(s){var n=s.index,i=s.key,a=s.parent,o=s.style;return e.state.targets.length<1?Object(ie.jsx)("div",{}):Object(ie.jsx)(st.b,{cache:t,parent:a,rowIndex:n,children:function(t){var s=t.measure,a=t.registerChild;return Object(ie.jsx)("div",{ref:a,style:o,children:Object(ie.jsx)("div",{onLoad:s,className:"row",children:Object(ie.jsx)("div",{className:"image-row",children:e.state.rows[n].map((function(t){return Object(ie.jsx)(Ve,{timeseries:e.state.bin.timeseries,file:e.state.bin.file,timestamp:e.state.bin.file,id:t,targetNum:e.state.targets[t].number,class_name:e.state.targets[t].class_name,class_abbr:e.state.targets[t].class_abbr,height:e.state.targets[t].height,width:e.state.targets[t].width,scale:e.props.scaleEntry/10,ifcb:e.state.bin.ifcb,editor:"jamiewalton",date:e.state.targets[t].date,onClick:function(){return console.log()},onCheck:function(){return console.log()},infoChange:function(t,s,n){return e.disablePlanktonClick(t,s,n)},infoShowing:e.state.infoShowing,public:!1,categorizeMode:!1,noteOption:!1})}))})})},i)}},i)},scrollToAlignment:"start",scrollToIndex:s,width:.72*document.documentElement.clientWidth})]})})})]})})})})}},{key:"render",value:function(){if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/"});if(this.props.onCommunityReview)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/communityreview/"});if(0!==this.state.newFile.length){if("blank"===this.state.newFile)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});var e="/classify/"+this.state.newTimeSeries+"/"+this.state.newFile;return Object(ie.jsx)(h.a,{push:!0,to:e})}if(this.state.rows!==[]&&""===this.state.initialTargetJump&&!this.state.loading){var t=this.props.location.pathname.split("/");if(t.length>4){var s=t[4],n=this.state.targets.findIndex((function(e){return e.number===s})),i=this.state.rows.findIndex((function(e){return e.includes(n)}));(isNaN(i)||i<0)&&(i=void 0),this.setState({jumpEntry:s,jumpSubmit:s,initialTargetJump:s,scrollToIndex:i})}}return Object(ie.jsxs)("div",{className:"body",children:[Object(ie.jsx)("title",{children:"IFCB | "+this.state.bin.file}),Object(ie.jsx)(oe,{}),"Not Found"===this.state.bin.file?this.renderNotFound():this.renderPage(),Object(ie.jsx)("script",{children:document.addEventListener("scroll",this.flipBackToTop)})]})}}]),s}(i.a.Component),Lt=Object(p.b)((function(e){return{preferences:e.auth.preferences,isSaving:e.classify.isSaving,user:e.auth.user,scaleEntry:e.classify.scaleEntry,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onNotebook:e.menu.onNotebook,onAnalysis:e.menu.onAnalysis,onCommunityReview:e.menu.onCommunityReview}}),{goto_communityreview:se})(Ft),Tt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"getDate",value:function(e){var t=e.slice(1,5)+"-"+e.slice(5,7)+"-"+e.slice(7,12)+":"+e.slice(12,14)+":"+e.slice(14,16),s=new Date(t);return s.toDateString().slice(4,10)+","+s.toDateString().slice(10)}},{key:"handleDownload",value:function(){document.getElementById("download-src").src="http://odontella.oceandatacenter.ucsc.edu:8000/mat/"+this.props.ifcb+"/"+this.props.file+"/"}},{key:"render",value:function(){var e=this,t="";return this.props.complete&&(t="community-file-preview-categorized"),Object(ie.jsxs)("div",{className:"community-file-preview-container "+t,children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{className:"community-file-date",children:this.getDate(this.props.file)}),Object(ie.jsx)("p",{className:"community-file-file",children:this.props.file})]}),Object(ie.jsxs)("div",{className:"community-file-preview-buttons",children:[Object(ie.jsx)("div",{className:"round-button download community-download",onClick:function(){return e.handleDownload()},children:Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("iframe",{id:"download-src"})})}),Object(ie.jsx)("div",{className:"round-button right-arrow community-download",onClick:function(){return e.props.onClick(e.props.timeseries,e.props.file)}})]})]})}}]),s}(n.Component),Dt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={files:[],selectedTimeseries:"",selectedFile:""},n}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/bins/").then((function(t){e.setState({files:t.data.reverse()})})).catch((function(e){return console.log(e)}))}},{key:"handleFileClick",value:function(e,t){this.setState({selectedTimeseries:e,selectedFile:t})}},{key:"renderLegend",value:function(){return Object(ie.jsxs)("div",{className:"community-review-legend",children:[Object(ie.jsxs)("div",{className:"legend-entry",children:[Object(ie.jsx)("div",{className:"legend-bubble categorized-bubble"}),Object(ie.jsx)("p",{className:"legend-text",children:"Complete"})]}),Object(ie.jsxs)("div",{className:"legend-entry",children:[Object(ie.jsx)("div",{className:"legend-bubble incomplete-bubble"}),Object(ie.jsx)("p",{className:"legend-text",children:"Incomplete"})]})]})}},{key:"render",value:function(){var e=this;if(this.props.onClassify)return Object(ie.jsx)(h.a,{push:!0,to:"/classify"});if(this.props.onHome)return Object(ie.jsx)(h.a,{push:!0,to:"/"});if(this.props.onLearn)return Object(ie.jsx)(h.a,{push:!0,to:"/learn"});if(this.props.onNotebook)return Object(ie.jsx)(h.a,{push:!0,to:"/notebook/"});if(this.props.onAnalysis)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis"});if(this.props.onCommunityFile)return Object(ie.jsx)(h.a,{push:!0,to:"/analysis/communityreview/"+this.state.selectedTimeseries+"/"+this.state.selectedFile+"/"+this.state.selectedUser});if(""!==this.state.selectedTimeseries)return Object(ie.jsx)(h.a,{push:!0,to:"/classify/"+this.state.selectedTimeseries+"/"+this.state.selectedFile+"/"});var t=new st.c({defaultHeight:10,minHeight:10,fixedWidth:!0}),s=this.state.files;return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(oe,{}),Object(ie.jsx)("title",{children:"IFCB | Lab Review"}),Object(ie.jsx)("div",{className:"main",children:Object(ie.jsx)("div",{className:"page",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"notebook-heading",children:Object(ie.jsx)("h1",{className:"notebook-header",children:"Analysis"})}),Object(ie.jsx)("h2",{className:"analysis-option-heading page-heading community-review-heading",children:"Lab Review"}),this.renderLegend(),Object(ie.jsx)("div",{children:this.state.files.length>1?Object(ie.jsx)(st.d,{width:.8*document.documentElement.clientWidth,height:800,columnWidth:.8*document.documentElement.clientWidth/4,rowHeight:.11*document.documentElement.clientWidth,rowCount:Math.floor(this.state.files.length/4)+1,columnCount:4,cellRenderer:function(n){var i=n.columnIndex,a=n.key,o=n.rowIndex,r=n.parent,c=n.style;return Object(ie.jsx)(st.b,{cache:t,parent:r,rowIndex:o,columnIndex:i,children:function(t){var n=t.measure,r=t.registerChild;return Object(ie.jsx)("div",{ref:r,style:c,children:Object(ie.jsx)("div",{onLoad:n,children:s[4*o+i]?Object(ie.jsx)(Tt,{timeseries:s[4*o+i].timeseries,file:s[4*o+i].file,ifcb:s[4*o+i].ifcb,complete:s[4*o+i].complete,onClick:function(){return e.handleFileClick(s[4*o+i].timeseries,s[4*o+i].file)}}):Object(ie.jsx)("div",{})})},a)}},a)},scrollToAlignment:"start",className:"community-review-grid"}):Object(ie.jsx)("div",{})})]})})})]})}}]),s}(n.Component),Rt=Object(p.b)((function(e){return{user:e.auth.user,onHome:e.menu.onHome,onLearn:e.menu.onLearn,onClassify:e.menu.onClassify,onNotebook:e.menu.onClassify,onAnalysis:e.menu.onAnalysis,onCommunityFile:e.menu.onCommunityFile}}),{goto_communityfile:ne})(Dt),Ht=(s(178),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:"",attempted:!1},e.onSubmit=function(t){t.preventDefault(),e.props.login(e.state.username,e.state.password),e.setState({attempted:!0})},e.onChange=function(t){var s;return e.setState((s={},Object(Xe.a)(s,t.target.name,t.target.value),Object(Xe.a)(s,"attempted",!1),s))},e}return Object(c.a)(s,[{key:"render",value:function(){if(document.getElementById("error")){var e=document.getElementById("error").classList;if(this.props.isAuthenticated)return this.props.onLogin?Object(ie.jsx)(h.a,{push:!0,to:"/classify"}):Object(ie.jsx)(h.a,{push:!0,to:this.props.location});this.props.loginFailed&&this.state.attempted?e.contains("show")||e.add("show"):e.contains("show")&&e.remove("show")}if(this.props.onHome)return Object(ie.jsx)(h.a,{to:"/"});var t=this.state,s=t.username,n=t.password;return Object(ie.jsxs)("div",{className:"body",children:[Object(ie.jsx)("title",{children:"IFCB | Login"}),Object(ie.jsxs)("main",{className:"login-main",children:[Object(ie.jsxs)("div",{className:"header",children:[Object(ie.jsx)("button",{onClick:this.props.goto_home,className:"h3",children:"IFCB Classification"}),Object(ie.jsxs)("ul",{className:"navbar",children:[Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)(u.b,{to:"/register",className:"nav-link",children:"Register"})}),Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)(u.b,{to:"/login",className:"nav-link",children:"Login"})})]})]}),Object(ie.jsx)("div",{className:"main-container",children:Object(ie.jsxs)("div",{className:"sub-container",children:[Object(ie.jsx)("h2",{children:"Welcome back."}),Object(ie.jsx)("p",{className:"auth-text",children:"Sign in to start classifying."}),Object(ie.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:this.onChange,value:s}),Object(ie.jsx)("label",{children:"Username"})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:n}),Object(ie.jsx)("label",{children:"Password"})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)("p",{className:"error-message",id:"error",children:"Incorrect username or password."}),Object(ie.jsx)("button",{type:"submit",className:"login-submit",children:"Login"})]})]})]})})]})]})}}]),s}(n.Component)),Mt=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loginFailed:e.auth.loginFailed,location:e.auth.location,onHome:e.menu.onHome,onLogin:e.menu.onLogin}}),{login:function(e,t){return function(s){s({type:O});var n=JSON.stringify({username:e,password:t});b.a.post("/api/auth/login",n,{headers:{"Content-Type":"application/json"}}).then((function(e){s({type:v,payload:e.data})})).catch((function(e){s({type:x})}))}},goto_home:$})(Ht),zt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={groups:"",username:"",email:"",password:"",password2:"",labcode:"",correctLabCode:"",attempted:!1,errorMessage:""},e.onSubmit=function(t){t.preventDefault(),e.setState({attempted:!0});var s=e.state,n=s.groups,i=s.username,a=s.email,o=s.password,r=s.password2,c=s.labcode;if(o!==r)e.setState({errorMessage:"Passwords do not match."});else if(""===e.state.groups)e.setState({errorMessage:"No role selected."});else if("Lab User"===e.state.groups&&c!==e.state.correctLabCode)e.setState({errorMessage:"Incorrect lab code."});else{var l={groups:n,username:i,email:a,password:o};e.props.register(l)}},e.onChange=function(t){var s;return e.setState((s={},Object(Xe.a)(s,t.target.name,t.target.value),Object(Xe.a)(s,"attempted",!1),s))},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/labcode/").then((function(t){return e.setState({correctLabCode:t.data.code})}))}},{key:"handleCommunityRole",value:function(){"Lab User"===this.state.groups&&(document.getElementById("role-scientist-button").classList.remove("role-button-clicked"),document.getElementById("scientist").classList.remove("role-scientist-icon-hover"));this.setState({groups:"Public User"});var e=document.getElementById("community"),t=document.getElementById("role-community-button"),s=document.getElementById("form"),n=document.getElementById("role-text"),i=document.getElementById("labcode");e.classList.add("role-community-icon-hover"),t.classList.toggle("role-button-clicked"),s.classList.add("show-form"),n.classList.add("hide"),i.classList.add("hide"),i.classList.contains("show-form")&&i.classList.remove("show-form")}},{key:"handleLabRole",value:function(){"Public User"===this.state.groups&&(document.getElementById("role-community-button").classList.remove("role-button-clicked"),document.getElementById("community").classList.remove("role-community-icon-hover"));this.setState({groups:"Lab User"});var e=document.getElementById("scientist"),t=document.getElementById("role-scientist-button"),s=document.getElementById("form"),n=document.getElementById("role-text"),i=document.getElementById("labcode");e.classList.add("role-scientist-icon-hover"),t.classList.toggle("role-button-clicked"),s.classList.add("show-form"),n.classList.add("hide"),i.classList.add("show-form")}},{key:"handleRoleHover",value:function(e){if("Public User"!==this.state.groups&&"community"===e)document.getElementById(e).classList.toggle("role-"+e+"-icon-hover");else if("Lab User"!==this.state.groups&&"scientist"===e){document.getElementById(e).classList.toggle("role-"+e+"-icon-hover")}}},{key:"render",value:function(){var e=this;if(this.props.onHome&&!this.props.onRegister)return Object(ie.jsx)(h.a,{to:"/"});if(document.getElementById("error")){var t=document.getElementById("error").classList;if(this.props.isAuthenticated)return Object(ie.jsx)(h.a,{to:"/classify"});this.props.registerFailed&&this.state.attempted?t.contains("show")||t.add("show"):t.contains("show")&&t.remove("show")}var s=this.state,n=s.username,i=s.email,a=s.password,o=s.password2,r=s.labcode;return Object(ie.jsxs)("div",{className:"body",children:[Object(ie.jsx)("title",{children:"IFCB | Register"}),Object(ie.jsxs)("main",{className:"register-main",children:[Object(ie.jsxs)("div",{className:"header",children:[Object(ie.jsx)("button",{onClick:this.props.goto_home,className:"h3",children:"IFCB Classification"}),Object(ie.jsxs)("ul",{className:"navbar",children:[Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)(u.b,{to:"/register",className:"nav-link",children:"Register"})}),Object(ie.jsx)("li",{className:"nav-item",children:Object(ie.jsx)(u.b,{to:"/login",className:"nav-link",children:"Login"})})]})]}),Object(ie.jsx)("div",{className:"main-container",children:Object(ie.jsxs)("div",{className:"sub-container",children:[Object(ie.jsx)("h2",{children:"Welcome."}),Object(ie.jsx)("p",{className:"auth-text",children:"Create an account to start classifying."}),Object(ie.jsx)("p",{className:"role-text",id:"role-text",children:"Select your role."}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsxs)("div",{className:"role-button",id:"role-community-button",onMouseEnter:function(){return e.handleRoleHover("community")},onMouseLeave:function(){return e.handleRoleHover("community")},onClick:function(){return e.handleCommunityRole()},children:[Object(ie.jsx)("div",{className:"role-community-icon",id:"community"}),"Community Member"]}),Object(ie.jsxs)("div",{className:"role-button extra-margin",id:"role-scientist-button",onMouseEnter:function(){return e.handleRoleHover("scientist")},onMouseLeave:function(){return e.handleRoleHover("scientist")},onClick:function(){return e.handleLabRole()},children:[Object(ie.jsx)("div",{className:"role-scientist-icon",id:"scientist"}),"Lab Member"]})]}),Object(ie.jsxs)("form",{onSubmit:this.onSubmit,className:"hide",id:"form",children:[Object(ie.jsx)("div",{className:"form-group",children:Object(ie.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:this.onChange,value:n,placeholder:"Username"})}),Object(ie.jsx)("div",{className:"form-group",children:Object(ie.jsx)("input",{type:"text",className:"form-control",name:"email",onChange:this.onChange,value:i,placeholder:"Email"})}),Object(ie.jsx)("div",{className:"form-group",children:Object(ie.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:a,placeholder:"Password"})}),Object(ie.jsx)("div",{className:"form-group",children:Object(ie.jsx)("input",{type:"password",className:"form-control",name:"password2",onChange:this.onChange,value:o,placeholder:"Confirm Password"})}),Object(ie.jsx)("div",{className:"form-group",children:Object(ie.jsx)("input",{type:"text",id:"labcode",className:"form-control",name:"labcode",onChange:this.onChange,value:r,placeholder:"Lab Code"})}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)("p",{className:"error-message",id:"error",children:this.state.errorMessage}),Object(ie.jsx)("button",{type:"submit",className:"register-submit",children:"Create Account"})]})]})]})})]})]})}}]),s}(n.Component),Ut=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,onHome:e.menu.onHome,onRegister:e.menu.onRegister,registerFailed:e.auth.registerFailed}}),{register:function(e){var t=e.groups,s=e.username,n=e.password,i=e.email;return function(e){e({type:"REGISTER_ATTEMPT"});var a=JSON.stringify({groups:t,username:s,email:i,password:n});console.log(t),b.a.post("/api/auth/register",a,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:A,payload:t.data})})).catch((function(t){e({type:C})}))}},goto_home:$})(zt),Pt=s(8),Gt=s(93),Zt=s.p+"static/media/loader.a069fadb.GIF",Qt=["component","auth"],Jt=Object(p.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,s=e.auth,n=Object(Gt.a)(e,Qt);return Object(ie.jsx)(h.b,Object(Pt.a)(Object(Pt.a)({},n),{},{render:function(e){return window.location.pathname,s.isLoading?Object(ie.jsx)("img",{src:Zt,alt:"Loading...",width:"80",loop:"infinite"}):s.isAuthenticated?Object(ie.jsx)(t,Object(Pt.a)({},e)):Object(ie.jsx)(h.a,{to:"/login"})}}))})),Vt=s(43),Xt=s(91),Yt=s(92),Wt={token:localStorage.getItem("token"),isAuthenticated:null,loginFailed:!1,registerFailed:!1,isLoading:!1,user:null,preferences:{id:0,user:0,sort:"AZ",scale:"0.560",load:"recent",phytoguide:!0},location:window.location.pathname,locationCount:1},qt={onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1},Kt={isSaving:!1,isSyncing:!1,scaleEntry:.56,noteChangeFlag:!0,replyChangeFlag:!1,notes:[],targetSearchResults:[[]],binsSearchResults:[[]]},_t=Object(Vt.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(Pt.a)(Object(Pt.a)({},e),{},{isLoading:!0});case g:return Object(Pt.a)(Object(Pt.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload.user,preferences:t.payload.preferences});case w:return Object(Pt.a)(Object(Pt.a)({},e),{},{preferences:t.payload});case f:return Object(Pt.a)(Object(Pt.a)({},e),{},{location:t.payload});case O:return Object(Pt.a)(Object(Pt.a)(Object(Pt.a)({},e),t.payload),{},{loginFailed:!1});case v:case A:return localStorage.setItem("token",t.payload.token),Object(Pt.a)(Object(Pt.a)(Object(Pt.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case S:console.log("Failed to load user preferences.");case y:case N:case C:return localStorage.removeItem("token"),Object(Pt.a)(Object(Pt.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1,registerFailed:!0});case C:return localStorage.removeItem("token"),Object(Pt.a)(Object(Pt.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});case x:return localStorage.removeItem("token"),Object(Pt.a)(Object(Pt.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1,loginFailed:!0});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!0,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case B:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!0,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case I:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!0,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case F:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!0,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case L:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!0,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case T:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!0,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case D:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!0,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case R:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!0,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case H:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!0,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!1});case M:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!0,onCommunityFile:!1,onLabReview:!1});case z:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!0,onLabReview:!1});case U:return Object(Pt.a)(Object(Pt.a)({},e),{},{onHome:!1,onLearn:!1,onRegister:!1,onLogin:!1,onClassify:!1,onNotebook:!1,onAnalysis:!1,onClassDownload:!1,onSearch:!1,onCommunityReview:!1,onCommunityFile:!1,onLabReview:!0});default:return e}},classify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(Pt.a)(Object(Pt.a)({},e),{},{isSaving:!0});case P:return Object(Pt.a)(Object(Pt.a)({},e),{},{isSaving:!1});case Q:return Object(Pt.a)(Object(Pt.a)({},e),{},{isSyncing:!0});case Z:return Object(Pt.a)(Object(Pt.a)({},e),{},{isSyncing:!1});case k:return Object(Pt.a)(Object(Pt.a)({},e),{},{scaleEntry:t.payload});case J:return Object(Pt.a)(Object(Pt.a)({},e),{},{noteChangeFlag:!0});case V:return Object(Pt.a)(Object(Pt.a)({},e),{},{noteChangeFlag:!1});case X:return Object(Pt.a)(Object(Pt.a)({},e),{},{noteChangeFlag:!0});case Y:return Object(Pt.a)(Object(Pt.a)({},e),{},{noteChangeFlag:!1});case W:return Object(Pt.a)(Object(Pt.a)({},e),{},{notes:t.payload});case q:return Object(Pt.a)(Object(Pt.a)({},e),{},{targetSearchResults:typeof t.payload===Array?t.payload:[t.payload]});case K:return Object(Pt.a)(Object(Pt.a)({},e),{},{binsSearchResults:typeof t.payload===Array?t.payload:[t.payload]});default:return e}}}),$t=[Xt.a],es=Object(Vt.createStore)(_t,{},Object(Yt.composeWithDevTools)(Vt.applyMiddleware.apply(void 0,$t))),ts=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){es.dispatch((function(e,t){e({type:j}),b.a.get("/api/auth/user",_(t)).then((function(t){b.a.get("/preferences/"+t.data.username+"/").then((function(s){e({type:g,payload:{user:t.data,preferences:s.data}})})).catch((function(t){e({type:S})}))})).catch((function(t){e({type:y})}))}))}},{key:"render",value:function(){return Object(ie.jsx)(p.a,{store:es,children:Object(ie.jsx)(u.a,{children:Object(ie.jsxs)(h.d,{children:[Object(ie.jsx)(Jt,{exact:!0,path:"/classify/:timeseries/:file",component:Object(h.g)(jt)},window.location.pathname),Object(ie.jsx)(Jt,{exact:!0,path:"/classify/:timeseries/:file/:target",component:Object(h.g)(jt)},window.location.pathname),Object(ie.jsx)(Jt,{exact:!0,path:"/classify/",component:jt}),Object(ie.jsx)(Jt,{exact:!0,path:"/notebook/",component:yt}),Object(ie.jsx)(Jt,{exact:!0,path:"/analysis",component:xt}),Object(ie.jsx)(Jt,{exact:!0,path:"/analysis/classdownload",component:At}),Object(ie.jsx)(Jt,{exact:!0,path:"/analysis/search",component:wt}),Object(ie.jsx)(Jt,{exact:!0,path:"/analysis/communityreview",component:Bt}),Object(ie.jsx)(Jt,{exact:!0,path:"/analysis/communityreview/:timeseries/:file/:user",component:Object(h.g)(Lt)},window.location.pathname),Object(ie.jsx)(Jt,{exact:!0,path:"/analysis/labreview",component:Rt}),Object(ie.jsx)(h.b,{exact:!0,path:"/register",component:Ut}),Object(ie.jsx)(h.b,{exact:!0,path:"/login",component:Mt}),Object(ie.jsx)(h.b,{exact:!0,path:"/",component:me},window.location.pathname),Object(ie.jsx)(h.b,{exact:!0,path:"/learn",component:Se})]})})})}}]),s}(n.Component),ss=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,188)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;s(e),n(e),i(e),a(e),o(e)}))};o.a.render(Object(ie.jsx)(ts,{}),document.getElementById("root")),ss()},25:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},83:function(e,t,s){}},[[179,1,2]]]);
//# sourceMappingURL=main.813d11e0.chunk.js.map