{"version":3,"sources":["actions/types.js","actions/auth.js","actions/menu.js","components/layout/Header.js","assets/ifcb-gallery.png","assets/ditylum-gradient.png","assets/webpage.png","assets/chaetoceros-gradient.png","assets/lithodesmium-gradient.png","assets/centric-gradient.png","components/layout/Landing.js","assets/IFCB-Pier17.jpeg","assets/IFCB-USGS.jpeg","assets/ceratium-drawing.png","assets/microscope-plankton.jpg","assets/plankton-circle-gradient-1.png","assets/plankton-circle-gradient-2.png","icons/dropdown-blue.png","icons/ifcb-green.png","icons/community-green.png","icons/scientist-green.png","icons/flow-arrow-blue.png","icons/flow-arrow-side-blue.png","components/layout/Learn.js","icons/computer-green.png","actions/preferences.js","components/annotations/Preferences.js","actions/classify.js","components/features/Note.js","components/annotations/BinNote.js","components/annotations/Plankton.js","components/annotations/ClassMenu.js","icons/green-check.png","icons/red-x.png","icons/dropdown.png","components/annotations/time/TimeSeriesControl.js","components/annotations/time/YearControl.js","components/annotations/time/DayControl.js","components/annotations/time/Bar.js","components/annotations/time/FileControl.js","components/annotations/loader.GIF","components/annotations/Annotations.js","icons/to-top.png","assets/akashiwo-character.png","components/annotations/Tutorial.js","components/annotations/PublicClassify.js","components/annotations/Classify.js","components/features/Notebook.js","components/features/Analysis.js","components/features/ClassDownload.js","components/features/Search.js","components/features/CommunityReview.js","components/features/CommunityFile.js","components/features/LabReview.js","components/accounts/Login.js","components/accounts/Register.js","components/common/loader.GIF","components/common/PrivateRoute.js","reducers/auth.js","reducers/menu.js","reducers/classify.js","reducers/index.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["USER_LOADING","USER_LOADED","LOCATION_SAVED","AUTH_ERROR","LOGIN_ATTEMPT","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","SCALE_CHANGED","PREFERENCES_LOADED","PREFERENCES_ERROR","HOME_PAGE","LEARN_PAGE","REGISTER_PAGE","LOGIN_PAGE","CLASSIFY_PAGE","NOTEBOOK_PAGE","ANALYSIS_PAGE","CLASSDOWNLOAD_PAGE","SEARCH_PAGE","COMMUNITYREVIEW_PAGE","COMMUNITYFILE_PAGE","LABREVIEW_PAGE","SAVE_SUCCESS","SAVE_PROGRESS","SYNC_SUCCESS","SYNC_PROGRESS","NOTES_CHANGED","NOTES_RECORDED","REPLY_OPEN","REPLY_RESOLVED","NOTEBOOK_FILTERED","TARGETS_BASIC_SEARCHED","BINS_BASIC_SEARCHED","tokenConfig","getState","token","auth","config","headers","goto_home","dispatch","type","goto_learn","goto_classify","goto_communityreview","goto_communityfile","Header","pathname","this","props","isAuthenticated","user","location","onClassify","push","to","onNotebook","onAnalysis","onLearn","authLinks","className","username","onClick","logout","groups","goto_notebook","goto_analysis","href","guestLinks","goto_register","goto_login","Component","connect","state","onHome","menu","axios","post","then","res","Landing","onRegister","onLogin","src","ditylum","alt","preview","ifcbGallery","width","loop","centric","chaetoceros","lithodesmium","element","section","document","getElementById","dropdown","image","classList","toggle","style","Pier17IFCB","ceratium","planktonCircle","id","microscopePlankton","expandBasics","IFCBCircle","USGS","IFCBGreen","flowArrow","flowArrowSide","scientistGreen","communityGreen","changeScale","newScale","payload","Preferences","recentChecked","phytoGuideChecked","sortChecked","AZ","ZA","LS","SL","scaleEntry","onSortChange","bind","onScaleChange","onLoadChange","onPhytoGuideChange","sort","setState","load","phytoGuide","scale","display","history","go","e","target","value","setScalePreference","setSortPreference","setLoadPreference","setPhytoGuidePreference","close","name","checked","onChange","for","step","React","loadPref","JSON","stringify","catch","err","console","log","sortPref","phytoGuidePref","sendNotesChange","receiveNotesChange","addBinNote","author","entry","parent","replies","timeseries","ifcb","file","note","classifyRow","targets","startInd","endInd","put","classifyAll","set","classAbbr","save","sync","year","day","get","Note","onSubmit","preventDefault","reset","sendReplyOpen","deleteBinNote","flagBinNote","isFlagged","date","flag","slice","reply","delete","getFlagButton","rows","notes","classify","BinNote","parents","getNotes","data","count","iters","findIndex","margin","String","length","map","renderNote","noteChangeFlag","replyChangeFlag","receiveReplyOpen","PlanktonImage","url","nameSpace","timestamp","targetNum","status","classification","height","Number","Plankton","checkStatus","infoStatus","imageStatus","infoButtonStatus","class_name","infoChange","onCheck","infoStyle","getHeight","getWidth","categorizeMode","renderImage","public","onMouseEnter","onMouseLeave","handleInfoClick","editor","infoShowing","includes","noteOption","class_abbr","Micrometer","ClassMenu","indexSelected","initial","indexHovered","x","i","prevProps","classes","categories","descriptions","filter","n","categoryIndices","examples","nonexamples","options","handleMenuClick","handleMouseOver","handleMouseOut","showPhytoGuide","handleSelectAllClick","handleUndoClick","process","TimeSeriesControl","handleDropdown","YearControl","DayControl","Bar","num","onHover","number","handleHover","current","FileControl","fileName","NavButton","text","Annotations","loading","newFile","newTimeSeries","classAbbrs","classDescriptions","classExamples","classNonexamples","classPicker","classMark","planktonClickEnabled","bin","timeSeriesOptions","yearOptions","dayOptions","barHeights","fileOptions","setOptions","filledDays","targetNumbers","scrollToIndex","undefined","jumpEntry","jumpSubmit","initialTargetJump","lastEditBin","lastEditTarget","lastScroll","dayOption","previous","next","complete","onTargetJumpChange","onTargetJumpSubmit","contains","option","closeDropdown","urlInfo","split","preferences","jumpToLastEdit","getNewTimeSeries","c","display_name","replace","abbr","description","Math","round","phytoguide","year_options","reverse","day_options","file_options","set_options","filled_days","targetResponse","t","prevState","match","setTimeout","highlightTarget","unhighlightTarget","container","backgroundColor","color","histogram","body","scrollTop","documentElement","dayNumber","handleBar","prevMenu","addEventListener","ids","getElementsByClassName","idTexts","removeEventListener","remove","add","concat","newHistory","parse","scrollHeight","j","row","k","start","end","targetRow","bool","infoClassList","newInfoShowing","item","classifyTarget","showButton","innerHTML","dir","initialScale","rowResponse","getNewYear","handleNewDay","handleNewFile","handleSyncClick","handleDownload","message","appearance","visibility","handleCompleteClick","gb","handleBarHover","direction","fileNumber","yearNumber","loader","returnToClassify","event","isNaN","cache","CellMeasurerCache","defaultHeight","minHeight","fixedWidth","closePreferences","renderPreferences","renderTimeSeriesControl","renderYearControl","renderDayControl","renderFileControl","placeholder","showNotes","hideInfo","renderSync","renderDownload","handleHistogramClick","openPreferences","renderBar","renderClassMenu","isSaving","renderLoader","renderDoneButton","rowCount","rowHeight","rowRenderer","index","key","rowIndex","measure","registerChild","ref","onLoad","handleRowClick","handlePlanktonClick","disablePlanktonClick","scrollToAlignment","clientWidth","backToTop","renderNavButton","newURL","renderNotFound","renderPage","flipBackToTop","Tutorial","toc","title","buttons","tracks","slide","track","prevTrack","akashiwo","button","handleButton","back","PublicClassify","initialClassIndex","emptyCategories","emptyIdentifications","timeSeriesNames","dateOptions","targetSet","categorizationComplete","identificationComplete","initialClass","initialAbbr","Set","syncRes","public_name","Date","processTargets","completionStatusResponse","categorized","identified","join","classifyPublicTarget","colors","confetti","particleCount","spread","origin","y","identficationComplete","handleModeToggle","handleDoneClick","selectedDate","onDateChange","selected","includeDates","placeholderText","inline","renderModeToggle","handlePlanktonCheck","Classify","group","Filter","applyFilter","renderOption","Notebook","searchTerms","newAppliedFilters","appliedFilters","category","choice","filterNotebook","flags","authors","bins","ifcbs","types","filters","Array","fill","ceil","getNotebook","applied","handleFilterChoiceClick","handleApplyFilter","handleRemoveFilter","toUpperCase","skips","rendered","renderReply","cellRenderer","columnIndex","noteIndex","includesFlag","renderAppliedFilters","renderFilterChoice","columnCount","columnWidth","deferredMeasurementCache","search","AnalysisOption","heading","handleClick","Analysis","analysisOptions","goto_search","goto_classdownload","goto_labreview","onClassDownload","onSearch","onCommunityReview","onLabReview","renderAnalysisOption","ClassDownload","handleNumberChange","classifiers","classChoice","optionalChoices","include","exclude","classifierIncludes","classifierExcludes","indexOf","splice","newExcludes","newIncludes","handleClassOptionClick","handleClassifierOptionClick","renderClassOption","renderClassifierOption","min","handleAllClick","download","onload","loadFrame","Target","initialWidth","binIndex","showMore","showLess","redirectToFile","Search","basicSearch","renderable","searchTargets","targetSearchResults","redirectInfo","getBins","binsSearchResults","resultsDisplay","renderTarget","binIDs","CommunityFilePreview","toDateString","classifier","getDate","CommunityReview","files","selectedTimeseries","selectedFile","selectedUser","onCommunityFile","renderLegend","floor","handleFileClick","CommunityFile","LabFilePreview","LabReview","originalFiles","users","days","statuses","f","completion_marker","toISOString","a","b","filterFiles","Login","password","attempted","login","error","loginFailed","Register","email","password2","labcode","correctLabCode","errorMessage","newUser","register","code","icon","form","registerFailed","handleRoleHover","handleCommunityRole","handleLabRole","component","rest","render","window","isLoading","initialState","localStorage","getItem","locationCount","isSyncing","combineReducers","action","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","userRes","prefRes","exact","path","withRouter","Learn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.80b5fa3d.chunk.js","sourcesContent":["// Authentication\nexport const USER_LOADING = \"USER_LOADING\";\nexport const USER_LOADED = \"USER_LOADED\";\nexport const LOCATION_SAVED = \"LOCATION_SAVED\";\nexport const AUTH_ERROR = \"AUTH_ERROR\";\nexport const LOGIN_ATTEMPT = \"LOGIN_ATTEMPT\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const REGISTER_ATTEMPT = \"REGISTER_ATTEMPT\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\n\n// Preferences\nexport const SCALE_CHANGED = \"SCALE_CHANGED\";\nexport const PREFERENCES_LOADED = \"USER_LOADED\";\nexport const PREFERENCES_ERROR = \"PREFERENCES_ERROR\";\n\n// Menu\nexport const HOME_PAGE = \"HOME_PAGE\";\nexport const LEARN_PAGE = \"LEARN_PAGE\";\nexport const REGISTER_PAGE = \"REGISTER_PAGE\";\nexport const LOGIN_PAGE = \"LOGIN_PAGE\";\nexport const CLASSIFY_PAGE = \"CLASSIFY_PAGE\";\nexport const NOTEBOOK_PAGE = \"NOTEBOOK_PAGE\";\nexport const ANALYSIS_PAGE = \"ANALYSIS_PAGE\";\nexport const CLASSDOWNLOAD_PAGE = \"CLASSDOWNLOAD_PAGE\";\nexport const SEARCH_PAGE = \"SEARCH_PAGE\";\nexport const COMMUNITYREVIEW_PAGE = \"COMMUNITYREVIEW_PAGE\";\nexport const COMMUNITYFILE_PAGE = \"COMMUNITYFILE_PAGE\";\nexport const LABREVIEW_PAGE = \"LABREVIEW_PAGE\";\n\n// Classification\nexport const SAVE_SUCCESS = \"SAVE_SUCCESS\";\nexport const SAVE_PROGRESS = \"SAVE_PROGRESS\";\nexport const SYNC_SUCCESS = \"SYNC_SUCCESS\";\nexport const SYNC_PROGRESS = \"SYNC_PROGRESS\";\nexport const NOTES_CHANGED = \"NOTES_CHANGED\";\nexport const NOTES_RECORDED = \"NOTES_RECORDED\";\nexport const REPLY_OPEN = \"REPLY_OPEN\";\nexport const REPLY_RESOLVED = \"REPLY_RESOLVED\";\nexport const NOTE_SUCCESS = \"NOTE_SUCCESS\";\nexport const NOTEBOOK_FILTERED = \"NOTEBOOK_FILTERED\";\nexport const TARGETS_BASIC_SEARCHED = \"TARGETS_BASIC_SEARCHED\";\nexport const BINS_BASIC_SEARCHED = \"BINS_BASIC_SEARCHED\";","import axios from 'axios';\nimport {\n    USER_LOADED,\n    USER_LOADING,\n    PREFERENCES_ERROR,\n    LOCATION_SAVED,\n    AUTH_ERROR,\n    LOGIN_ATTEMPT,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_ATTEMPT,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL\n} from '../actions/types';\n\n// CHECK TOKEN & LOAD USER\nexport const loadUser = () => (dispatch, getState) => {\n    // User Loading\n    dispatch({ type: USER_LOADING });\n\n    axios\n        .get('/api/auth/user', tokenConfig(getState))\n        .then(userRes => {\n            axios\n                .get('/preferences/' + userRes.data.username + '/')\n                .then(prefRes => {\n                    dispatch({\n                        type: USER_LOADED,\n                        payload: {user: userRes.data, preferences: prefRes.data}\n                    });\n                })\n                .catch(err => {\n                    dispatch({\n                        type: PREFERENCES_ERROR\n                    });\n                });\n        })\n        .catch(err => {\n            dispatch({\n                type: AUTH_ERROR\n            });\n        })\n}\n\n// SAVE LOCATION\nexport const saveLocation = (location) => (dispatch) => {\n    dispatch({ \n        type: LOCATION_SAVED,\n        payload: location\n    });\n}\n\n// LOGIN USER\nexport const login = (username, password) => dispatch => {\n    \n    dispatch({\n        type: LOGIN_ATTEMPT\n    });\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // Request Body\n    const body = JSON.stringify({ username, password });\n\n    axios\n        .post('/api/auth/login', body, config)\n        .then(res => {\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: LOGIN_FAIL\n            });\n        })\n};\n\n// REGISTER USER\nexport const register = ({ groups, username, password, email }) => dispatch => {\n    \n    dispatch({\n        type: REGISTER_ATTEMPT\n    });\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // Request Body\n    const body = JSON.stringify({ groups, username, email, password });\n    console.log(groups);\n\n    axios\n        .post('/api/auth/register', body, config)\n        .then(res => {\n            dispatch({\n                type: REGISTER_SUCCESS,\n                payload: res.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: REGISTER_FAIL\n            });\n        })\n};\n\n// LOGOUT USER\nexport const logout = () => (dispatch, getState) => {\n    axios\n        .post('/api/auth/logout/', null, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: LOGOUT_SUCCESS\n            });\n        });\n};\n\n// Setup config with token (helper function)\nexport const tokenConfig = getState => {\n    \n    // Get token from state\n    const token = getState().auth.token\n    \n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    // if token, add to headers config\n    if(token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    return config;\n}","import {\n    CLASSIFY_PAGE,\n    NOTEBOOK_PAGE,\n    ANALYSIS_PAGE,\n    CLASSDOWNLOAD_PAGE,\n    SEARCH_PAGE,\n    HOME_PAGE,\n    LEARN_PAGE,\n    REGISTER_PAGE,\n    LOGIN_PAGE,\n    COMMUNITYREVIEW_PAGE,\n    COMMUNITYFILE_PAGE,\n    LABREVIEW_PAGE\n} from '../actions/types';\n\nexport const goto_home = () => (dispatch) => {\n    dispatch({\n        type: HOME_PAGE\n    });\n};\n\nexport const goto_learn = () => (dispatch) => {\n    dispatch({\n        type: LEARN_PAGE\n    });\n};\n\nexport const goto_register = () => (dispatch) => {\n    dispatch({\n        type: REGISTER_PAGE\n    });\n};\n\nexport const goto_login = () => (dispatch) => {\n    dispatch({\n        type: LOGIN_PAGE\n    });\n};\n\nexport const goto_classify = () => (dispatch) => {\n    dispatch({\n        type: CLASSIFY_PAGE\n    });\n};\n\nexport const goto_notebook = () => (dispatch) => {\n    dispatch({\n        type: NOTEBOOK_PAGE\n    });\n};\n\nexport const goto_analysis = () => (dispatch) => {\n    dispatch({\n        type: ANALYSIS_PAGE\n    });\n};\n\nexport const goto_classdownload = () => (dispatch) => {\n    console.log('Going to Download');\n    dispatch({\n        type: CLASSDOWNLOAD_PAGE\n    });\n};\n\nexport const goto_search = () => (dispatch) => {\n    console.log('Going to Download');\n    dispatch({\n        type: SEARCH_PAGE\n    });\n};\n\nexport const goto_communityreview = () => (dispatch) => {\n    dispatch({\n        type: COMMUNITYREVIEW_PAGE\n    });\n};\n\nexport const goto_communityfile = () => (dispatch) => {\n    dispatch({\n        type: COMMUNITYFILE_PAGE\n    });\n};\n\nexport const goto_labreview = () => (dispatch) => {\n    dispatch({\n        type: LABREVIEW_PAGE\n    });\n};","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link,  Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { logout } from \"../../actions/auth\";\nimport { goto_home, goto_learn, goto_register, goto_login, goto_classify, goto_notebook, goto_analysis } from \"../../actions/menu\";\n\nexport class Header extends Component {\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n        logout: PropTypes.func.isRequired,\n        location: PropTypes.object.isRequired,\n        goto_home: PropTypes.func.isRequired,\n        goto_learn: PropTypes.func.isRequired,\n        goto_register: PropTypes.func.isRequired,\n        goto_login: PropTypes.func.isRequired,\n        goto_classify: PropTypes.func.isRequired,\n        goto_notebook: PropTypes.func.isRequired,\n        goto_analysis: PropTypes.func.isRequired,\n    };\n\n    render() {\n        const { isAuthenticated, user } = this.props.auth;\n        var pathname;\n        {this.props.location ? pathname = this.props.location.pathname : pathname = null}\n\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        } else if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        } else if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis\" />\n        } else if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n        var authLinks = (\n            <ul className=\"logoutbar\">\n                <span className='nav-hello'>\n                    <strong className='nav-hello'>\n                        { user ? `Welcome, ${user.username}` : \"\" }\n                    </strong>\n                </span>\n                <div className=\"login-navbar\">\n                    <li>\n                        <button  \n                            onClick={this.props.goto_home}\n                            className=\"login-nav-link\">\n                                Home\n                        </button>\n                    </li>\n                    <li>\n                        <button  \n                            onClick={this.props.goto_learn}\n                            className=\"login-nav-link\">\n                                Learn\n                        </button>\n                    </li>\n                    <li>\n                        <button  \n                            onClick={this.props.goto_classify}\n                            className=\"login-nav-link\">\n                                Classify\n                        </button>\n                    </li>\n                </div>\n                <li className=\"nav-item\">\n                    <button \n                        onClick={this.props.logout} \n                        to=\"/login\" \n                        className=\"logout\">Logout</button>\n                </li>\n            </ul>\n        );\n\n        if(this.props.user !== null) {\n            if(this.props.user.groups[0] === 1) {\n                authLinks = (\n                    <ul className=\"logoutbar\">\n                        <span className='nav-hello'>\n                            <strong className='nav-hello'>\n                                { user ? `Welcome, ${user.username}` : \"\" }\n                            </strong>\n                        </span>\n                        <div className=\"login-navbar\">\n                            <li>\n                                <button \n                                    onClick={this.props.goto_classify}\n                                    className=\"login-nav-link\">\n                                        Classify\n                                </button>\n                            </li>\n                            <li>\n                                <button  \n                                    onClick={this.props.goto_notebook}\n                                    className=\"login-nav-link\">\n                                        Notebook\n                                </button>\n                            </li>\n                            <li>\n                                <button  \n                                    onClick={this.props.goto_analysis}\n                                    className=\"login-nav-link\">\n                                        Analysis\n                                </button>\n                            </li>\n                            <li>\n                                <a  \n                                    href=\"http://odontella.oceandatacenter.ucsc.edu:8000/admin/\"\n                                    className=\"login-nav-link\">\n                                        Admin\n                                </a>\n                            </li>\n                        </div>\n                        <li className=\"nav-item\">\n                            <button \n                                onClick={this.props.logout} \n                                to=\"/login\" \n                                className=\"logout\">Logout</button>\n                        </li>\n                    </ul>\n                );\n            } \n        }\n\n        const guestLinks = (\n            <ul className={(pathname === '/' || pathname === '/learn') ? 'fixed-navbar' : 'navbar'}>\n                <li className=\"nav-item\">\n                    <Link to=\"/register\" className=\"nav-link\" onClick={this.props.goto_register}>Register</Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link to=\"/login\" className=\"nav-link\" onClick={this.props.goto_login}>Login</Link>\n                </li>\n            </ul>\n        );\n        \n        return (\n            <header className={(pathname === '/' || pathname === '/learn') ? 'home-header' : 'general-header'}>\n                <button  \n                    onClick={this.props.goto_home}\n                    className=\"h3\">\n                        IFCB Classification\n                </button>\n                { isAuthenticated ? authLinks : guestLinks }\n            </header>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n});\n\nexport default connect(mapStateToProps, { logout, goto_home, goto_learn, goto_register, goto_login, goto_classify, goto_notebook, goto_analysis })(Header);","export default __webpack_public_path__ + \"static/media/ifcb-gallery.095b81b2.png\";","export default __webpack_public_path__ + \"static/media/ditylum-gradient.982b042e.png\";","export default __webpack_public_path__ + \"static/media/webpage.33266271.png\";","export default __webpack_public_path__ + \"static/media/chaetoceros-gradient.f5286ef9.png\";","export default __webpack_public_path__ + \"static/media/lithodesmium-gradient.4b062529.png\";","export default __webpack_public_path__ + \"static/media/centric-gradient.2d5ff084.png\";","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from '../layout/Header';\nimport ifcbGallery from \"../../assets/ifcb-gallery.png\";\nimport ditylum from \"../../assets/ditylum-gradient.png\";\nimport preview from \"../../assets/webpage.png\";\nimport chaetoceros from \"../../assets/chaetoceros-gradient.png\";\nimport lithodesmium from \"../../assets/lithodesmium-gradient.png\";\nimport centric from \"../../assets/centric-gradient.png\";\nimport { goto_learn, goto_classify } from \"../../actions/menu\";\n\nexport class Landing extends Component {\n    // TODO: Make hero into img and add alt text\n    // media query smaller version when width is less than 950px\n\n    static propTypes = {\n        onHome: PropTypes.bool,\n        onClassify: PropTypes.bool,\n        onLearn: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        onRegister: PropTypes.bool,\n        onLogin: PropTypes.bool,\n        goto_learn: PropTypes.func,\n        goto_classify: PropTypes.func,\n      };\n\n    render() {\n\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n        if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n        if(this.props.onRegister) {\n            return <Redirect push to=\"/register\" />\n        }\n        if(this.props.onLogin) {\n            return <Redirect push to=\"/login\" />\n        }\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n        if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis/\" />\n        }\n\n        return (\n            <main>\n                <Header location={this.props.location} />\n                <div className='landing-hero-container'>\n                    <div className='landing-hero'>\n                        <h2 className='landing-title'>Dive Into Phytoplankton</h2>\n                        <p className='landing-subtitle'>Identify phytoplankton types photographed by a robot! Help us monitor the ever-changing marine environment.</p>\n                        <div>\n                            <button className='landing-hero-button' onClick={this.props.goto_learn}>Learn More</button>\n                            <button className='landing-hero-button' onClick={this.props.goto_classify}>Classify</button>\n                        </div>\n                    </div>\n                </div>\n                <div className='landing-content'>\n                    <div className='main-panel'>\n                        <div className='hor-section'>\n                            <img className='hor-image' src={ditylum} alt='The community science webpage, which features a title reading \"Classify Phytoplankton,\" a gallery of blank and white microscope images of phytoplankton, and a menu of phytoplankton classification names.'></img>\n                            <div className='hor-text'>\n                                <h2 className='section-heading'>The Classification Project</h2>\n                                <p className='section-body'>Our community classification tool is expanding phytoplankton identification to everyone. It's a network of community scientists making real change in studying the ocean, tracking harmful algae blooms, and more.</p>\n                            </div>\n                        </div>\n                        <div className='side-text'>\n                            <h2 className='side-heading'>You can make a difference for our oceans.</h2>\n                            <p className='side-body'>Community scientists have the potential to drive marine data collection.</p>\n                        </div>\n                        <img className='website-preview' src={preview} alt='A preview of the classification webpage, which includes a tutorial, buttons for picking plankton sample, images for classification, and more.'></img>\n                        <div className='get-involved-section'>\n                        <img src={ifcbGallery} alt=\"Cursor clicking plankton images to identify them\" width=\"80\" loop=\"infinite\" className=\"ifcb-gallery\"></img>\n                            <div className='side-text'>\n                                <h2 className='side-heading get-involved-heading'>Get Involved</h2>\n                                <p className='side-body'>Make an account and start classifying! No experience necessary. Explore the beautiful world of phytoplankton while making real contributions to scientific discovery and ocean conservation.</p>\n                                <button className='landing-button' onClick={this.props.goto_classify}>Start Now</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='external-container'>\n                        <div className='vert-section'>\n                            <img src={centric} alt=\"A circular phytoplankton with a bubblewrap-like texture\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>Phytoplankton</h2>\n                                <p className='vert-body'>Phytoplankton are microscopic organisms that drive the ocean food chain.</p>\n                            </div>\n                            <button className='external-button' onClick={this.props.goto_learn}>Learn More</button>\n                        </div>\n                        <div className='vert-section righthand-container'>\n                            <img src={chaetoceros} alt=\"A translucent, pillow-like phytoplankton with a dark circular middle\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>The IFCB</h2>\n                                <p className='vert-body'>IFCBs are robotic microscopes that collect water and take pictures without a human.</p>\n                            </div>\n                            <button className='external-button' onClick={this.props.goto_learn}>Learn More</button>\n                        </div>\n                        <div className='vert-section righthand-container'>\n                            <img src={lithodesmium} alt=\"A translucent, pillow-like phytoplankton with a dark circular middle\" className=\"vert-image\"></img>\n                            <div className='vert-text'>\n                                <h2 className='vert-heading'>The Kudela Lab</h2>\n                                <p className='vert-body'>We use satellites, robots, and good old fashioned chemistry to understand phytoplankton.</p>\n                            </div>\n                            <button className='external-button' onClick={this.props.goto_learn}>Learn More</button>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    onClassify: state.menu.onClassify,\n    onLearn: state.menu.onLearn,\n    onRegister: state.menu.onRegister,\n    onLogin: state.menu.onLogin,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\n export default connect(mapStateToProps, { goto_learn, goto_classify })(Landing);","export default __webpack_public_path__ + \"static/media/IFCB-Pier17.59c2c9a4.jpeg\";","export default __webpack_public_path__ + \"static/media/IFCB-USGS.834f8185.jpeg\";","export default __webpack_public_path__ + \"static/media/ceratium-drawing.549caaab.png\";","export default __webpack_public_path__ + \"static/media/microscope-plankton.8d40b982.jpg\";","export default __webpack_public_path__ + \"static/media/plankton-circle-gradient-1.5d517b22.png\";","export default __webpack_public_path__ + \"static/media/plankton-circle-gradient-2.44062e77.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/ifcb-green.897e4bbc.png\";","export default __webpack_public_path__ + \"static/media/community-green.fa6c5c2b.png\";","export default __webpack_public_path__ + \"static/media/scientist-green.b1ee000d.png\";","export default __webpack_public_path__ + \"static/media/flow-arrow-blue.9564e0e3.png\";","export default __webpack_public_path__ + \"static/media/flow-arrow-side-blue.66b321f2.png\";","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from '../layout/Header';\nimport Pier17IFCB from \"../../assets/IFCB-Pier17.jpeg\";\nimport USGS from \"../../assets/IFCB-USGS.jpeg\";\nimport ceratium from \"../../assets/ceratium-drawing.png\";\nimport microscopePlankton from \"../../assets/microscope-plankton.jpg\";\nimport planktonCircle from \"../../assets/plankton-circle-gradient-1.png\";\nimport IFCBCircle from \"../../assets/plankton-circle-gradient-2.png\";\nimport dropdown from \"../../icons/dropdown-blue.png\";\nimport IFCBGreen from \"../../icons/ifcb-green.png\";\nimport computerGreen from \"../../icons/computer-green.png\";\nimport communityGreen from \"../../icons/community-green.png\";\nimport scientistGreen from \"../../icons/scientist-green.png\";\nimport flowArrow from \"../../icons/flow-arrow-blue.png\";\nimport flowArrowSide from \"../../icons/flow-arrow-side-blue.png\";\n\nexport class Landing extends Component {\n    // TODO: Make hero into img and add alt text\n    // media query smaller version when width is less than 950px\n\n    static propTypes = {\n        onHome: PropTypes.bool,\n        onClassify: PropTypes.bool,\n        onLearn: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n      };\n\n    expandBasics(element) {\n        const section = document.getElementById(element);\n        const dropdown = document.getElementById(element + '-dropdown');\n        const image = document.getElementById(element + '-image');\n        section.classList.toggle('hide');\n        image.classList.toggle('hide');\n        dropdown.classList.toggle('flip');\n    }\n\n    render() {\n\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n        if(this.props.onHome) {\n            return <Redirect push to=\"/\" />\n        }\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n        if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis/\" />\n        }\n\n        return (\n            <main>\n                <Header location={this.props.location} />\n                <div style={{'background-color':'#1fc85e'}}>\n                    <div className='learn-hero'>\n                        <h2 className='learn-title'>Learn</h2>\n                    </div>\n                </div>\n                <div className='main'>\n                    <div className='learn-page'>\n                        <div className='learn-section-white learn-with-image'>\n                            <h3 className='learn-heading'>Welcome to the Project</h3>\n                            <p className='learn-body'>\n                                This is a <span className='learn-text-highlight'>phytoplankton taxonomy annotation</span> project. \n                                <br/><br/>\n                                The phytoplankton images on this site are generated by an Imaging FlowCytobot, or IFCB. The IFCB collects \n                                thousands of images of living phytoplankton cells daily, and transmits them to a computer over the internet. \n                                There are too many images to be identified by a human in real time, so we develop algorithms to automate the \n                                process.  \n                                That’s what we’re doing here, with your help! \n                                <br/><br/>\n                                Initially, it takes the eyes of a trained taxonomist to manually identify images and develop the algorithms. \n                                The more images we can collect and identify, the better our algorithm will perform. Once we have a functioning \n                                algorithm, we continue to correct and improve it over time. Having more people lend their eyes to the project \n                                will give us better results! \n                            </p>\n                            <img alt='An IFCB, a big, black metal cylinder with a blue tube coming from the top, surrounded by other scientific \n                                monitoring instruments.' src={Pier17IFCB} className='learn-section-image'></img>\n                        </div>\n                        <div className='learn-section-blue'>\n                            <div>\n                                <h3 className='learn-heading learn-in-white'>The Basics</h3>\n                                <img src={ceratium} className='ceratium-decor'></img>\n                            </div>\n                            <div className='basics-section'>\n                                <img src={planktonCircle} className='basics-circle-image'></img>\n                                <p className='basics-section-header'>Plankton</p>\n                                <p className='basics-section-body'>\n                                    {'Phytoplankton are tiny, single-celled organisms that drift with the ocean currents. '}\n                                    <span className='hide' id='plankton-basics'>\n                                        Like plants, many species of phytoplankton convert sunlight to energy through photosynthesis, though some types \n                                        can consume prey.\n                                    </span>\n                                </p>\n                                <img alt='A variety of plankton seen through a microscope. The majority are long, tapered rectanges with a fluorescent blue and orange color.'\n                                className='basics-section-image hide' id='plankton-basics-image' src={microscopePlankton}></img>\n                                <img src={dropdown} className='basics-dropdown' id='plankton-basics-dropdown' onClick={() => this.expandBasics('plankton-basics')}/>\n                            </div>\n                            <div className='basics-section'>\n                                <img src={IFCBCircle} className='basics-circle-image'></img>\n                                <p className='basics-section-header'>IFCBs</p>\n                                <p className='basics-section-body'>\n                                    {'An IFCB is an automated microscope with a built-in camera that collects seawater. '} \n                                    <span className='hide' id='ifcb-basics'>\n                                        The seawater flows through a tiny tube inside the instrument. Images of the \n                                        phytoplankton cells are taken as they pass one at a time in front of the camera.\n                                        <br/><br/>\n                                        The IFCB is a valuable tool because it runs by itself, around the clock, for weeks at a time. The IFCB collects \n                                        a seawater sample every 20 minutes, and can produce as many as 20,000 images an hour! All of the images are sent \n                                        over the internet to a computer.\n                                    </span>\n                                </p>\n                                <img alt='A black metal cylinder with a tube at the top, the IFCB, strapped to a blue cabinet inside a boat.'\n                                className='basics-section-image hide' id='ifcb-basics-image' src={USGS}></img>\n                                <img src={dropdown} className='basics-dropdown' id='ifcb-basics-dropdown' onClick={() => this.expandBasics('ifcb-basics')}/>\n                            </div>\n                        </div>\n                        <div className='learn-section-white'>\n                            <h3 className='learn-heading'>How It Comes Together</h3>\n                            <div>\n                                <div className='flow-flex'>\n                                    <div className='learn-flow-section left-section'>\n                                        <div className='flow-graphics'>\n                                            <p className='flow-number'>1</p>\n                                            <img alt='Graphic showing the silhouette of an IFCB against a green circle.' src={IFCBGreen} className='flow-icon'></img>\n                                        </div>\n                                        <p className='flow-header'>Sample Collection</p>\n                                        <p className='flow-body'>The IFCB collects seawater samples and takes images of the phytoplankton.</p>\n                                    </div>\n                                    <div className='learn-flow-section'>\n                                        <div className='flow-graphics'>\n                                            <p className='flow-number'>2</p>\n                                            <img alt='Graphic showing the silhouette of an IFCB against a green circle.' src={computerGreen} className='flow-icon'></img>\n                                        </div>\n                                        <p className='flow-header'>Auto Classification</p>\n                                        <p className='flow-body'>The images are run through algorithms that group the phytoplankton by species.</p>\n                                    </div>\n                                    <img src={flowArrow} className='flow-arrow-1-to-2'></img>\n                                    <img src={flowArrowSide} className='flow-arrow-2-to-3'></img>\n                                </div>\n                                <div className='flow-flex'>\n                                    <div className='learn-flow-section left-section'>\n                                        <div className='flow-graphics'>\n                                            <p className='flow-number'>4</p>\n                                            <img alt='Graphic showing the silhouette of an IFCB against a green circle.' src={scientistGreen} className='flow-icon'></img>\n                                        </div>\n                                        <p className='flow-header'>Lab Classification</p>\n                                        <p className='flow-body'>Scientists from the Kudela Lab review all community classifications, then use the data for their work.</p>\n                                    </div>\n                                    <div className='learn-flow-section'>\n                                        <div className='flow-graphics'>\n                                            <p className='flow-number'>3</p>\n                                            <img alt='Graphic showing the silhouette of an IFCB against a green circle.' src={communityGreen} className='flow-icon'></img>\n                                        </div>\n                                        <p className='flow-header'>Community Classification</p>\n                                        <p className='flow-body'>Community scientists find misclassifications and identify the species that befuddled the algorithm.</p>\n                                    </div>\n                                    <img src={flowArrow} className='flow-arrow-3-to-4'></img>\n                                </div>\n                            </div>\n                        </div>\n                        <div className='learn-section-blue plankton-decor'>\n                            <h3 className='learn-heading learn-in-white'>Ocean Conservation Starts With You</h3>\n                            <p className='learn-body learn-in-white learn-body-wide'>\n                                Phytoplankton are vital to the health of our oceans, and our planet. Scientists use many tools to monitor the \n                                ever-changing phytoplankton community, but the vast and dynamic nature of the ocean makes the work challenging. \n                                Image recognition technology is one of the newest methods used for phytoplankton monitoring, and by participating \n                                in this project, you are taking part in cutting-edge science!\n                            </p>\n                        </div>\n                        <div className='learn-section-white'>\n                            <h3 className='learn-heading'>The Kudela Lab</h3>\n                            <div>\n                                <p className='learn-body learn-body-wide'>\n                                    In the Kudela Lab at UC Santa Cruz, we use microscopes, satellites, robots, and good old fashioned chemistry to \n                                    understand phytoplankton. Phytoplankton are the unsung heroes of our planet, providing food for everything from krill \n                                    to whales, and producing much of the oxygen in our atmosphere. The dynamic and ever-changing phytoplankton community is \n                                    made up of thousands of different species, and we use an array of tools to examine what kinds are in the water at different \n                                    times and under different conditions. \n                                </p>\n                                <a className='learn-button' href='http://oceandatacenter.ucsc.edu/'>Learn More</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    onClassify: state.menu.onClassify,\n    onHome: state.menu.onHome,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\n export default connect(mapStateToProps)(Landing);","export default \"data:image/png;base64,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\"","import axios from \"axios\";\nimport { tokenConfig } from './auth';\nimport { \n    PREFERENCES_LOADED,\n    PREFERENCES_ERROR,\n    SCALE_CHANGED,\n} from \"./types\";\n\n\nexport const loadPreferences = (username) => (dispatch) => {\n    axios\n        .get('/preferences/' + username + '/')\n        .then(prefRes => {\n            dispatch({\n                type: PREFERENCES_LOADED,\n                payload: prefRes.data\n            });\n        })\n        .catch(err => {\n            dispatch({\n                type: PREFERENCES_ERROR\n            });\n        });\n}\n\nexport const setLoadPreference = (loadPref, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/preferences/setload/' + username + '/', JSON.stringify(loadPref), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const setScalePreference = (scale, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/preferences/setscale/' + username + '/', JSON.stringify(scale), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const setSortPreference = (sortPref, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    var sort;\n    if (sortPref.AZ) {\n        sort = 'AZ';\n    } else if (sortPref.ZA) {\n        sort = 'ZA';\n    } else if (sortPref.LS) {\n        sort = 'LS';\n    } else if (sortPref.SL) {\n        sort = 'SL';\n    }\n\n    axios\n        .post('/preferences/setsort/' + username + '/', JSON.stringify(sort), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const setPhytoGuidePreference = (phytoGuidePref, username) => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/preferences/setphytoguide/' + username + '/', JSON.stringify(phytoGuidePref), config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const changeScale = (newScale) => (dispatch) => {\n    dispatch({\n        type: SCALE_CHANGED,\n        payload: newScale\n    });\n}","import React from \"react\";\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { changeScale, setLoadPreference, setScalePreference, setSortPreference, setPhytoGuidePreference } from \"../../actions/preferences\";\nimport '../../css/classify-styles.css';\n\nclass Preferences extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            recentChecked: true,\n            phytoGuideChecked: true,\n            sortChecked: {AZ: true, ZA: false, LS: false, SL: false},\n            scaleEntry: 560,\n        }\n        this.onSortChange = this.onSortChange.bind(this);\n        this.onScaleChange = this.onScaleChange.bind(this);\n        this.onLoadChange = this.onLoadChange.bind(this);\n        this.onPhytoGuideChange = this.onPhytoGuideChange.bind(this);\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        changeScale: PropTypes.func,\n        setLoadPreference: PropTypes.func,\n        setScalePreference: PropTypes.func,\n        setSortPreference: PropTypes.func,\n        setPhytoGuidePreference: PropTypes.func,\n    }\n\n    componentDidMount() {\n        switch (this.props.sort) {\n            case 'AZ':\n                this.setState({ \n                    sortChecked: {AZ: true, ZA: false, LS: false, SL: false},\n                });\n                break\n            case 'ZA':\n                this.setState({ \n                    sortChecked: {AZ: false, ZA: true, LS: false, SL: false},\n                });\n                break\n            case 'LS':\n                this.setState({ \n                    sortChecked: {AZ: false, ZA: false, LS: true, SL: false},\n                });\n                break\n            case 'SL':\n                this.setState({ \n                    sortChecked: {AZ: false, ZA: false, LS: false, SL: true},\n                });\n        }\n        this.setState({\n            recentChecked: this.props.load==='recent',\n            phytoGuideChecked: this.props.phytoGuide===true,\n            scaleEntry: this.props.scale,\n        });\n    }\n    \n    close() {\n        document.getElementById(\"overlay\").style.display = \"none\";\n        document.getElementById('preferences').classList.toggle('show-pref');\n        this.props.history.go(0);\n    }\n\n    onScaleChange(e) {\n        this.setState({ scaleEntry: e.target.value });\n        this.props.changeScale(e.target.value);\n        this.props.setScalePreference(e.target.value, this.props.user.username);\n    }\n\n    onSortChange(e) {\n        switch (e.target.value){\n            case 'AZ':\n                this.setState({ sortChecked: {AZ: true, ZA: false, LS: false, SL: false} });\n                this.props.setSortPreference({AZ: true, ZA: false, LS: false, SL: false}, this.props.user.username);\n                break\n            case 'ZA':\n                this.setState({ sortChecked: {AZ: false, ZA: true, LS: false, SL: false} });\n                this.props.setSortPreference({AZ: false, ZA: true, LS: false, SL: false}, this.props.user.username);\n                break\n            case 'LS':\n                this.setState({ sortChecked: {AZ: false, ZA: false, LS: true, SL: false} });\n                this.props.setSortPreference({AZ: false, ZA: false, LS: true, SL: false}, this.props.user.username);\n                break\n            case 'SL':\n                this.setState({ sortChecked: {AZ: false, ZA: false, LS: false, SL: true} });\n                this.props.setSortPreference({AZ: false, ZA: false, LS: false, SL: true}, this.props.user.username);\n        }\n    } \n    \n    onLoadChange(e) {\n        switch (e.target.value){\n            case 'recent':\n                this.setState({ recentChecked: true });\n                break\n            case 'edited':\n                this.setState({ recentChecked: false })\n        }\n        this.props.setLoadPreference(e.target.value, this.props.user.username);\n    }\n\n    onPhytoGuideChange(e) {\n        switch (e.target.value){\n            case 'True':\n                this.setState({ phytoGuideChecked: true });\n                break\n            case 'False':\n                this.setState({ phytoGuideChecked: false })\n        }\n        this.props.setPhytoGuidePreference(e.target.value, this.props.user.username);\n    }\n    \n    render() {\n\n        return(\n            <div className=\"preferences-window\" id=\"preferences\">\n                <div className=\"window-close\" onClick={() => this.close()}></div>\n                <h1 className=\"preferences-heading\">Preferences</h1>\n                <div className=\"preferences-container\">\n                    <div className=\"left-pref-col\">\n                        <div className=\"pref-category\">\n                            <p className=\"pref-subheading\">On Website Load</p>\n                            <div className=\"pref-form\">\n                                <div style={{'display':'flex'}}>\n                                    <input \n                                        type=\"radio\" \n                                        name=\"load\" \n                                        id=\"recent\" \n                                        className=\"pref-radio\" \n                                        value=\"recent\"\n                                        checked={this.state.recentChecked}\n                                        onChange={this.onLoadChange}\n                                    />\n                                    <label className=\"pref-radio-label\" for=\"recent\">Load most recent file</label>\n                                </div>\n                                <div style={{'display':'flex'}}>\n                                    <input \n                                        type=\"radio\" \n                                        name=\"load\" \n                                        id=\"edited\" \n                                        className=\"pref-radio\" \n                                        value=\"edited\"\n                                        checked={!this.state.recentChecked}\n                                        onChange={this.onLoadChange}\n                                    />\n                                    <label className=\"pref-radio-label\" for=\"edited\">Load last edited file</label>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"pref-category\" style={{'margin':'2vw 0 0 0'}}>\n                            <p className=\"pref-subheading\">Show PhytoGuide</p>\n                            <div className=\"pref-form\">\n                                <input \n                                    type=\"radio\" \n                                    name=\"phytoguide\" \n                                    id=\"showPhytoGuide\" \n                                    className=\"pref-radio\" \n                                    value=\"True\"\n                                    checked={this.state.phytoGuideChecked}\n                                    onChange={this.onPhytoGuideChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"recent\">Show guide</label>\n                                </div>\n                                <div style={{'display':'flex'}}>\n                                    <input \n                                        type=\"radio\" \n                                        name=\"phytoguide\" \n                                        id=\"showPhytoGuide\" \n                                        className=\"pref-radio\" \n                                        value=\"False\"\n                                        checked={!this.state.phytoGuideChecked}\n                                        onChange={this.onPhytoGuideChange}\n                                    />\n                                    <label className=\"pref-radio-label\" for=\"edited\">Do not show guide</label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"right-pref-col\">\n                        <div className=\"pref-category\">\n                            <p className=\"pref-subheading\">Sort Targets</p>\n                            <div className=\"pref-form\">\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"AZ\" \n                                    className=\"pref-radio\" \n                                    value=\"AZ\"\n                                    checked={this.state.sortChecked.AZ}\n                                    onChange={this.onSortChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"recent\">By class, from A to Z</label><br></br>\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"ZA\" \n                                    className=\"pref-radio\" \n                                    value=\"ZA\"\n                                    checked={this.state.sortChecked.ZA}\n                                    onChange={this.onSortChange} \n                                />\n                                <label className=\"pref-radio-label\" for=\"edited\">By class, from Z to A</label><br></br>\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"LS\" \n                                    className=\"pref-radio\" \n                                    value=\"LS\"\n                                    checked={this.state.sortChecked.LS}\n                                    onChange={this.onSortChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"edited\">By size, from largest to smallest</label><br></br>\n                                <input \n                                    type=\"radio\" \n                                    name=\"sort\" \n                                    id=\"SL\" \n                                    className=\"pref-radio\" \n                                    value=\"SL\"\n                                    checked={this.state.sortChecked.SL}\n                                    onChange={this.onSortChange}\n                                />\n                                <label className=\"pref-radio-label\" for=\"edited\">By size, from smallest to largest</label><br></br>\n                            </div>\n                        </div>\n                        <div className=\"pref-category\" style={{'margin':'2vw 0 0 0'}}>\n                            <p className=\"pref-subheading\">Image Scale</p>\n                            <div className=\"pref-form\">\n                                <input \n                                    type=\"number\" \n                                    name=\"scale\" \n                                    id=\"scale\" \n                                    value={this.state.scaleEntry}\n                                    className=\"target-jump-container scale\"\n                                    step='0.01'\n                                    onChange={this.onScaleChange}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n});\n\nexport default connect(mapStateToProps, {changeScale, setLoadPreference, setScalePreference, setSortPreference, setPhytoGuidePreference})(Preferences)","import axios from \"axios\";\nimport { tokenConfig } from './auth';\nimport { \n    SAVE_PROGRESS,\n    SAVE_SUCCESS,\n    SYNC_PROGRESS,\n    SYNC_SUCCESS,\n    NOTES_CHANGED,\n    NOTES_RECORDED,\n    REPLY_OPEN,\n    REPLY_RESOLVED,\n    NOTEBOOK_FILTERED,\n    TARGETS_BASIC_SEARCHED,\n    BINS_BASIC_SEARCHED\n} from \"./types\";\n\n\nexport const sendNotesChange = () => (dispatch, getState) => {\n    dispatch({\n        type: NOTES_CHANGED\n    });\n}\n\nexport const receiveNotesChange = () => (dispatch, getState) => {\n    dispatch({\n        type: NOTES_RECORDED\n    });\n}\n\nexport const sendReplyOpen = () => (dispatch, getState) => {\n    dispatch({\n        type: REPLY_OPEN\n    });\n}\n\nexport const receiveReplyOpen = () => (dispatch, getState) => {\n    dispatch({\n        type: REPLY_RESOLVED\n    });\n}\n\nexport const addBinNote = (author, entry, parent, replies, timeseries, ifcb, file, image) => (dispatch, getState) => {\n    const note = JSON.stringify({ author, entry, parent, replies, timeseries, ifcb, file, image});\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/add/note/', note, config, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const deleteBinNote = (id) => (dispatch, getState) => {\n    axios\n        .delete('/delete/note/' + id + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const flagBinNote = (id) => (dispatch, getState) => {\n    axios\n        .put('/flag/note/' + id + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const filterNotebook = (appliedFilters, search) => (dispatch, getState) => {\n    const filters = JSON.stringify(appliedFilters, search)\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/notebook/applyfilters/', filters, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: NOTEBOOK_FILTERED,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const searchTargets = (search) => (dispatch, getState) => {\n    const searchTerms = JSON.stringify(search)\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/searchtargets/', searchTerms, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: TARGETS_BASIC_SEARCHED,\n                payload: (typeof res.data.length !== \"undefined\") ? (res.data) : (res.data)\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const getBins = (bins) => (dispatch, getState) => {\n    const binIDs = JSON.stringify(bins);\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    axios\n        .post('/bins/', binIDs, config, tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: BINS_BASIC_SEARCHED,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n}\n\nexport const classifyTarget = (target, timeseries, file, number) => (dispatch, getState) => {\n    axios\n        .put('/edit/target/' + timeseries + '/' + file + \n            '/' + number + '/', target, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyPublicTarget = (target, timeseries, file, number, user) => (dispatch, getState) => {\n    axios\n        .put('/edit/public/target/' + timeseries + '/' + file + \n            '/' + number + '/' + user, target, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyRow = (targets, timeseries, file, sort, startInd, endInd) => (dispatch, getState) => {\n    axios\n        .put('/edit/targetrow/' + timeseries + '/' + file + \n            '/' + sort + '/' + startInd + '/' + endInd + '/', \n            targets, tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const classifyAll = (timeseries, file, set, sort, className, classAbbr) => (dispatch, getState) => {\n    axios\n        .put('/edit/all/' + timeseries + '/' + file + \n            '/' + set + '/' + sort + '/' + className + \n            '/' + classAbbr + '/', tokenConfig(getState))\n        .catch((err) => console.log(err));\n}\n\nexport const save = (targets, timeseries, file, sort) => (dispatch, getState) => {\n    dispatch({\n        type: SAVE_PROGRESS,\n    });\n    axios\n        .put('/save/' + timeseries + '/' + file + \n            '/' + sort + '/', targets, \n            tokenConfig(getState))\n        .then(res => {\n            dispatch({\n                type: SAVE_SUCCESS,\n            });\n        })\n        .catch((err) => console.log(err));\n    return \n}\n\nexport const sync = (timeseries, year, day, file) => (dispatch, getState) => {\n    dispatch({\n        type: SYNC_PROGRESS,\n    });\n    axios\n        .get('sync/' + timeseries + '/' + year + '/' + day + '/' + file + '/')\n        .then(res => {\n            dispatch({\n                type: SYNC_SUCCESS,\n            });\n        })\n        .catch((err) => console.log(err));\n    return \n}","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { PropTypes } from \"prop-types\";\n\nimport { addBinNote, deleteBinNote, flagBinNote, sendNotesChange, sendReplyOpen } from \"../../actions/classify\";\n\nclass Note extends React.Component {\n    state = {\n        entry: '',\n    }\n\n    static propTypes = {\n        addBinNote: PropTypes.func,\n        deleteBinNote: PropTypes.func,\n        sendNotesChange: PropTypes.func,\n        sendReplyOpenChange: PropTypes.func,\n        notes: PropTypes.array,\n    };\n    \n    reply(id) {\n        document.getElementById('reply-form' + id).classList.toggle('show');\n        this.props.sendReplyOpen();\n    }\n\n    delete(id) {\n        this.props.deleteBinNote(id);\n        this.props.sendNotesChange();\n    }\n\n    flag(id) {\n        this.props.flagBinNote(id);\n        this.props.sendNotesChange();\n    }\n\n    getFlagButton(isFlagged) {\n        if (isFlagged) {\n            return 'Unflag'\n        } else {\n            return 'Flag'\n        }\n    }\n\n    onChange = e => this.setState({ entry: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.addBinNote(this.props.user, this.state.entry, this.props.note.id, [], this.props.timeseries, this.props.ifcb, this.props.file, this.props.image);\n        this.props.sendNotesChange();\n        const replyForm = document.getElementById(\"note-form\");\n        replyForm.reset()\n        document.getElementById('reply-form' + this.props.note.id).classList.toggle('show');\n    }\n    \n    render() {\n        const { id, author, date, entry, parent, replies, timeseries, file, image, flag } = this.props.note;\n        return (\n            <div className={this.props.type + \"-note\"} id={id}>\n                <div className={this.props.type + \"-note-header\"}>\n                    <p className=\"note-author\">{author}</p>\n                    <p className=\"note-date\">{date.slice(0,10)}</p>\n                    {(flag) ? <div className=\"flag-small\"></div> : <div></div>}\n                </div>\n                <p className={this.props.type + \"-note-entry\"}>{entry}</p>\n                {(this.props.type === 'bin') ? \n                    <button className=\"reply-button\" onClick={() => this.reply(id)}>Reply</button> :\n                    <div></div>}\n                {(author === this.props.user) ? \n                    <button className=\"reply-button\" onClick={() => this.delete(id)}>Delete</button> :\n                    <div></div>}\n                {(author === this.props.user) ? \n                    <button className=\"reply-button\" onClick={() => this.flag(id)}>{this.getFlagButton(flag)}</button> :\n                    <div></div>}\n                <div className=\"reply-form\" id={\"reply-form\" + id}>\n                        <form onSubmit={this.onSubmit} id=\"note-form\">\n                            <div className=\"new-note\">\n                            <input\n                                type=\"textarea\"\n                                rows=\"10\"\n                                className=\"note-input\"\n                                name=\"note-entry\"\n                                id=\"note-entry\"\n                                onChange={this.onChange}\n                                value={this.entry}\n                            />\n                            <button type=\"submit\" className={this.props.type + \"-note-submit\"}></button>\n                            </div>\n                        </form>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    notes: state.classify.notes,\n });\n\nexport default connect(mapStateToProps, {addBinNote, deleteBinNote, flagBinNote, sendNotesChange, sendReplyOpen})(Note);","import React from \"react\";\nimport axios from \"axios\";\nimport { connect } from 'react-redux';\nimport { PropTypes } from \"prop-types\";\n\nimport { addBinNote, sendNotesChange, receiveNotesChange, receiveReplyOpen } from \"../../actions/classify\";\nimport Note from \"../features/Note\";\n\nexport class BinNote extends React.Component {\n    state = {\n        entry: '',\n        parents: [],\n        notes: [],\n    }\n    \n    static propTypes = {\n        addBinNote: PropTypes.func,\n        receiveNotesChange: PropTypes.func,\n        noteChangeFlag: PropTypes.bool,\n        receiveReplyOpen: PropTypes.func,\n        replyChangeFlag: PropTypes.bool,\n        user: PropTypes.object,\n    };\n\n    getNotes() {\n        axios\n            .get('/process/note/' + this.props.timeseries + '/' + this.props.file + '/' + this.props.image + '/')\n            .then((res) => {\n                this.setState({ notes: res.data });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    renderNote(note, count) {\n        if (note.parent !== null) {\n            var reply = note;\n            var iters = 0;\n            while (reply.parent !== null) {\n                var parentFunc = (element) => element.id === reply.parent;\n                var reply = this.state.notes[this.state.notes.findIndex(parentFunc)];\n                iters = iters + 1;\n            }\n            if (count!==iters) {\n                return;\n            }\n        }\n        return(\n            <div>\n                <Note\n                    note={note}\n                    user={this.props.user.username}\n                    timeseries={this.props.timeseries}\n                    ifcb={this.props.ifcb}\n                    file={this.props.file}\n                    type={this.props.type}\n                    image={this.props.image}\n                />\n                <div className=\"reply\" style={{margin: \"0 0 0 \" + String((count+1)) + \"vw\"}}>\n                {(note.replies.length !== 0) ?\n                    note.replies.map((reply) => this.renderNote(reply, count+1)) :\n                    <div></div>\n                }\n                </div>\n            </div>\n        \n        );\n    }\n\n    componentDidMount() {\n        this.getNotes();\n    }\n\n    componentDidUpdate() {\n        if(this.props.noteChangeFlag) {\n            this.props.receiveNotesChange();\n            this.getNotes();\n        }\n        if(this.props.replyChangeFlag) {\n            this.props.receiveReplyOpen();\n            this.getNotes();\n        }\n    }\n\n    onChange = e => this.setState({ entry: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.addBinNote(this.props.user.username, this.state.entry, null, [], this.props.timeseries, this.props.ifcb, this.props.file, this.props.image);\n        this.props.sendNotesChange();\n        this.getNotes();\n        const noteForm = document.getElementById(\"note-form\");\n        noteForm.reset()\n    }\n    \n    render() {\n        return(\n            <div className={this.props.type + \"-notes-content\"}>\n                {(this.props.type === 'bin') ? <div className=\"refresh\" onClick={() => this.getNotes()}></div> : <div></div>}\n                <div id=\"note-container\">\n                    {this.state.notes.map((note) => this.renderNote(note, 0))}\n                </div>\n                    <div className={this.props.type + \"-note-form\"}>\n                        <form onSubmit={this.onSubmit} id=\"note-form\">\n                            <div className={this.props.type + \"-new-note\"}>\n                            <input\n                                type=\"textarea\"\n                                rows=\"10\"\n                                className={this.props.type + \"-note-input\"}\n                                name={this.props.type + \"-note-entry\"}\n                                id=\"note-entry\"\n                                onChange={this.onChange}\n                                value={this.entry}\n                            />\n                            <button type=\"submit\" className={this.props.type + \"-note-submit\"}></button>\n                            </div>\n                            {(this.state.notes === []) ? <p className=\"bin-note-label\">Add a Note</p> : <div></div>}\n                        </form>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    noteChangeFlag: state.classify.noteChangeFlag,\n    replyChangeFlag: state.classify.replyChangeFlag,\n    user: state.auth.user\n });\n\nexport default connect(mapStateToProps, {addBinNote, sendNotesChange, receiveNotesChange, receiveReplyOpen})(BinNote);","import React from \"react\";\nimport BinNote from './BinNote';\n\nimport '../../css/classify-styles.css';\n\nclass PlanktonImage extends React.Component {\n\n    render() {\n    const url = this.props.nameSpace + this.props.timestamp + '_' + this.props.ifcb + '_' + this.props.targetNum + '.jpg';\n        return(\n            <img src={url} className={\"image \" + this.props.status} \n            alt={this.props.classification} \n            id={this.props.targetNum + '-image'}\n            style={{height: String(Number(this.props.height)*this.props.scale)+'vw'}}></img>\n        );\n    }\n  }\n\nclass Plankton extends React.Component {\n  \n    constructor(props) {\n      super(props);\n      this.state = {\n        checkStatus: '',\n        infoStatus: '',\n        imageStatus: '',\n        infoButtonStatus: '',\n      }\n    }\n\n    renderImage() {  \n      return (\n          <PlanktonImage \n              nameSpace={'http://akashiwo.oceandatacenter.ucsc.edu:8000/data/'}\n              timestamp={this.props.timestamp}\n              timeseries={this.props.timeseries}\n              ifcb={this.props.ifcb}\n              targetNum={this.props.targetNum}\n              classification={this.props.class_name}\n              height={this.props.height}\n              scale={this.props.scale}\n              status={this.state.imageStatus}\n          />\n        );\n    }\n  \n    getHeight() {\n      if (this.props.height < 0) {\n        return '5'\n      } else {\n          return String((Number(this.props.height) * this.props.scale) + 2.25)\n      }\n    }\n  \n    getWidth() {\n      if (this.props.width < 0) {\n        return '5'\n      } else {\n          return String(Number(this.props.width)*this.props.scale)\n      }\n    }\n  \n    handleInfoClick() {\n      this.props.infoChange(this.props.targetNum, false, true);\n      (this.state.infoStatus === '') ? this.setState({ infoStatus: 'show-info' }) : this.setState({ infoStatus: '' });\n      (this.state.imageStatus === '') ? this.setState({ imageStatus: 'hide' }) : this.setState({ imageStatus: '' });\n    }\n\n    onCheck(targetNum) {\n      (this.state.checkStatus === '') ? this.setState({ checkStatus: 'checked' }) : this.setState({ checkStatus: '' });\n      this.props.onCheck(targetNum);\n    }\n  \n    render() {\n      const infoStyle = {\n          height: this.getHeight() + 'vw',\n          width: this.getWidth() + 'vw'\n      };\n      \n      return(\n            <div>\n              <div className=\"plankton-button\" \n                id=\"plankton-button\" \n                onClick={this.props.categorizeMode ? \n                  () => this.onCheck(this.props.targetNum) : \n                  () => this.props.onClick(this.props.targetNum)}>\n                  <div className=\"plankton\">\n                      {this.renderImage()}\n                      <div className={this.props.public ? \"hide\" : \"info \" + this.props.infoButtonStatus} onMouseEnter={() => this.props.infoChange(this.props.targetNum, false, false)} \n                          onMouseLeave={() => this.props.infoChange(this.props.targetNum, true, false)}\n                          onClick={() => this.handleInfoClick()}></div>\n                      <div className={\"info-div \" + this.state.infoStatus} id={this.props.targetNum + '-info'} style={infoStyle}>\n                          <p className=\"classification-info\">{this.props.class_name}</p>\n                          <p className=\"target-num-info\">{'Target ' + this.props.targetNum}</p>\n                          <p className=\"editor-info\">{'Classified by ' + this.props.editor + ',\\n' + this.props.date}</p>\n                          {(this.props.infoShowing.includes(this.props.targetNum) && this.props.noteOption) ? \n                          <BinNote\n                              timeseries={this.props.timeseries}\n                              ifcb={this.props.ifcb}\n                              file={this.props.file}\n                              type='target'\n                              image={this.props.targetNum}\n                          /> :\n                          <div></div>\n                          }\n                      </div>\n                      <div className={this.props.categorizeMode ? 'id public-id' : 'id ' + this.state.imageStatus} id={this.props.targetNum}>\n                        {this.props.categorizeMode ?  \n                          <div className={'plankton-check ' + this.state.checkStatus} id={this.props.targetNum + '-check'}></div> :\n                          <p className='id-text' id={this.props.targetNum + '-text'}>{this.props.class_abbr}</p>\n                        }\n                      </div>\n                  </div>\n              </div>\n            </div>\n        );\n    }\n  }\n\nexport default (Plankton);","import React from \"react\";\nimport '../../css/classify-styles.css';\nimport correctIcon from \"../../icons/green-check.png\";\nimport incorrectIcon from \"../../icons/red-x.png\";\n\n\nclass Micrometer extends React.Component {\n    render() {\n        return(\n            <div className=\"drag-box\">\n                <div className=\"micrometer-block\"\n                style={{width: (String(34*this.props.scale) + 'vw')}}></div>\n                <p className=\"micrometer-text\">10µm</p>\n            </div>\n        );\n    }\n}\n\nclass ClassMenu extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            indexSelected: this.props.initial,\n            indexHovered: this.props.initial,\n        }\n    }\n    \n    handleMenuClick(x, i) {\n        this.setState({ \n            indexSelected: i,\n            indexHovered: i,\n         });\n        this.props.onClick(x);\n    }\n\n    handleMouseOver(i) {\n        this.setState({ indexHovered: i });\n    }\n\n    handleMouseOut() {\n        this.setState({ indexHovered: this.state.indexSelected });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.initial !== prevProps.initial) {\n            this.setState({ \n                indexSelected: this.props.initial,\n                indexHovered: this.props.initial,\n             });\n        }\n      }\n  \n    render() {\n      const classes = this.props.categorizeMode ? this.props.categories : this.props.classes\n      const descriptions = this.props.categorizeMode ? this.props.descriptions.filter((n,i) => this.props.categoryIndices.includes(i)) : this.props.descriptions\n      const examples = this.props.categorizeMode ? this.props.examples.filter((n,i) => this.props.categoryIndices.includes(i)) : this.props.examples\n      const nonexamples = this.props.categorizeMode ? this.props.nonexamples.filter((n,i) => this.props.categoryIndices.includes(i)) : this.props.nonexamples\n      \n      const options = classes.map((x, i) => \n      <li key={x}><button id={x} className=\"classmenu-button\"\n            onClick={() => this.handleMenuClick(x, i)} \n            onMouseEnter={() => this.handleMouseOver(i)} \n            onMouseLeave={() => this.handleMouseOut(i)}>{x}</button></li>);\n\n\n      return(\n      <div className=\"sidebar\">\n      <div style={{'display':'flex'}}>\n            <div className={this.props.showPhytoGuide ? \"class-menu with-guide\" : \"class-menu\"}>\n                <div className={\"control-box\" + (this.props.public ? ' hide' : '')}>\n                    <div className=\"annotation-control\" onClick={() =>  this.props.handleSelectAllClick()}>\n                        <p className=\"control-text\">Select All</p>\n                    </div>\n                    <div className=\"annotation-control\" onClick={() =>  this.props.handleUndoClick()}>\n                        <p className=\"control-text\">Undo</p>\n                    </div>\n                </div>\n                <ul className={\"class-menu-options\" + (this.props.public ? \" public-class-menu-options\" : '')}>{options}</ul>\n            </div>\n            {this.props.showPhytoGuide ? \n                    <div className=\"phyto-guide\">\n                        <p className=\"phyto-guide-heading\">{classes[this.state.indexHovered]}</p>\n                        <p className=\"phyto-guide-description\">{descriptions[this.state.indexHovered]}</p>\n                        <div className=\"yes-examples\">\n                            { (examples.length > 0) ?\n                                examples[this.state.indexHovered].map((image) => (\n                                    <div>\n                                        <img src={correctIcon} className='phyto-guide-icon'></img>\n                                        {image !== '' ?\n                                        <img src={`${process.env.PUBLIC_URL}/examples/` + image} className=\"image\" \n                                            alt={classes[this.state.indexHovered] + ' example'}\n                                            className=\"phyto-guide-image\"\n                                            >\n                                        </img> : <div/>\n                                        }\n                                    </div>\n                                )) : <div></div>\n                            }\n                        </div>\n                        <div className=\"no-examples\">\n                            { (nonexamples.length) > 0 ? ((nonexamples[this.state.indexHovered].length) ? <p className=\"phyto-guide-nonexample-heading\">Don't confuse with:</p> : <div></div>) : <div></div> }\n                            { (nonexamples.length) > 0 ? \n                                nonexamples[this.state.indexHovered].map((image) => (\n                                    <div>\n                                        <img src={incorrectIcon} className='phyto-guide-icon'></img>\n                                        <img src={`${process.env.PUBLIC_URL}/nonexamples/` + image} className=\"image\" \n                                            alt={classes[this.state.indexHovered] + ' non-example'}\n                                            className=\"phyto-guide-image\"\n                                            >\n                                        </img>\n                                    </div>\n                                )) : <div></div>\n                            }\n                        </div>\n                    </div> : <div></div>}\n      </div>\n      <Micrometer scale={this.props.scale}/>\n      </div>\n      );\n  }\n}\n\nexport default ClassMenu","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAFQAAAAA5bZMmAAACKUlEQVQ4EZVV0VEbQQzV7sEP4Bk64PzpeMyQCkIqgFQQdxCoIEcFdgcMFUAHwR1kbA5/2u4gGUx+8N1Gb+O70e7pnGFnYLVP0tNqJZ3NYrE4fl2v7w3ROTm3pCT50u/3f9I7V57nZ64sR+BxRI/G2mvw2D/r9YMnB6ExqSuKHwj6Tn6isqx5PF9R3IPD8t8nSWaMOX59eRlL7H9yPptlbHMS2PFlcVEEmAQKPnCQr/P5PI1x7QwS59w3Rbfqdru/LEfIFCUVm82thscYP3GGrGOc65kB4+ci4hQfeQueCjgH/9wbDKBTF7IsN5uFolz1B4MUOJ6I7N7eEHu8SqJRjMlz+fam1opJh5WdD9Dr9Zb8jncVKPazfDqtjQVO89nsnIt1IbGtPJFZ+wBQHHY6V/xuvxWH7wpGnF2m4WTtlcTrAKg436iZMrfbtg1rv+fp9JIPjZrhFeIhrQPA++DoaKxlgTaUw+e0i7B/sr+fgUeuIIDPgihIEcZoQ7Qj5OenJ+hPIEfrBrWMsH9tGoP8JDBsklj7EZ+SRt9z7Q46nXR7wYAuyKDSMDisZLmr5GzAH7ZMI4evHzRJUsltw1fpxV4PlcBqUc3Aa6N2qz0iwTjXqJk0aQ2AdmsZPuk/+XB6+iCBWG4NAEPfdvrweR52zryw49/OAL7tWnoe2clPQluMnQHg5IePaBUQcFbaUAU220NrF0ljTDF+5bj/U7750iTJOP4kSHsp/wWEFsqR3igYKgAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass TimeSeriesControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('timeseries_dropdown').classList.toggle('show');\n        document.getElementById('timeseries_label').classList.toggle('hide');\n        document.getElementById('timeseries_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return (\n            <div>\n                <div className=\"time time-series\" id='timeseries_bar'>\n                    <p className=\"time-selection\">{this.props.timeseries}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select time series'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown time-series\" id='timeseries_dropdown'>\n                    <ul className=\"timeseries-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='timeseries_label'>Time Series</p>\n            </div>\n        );\n    }\n}\n\nexport default (TimeSeriesControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass YearControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('year_dropdown').classList.toggle('show');\n        document.getElementById('year_label').classList.toggle('hide');\n        document.getElementById('year_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='year_bar'>\n                    <p className=\"time-selection\">{this.props.year}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Year'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='year_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='year_label'>Year</p>\n            </div>\n        );\n    }\n}\n\nexport default (YearControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass DayControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('day_dropdown').classList.toggle('show');\n        document.getElementById('day_label').classList.toggle('hide');\n        document.getElementById('day_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='day_bar'>\n                    <p className=\"time-selection\" id=\"day_text\">{this.props.day}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Day'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='day_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='day_label'>Day</p>\n            </div>\n        );\n    }\n}\n\nexport default (DayControl);","import React from \"react\";\nimport '../../../css/classify-styles.css';\n\nclass Bar extends React.Component {\n    handleHover(num) {\n        this.props.onHover(num);\n    }\n    render() {\n        return(\n            <div className=\"bar-container\">\n                <div className=\"day\" id={'day' + this.props.number}>{this.props.day}</div>\n                <div className=\"bar\" id={'bar' + this.props.number} \n                    onClick={() => this.props.onClick(this.props.number)}\n                    onMouseEnter={() => this.handleHover(this.props.number)}\n                    onMouseLeave={() => this.handleHover(this.props.current)}\n                    style={{height: String(this.props.height*0.008) + 'vw'}}></div>\n            </div>\n        );}\n  }\n\n  export default (Bar);","import React from \"react\";\nimport '../../../css/classify-styles.css';\nimport dropdown from \"../../../icons/dropdown.png\";\n\nclass FileControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('file_dropdown').classList.toggle('show');\n        document.getElementById('file_label').classList.toggle('hide');\n        document.getElementById('file_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        var fileName = this.props.file;\n        const file = fileName.slice(9,12) + ':' + fileName.slice(12,14) + ':' + fileName.slice(14,16) + 'Z';\n        return(\n            <div>\n                <div className=\"time\" id='file_bar'>\n                    <p className=\"time-selection\">{file}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select File'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='file_dropdown'>\n                    <ul className=\"file-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='file_label'>File</p>\n            </div>\n        );\n    }\n}\n\nexport default (FileControl);","export default __webpack_public_path__ + \"static/media/loader.a069fadb.GIF\";","import React from \"react\";\nimport axios from \"axios\";\nimport Header from '../layout/Header';\nimport Preferences from './Preferences';\nimport BinNote from './BinNote';\nimport Plankton from './Plankton';\nimport ClassMenu from './ClassMenu';\nimport TimeSeriesControl from './time/TimeSeriesControl';\nimport YearControl from './time/YearControl';\nimport DayControl from './time/DayControl';\nimport Bar from './time/Bar';\nimport FileControl from './time/FileControl';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport { List, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { classifyTarget, classifyRow, classifyAll, save, sync } from \"../../actions/classify\";\nimport { changeScale } from \"../../actions/preferences\";\n\nimport '../../css/classify-styles.css';\nimport loader from \"./loader.GIF\";\nimport toTop from \"../../icons/to-top.png\";\n\nclass NavButton extends React.Component {\n    render() {\n        return(\n            <div className={this.props.className} onClick={() => this.props.onClick()}>\n                <p>{this.props.text}</p>\n            </div>\n        )\n    }\n}\n\nclass Annotations extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          newFile: '',\n          newTimeSeries: '',\n          classes: [],\n          classAbbrs: [],\n          classDescriptions: [],\n          classExamples: [],\n          classNonexamples: [],\n          classPicker: 'Unclassified',\n          classMark: 'UNC',\n          planktonClickEnabled: true,\n          infoShowing: [],\n          infoButtonStatus: '',\n          bin: {timeseries:'', ifcb:'', year:'', day:'', file:''},\n          timeSeriesOptions: [],\n          yearOptions: [],\n          dayOptions: [],\n          barHeights: [],\n          fileOptions: [],\n          setOptions: [],\n          filledDays: [],\n          targets: [],\n          targetNumbers: [],\n          history: [],\n          rows: [],\n          scrollToIndex: undefined,\n          jumpEntry: '',\n          jumpSubmit: '',\n          initialTargetJump: '',\n          lastEditBin: '',\n          lastEditTarget: '',\n          scale: 0.056,\n          lastScroll: 0,\n          dayOption: '',\n          previous: 'Previous',\n          next: 'Next',\n          complete: false,\n      }\n      this.onTargetJumpChange = this.onTargetJumpChange.bind(this);\n      this.onTargetJumpSubmit = this.onTargetJumpSubmit.bind(this);\n  }\n\n  static propTypes = {\n    preferences: PropTypes.object,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    changeScale: PropTypes.func,\n    classifyTarget: PropTypes.func.isRequired,\n    classifyRow: PropTypes.func.isRequired,\n    classifyAll: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    isSaving: PropTypes.bool,\n    sync: PropTypes.func.isRequired,\n    isSyncing: PropTypes.bool,\n    user: PropTypes.object,\n    scaleEntry: PropTypes.number,\n    onNotebook: PropTypes.bool,\n    onAnalysis: PropTypes.bool,\n  };\n\n  closeDropdown(element) {\n    if (document.getElementById(element + '_dropdown').classList.contains('show')) {\n        document.getElementById(element + '_dropdown').classList.toggle('show');\n        document.getElementById(element + '_label').classList.toggle('hide');\n        document.getElementById(element + '_bar').classList.toggle('accommodate-dropdown');\n    }\n  }\n\n  getNewTimeSeries(option) {\n    this.closeDropdown('timeseries');\n    this.setState({ loading: true });\n    axios\n        .get('/process/timeseries/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: option,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n  \n\n  componentDidMount() {\n    this.setState({ loading: false });\n    const urlInfo = this.props.location.pathname.split('/');\n    if(urlInfo.length<3) {\n        if(this.props.preferences.load==='edited') {\n            this.jumpToLastEdit();\n        } else {\n            this.getNewTimeSeries('SCW');\n        }\n    } else {\n        const timeseries = urlInfo[2];\n        const file = urlInfo[3];\n\n        axios\n            .get('/api/timeseries/')\n            .then((res) => {this.setState({ timeSeriesOptions: res.data.map((c) => (c.name)) })})\n            .catch((err) => console.log(err));\n\n            this.setState({\n                loading: true,\n            });\n            axios\n                .get('/classes/SCW/')\n                .then((res) => {\n                    this.setState({ \n                        classes: res.data.map((c) => (c.display_name.replace('_', ' '))),\n                        classAbbrs: res.data.map((c) => (c.abbr)),\n                        classDescriptions: res.data.map((c) => (c.description)),\n                        classExamples: res.data.map((c) => (c.examples.split(',').filter(n => n.length > 1))),\n                        classNonexamples: res.data.map((c) => (c.nonexamples.split(',').filter(n => n.length))),\n                    });\n                })\n                .catch((err) => console.log(err));\n\n        axios\n            .get('/process/file/' + timeseries + '/' + file + '/' + this.props.preferences.sort + \n                '/' + Math.round(this.props.preferences.scale * 1000) + '/' + this.props.preferences.phytoguide + '/')\n            .then((res) => {\n                this.setState({ \n                    bin: res.data.bin, \n                    yearOptions: res.data.options.year_options.reverse(),\n                    barHeights: res.data.options.day_options[0],\n                    dayOptions: res.data.options.day_options[1],\n                    fileOptions: res.data.options.file_options,\n                    setOptions: res.data.options.set_options,\n                    rows: res.data.options.rows,\n                    filledDays: res.data.options.filled_days,\n                    dayOption: res.data.bin.day,\n                    complete: res.data.bin.complete,\n                })\n                axios\n                    .get('/process/targets/' + timeseries + '/' + file + '/' + this.props.preferences.sort + '/')\n                    .then((targetResponse) => {\n                        this.setState({ \n                            targets: targetResponse.data,\n                            targetNumbers: targetResponse.data.map(t => t.number),\n                            history: [JSON.stringify(targetResponse.data)],\n                            loading: false,\n                        });\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n                return;\n            });\n        }\n    \n    if (this.props.scaleEntry !== this.props.preferences.scale) {\n        this.props.changeScale(this.props.preferences.scale);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.match.url !== prevProps.match.url) {\n        this.props.history.go(0);\n    }\n\n    if(this.state.scrollToIndex !== prevState.scrollToIndex) {\n        const target = this.state.jumpSubmit;\n        if (this.state.targetNumbers.includes(this.state.jumpSubmit)) {\n            setTimeout(() => {\n                try { \n                    this.highlightTarget(target);\n                } catch {\n                    console.log();\n                }\n            }, 1);\n            setTimeout(() => {\n                try {\n                    this.unhighlightTarget(target);\n                } catch {\n                    console.log();\n                }\n            }, 5000);\n            }\n    }\n\n  }\n\n  highlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  unhighlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#FFFFFF';\n    text.style.color = '#4E4E4E';\n  }\n\n  getNewYear(option) {\n    this.closeDropdown('year');\n    this.setState({ loading: true });\n    axios\n        .get('/process/year/' + this.state.bin.timeseries + '/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleBarHover(option) {\n      this.setState({ dayOption: this.state.dayOptions[option] });\n  }\n\n  handleBar(option) {\n    const histogram = document.getElementById('histogram_dropdown').classList;\n    if (histogram.contains('show-day')) {\n        histogram.toggle('show-day');\n    }\n\n    this.closeDropdown('day');\n    this.setState({ loading: true });\n    axios\n        .get('/process/day/' + this.state.bin.timeseries + '/' + this.state.bin.year + '/'  + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleNewDay(option) {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    const newDay = (element) => element === option;\n    const dayNumber = this.state.dayOptions.findIndex(newDay);\n    this.handleBar(dayNumber);\n  }\n\n  handleNewFile(option) {\n\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    this.closeDropdown('file');\n    \n    const file = 'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n    option.slice(0,3) + option.slice(4,6) + option.slice(7,9);\n    \n    this.setState({ \n        newTimeSeries: this.state.bin.timeseries,\n        newFile: file\n    })\n  }\n\n  handleMouseOver(element) {\n    element.style.backgroundColor = '#16609F';\n  }\n\n  handleMouseOut(element) {\n    element.style.backgroundColor = '#079CCC';\n  }\n\n  handleMenuClick(name) {\n      const prevMenu = document.getElementById(this.state.classPicker);\n      prevMenu.style.backgroundColor = '#079CCC';\n      prevMenu.addEventListener('mouseover', this.handleMouseOver(prevMenu));\n      prevMenu.addEventListener('mouseout', this.handleMouseOut(prevMenu));\n\n      const ids = document.getElementsByClassName('id');\n      const idTexts = document.getElementsByClassName('id-text');\n      for (let i=0; i<ids.length; i++) {\n          if (ids[i].style.backgroundColor !== '#FFFFFF') {\n            ids[i].style.backgroundColor = '#FFFFFF';\n            idTexts[i].style.color = '#4E4E4E';\n        }\n      }\n\n      const nameAbbr = (element) => element === name;\n      this.setState({ \n          classPicker: name,\n          classMark: this.state.classAbbrs[this.state.classes.findIndex(nameAbbr)],\n        });\n      const menu = document.getElementById(name);\n      menu.removeEventListener('mouseout', this.handleMouseOut(menu));\n      menu.style.backgroundColor = '#16609F';\n      \n      for (const target of this.state.targets) {\n          if (target.class_name === name) {\n              const container = document.getElementById(target.number);\n              const text = document.getElementById(target.number+'-text');\n              container.style.backgroundColor = '#16609F';\n              text.style.color = '#FFFFFF';\n          }\n      }\n  }\n\n  backToTop() {\n    if(document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {\n        if(document.body.scrollTop !== 0) {\n            this.setState({ lastScroll: document.body.scrollTop });\n        } else {\n            this.setState({ lastScroll: document.documentElement.scrollTop });\n        }\n        document.body.scrollTop = 0; // For Safari\n        document.documentElement.scrollTop = 0;\n    } else {\n        document.body.scrollTop = this.state.lastScroll;\n        document.documentElement.scrollTop = this.state.lastScroll;\n    }\n  }\n\n  flipBackToTop() {\n    if (document.getElementById('to-top') !== null) {\n        if(document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {\n            document.getElementById('to-top').classList.remove('flip');\n        } else if (!document.getElementById('to-top').classList.contains('flip')) {\n            document.getElementById('to-top').classList.add('flip');\n        }\n    }\n  }\n\n  handleSelectAllClick() {\n      var targets = this.state.targets;\n      const className = this.state.classPicker;\n      const classAbbrFunc = (element) => element === this.state.classPicker;\n      const classAbbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbrFunc)];\n      for (let i = 0; i < targets.length; i++) {\n          targets[i].class_name = className;\n          targets[i].class_abbr = classAbbr;\n          targets[i].editor = this.props.user.username;\n          const container = document.getElementById(targets[i].number);\n          const text = document.getElementById(targets[i].number+'-text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({ \n          targets: targets,\n          history: this.state.history.concat([JSON.stringify(targets)])\n     });\n     this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort);\n  }\n\n  handleUndoClick() {\n    if (this.state.history.length > 1) {\n      const newHistory = this.state.history.slice(0, this.state.history.length-1);\n      const targets = JSON.parse(newHistory[newHistory.length-1]);\n      const rows = this.state.rows;\n      this.setState({ rows: [] });\n      this.setState({\n          targets: targets,\n          history: newHistory,\n      });\n      this.setState({ rows: rows });\n      this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort);\n    }\n  }\n\n  handleSyncClick() {\n    document.getElementById('sync').classList.toggle('syncing');\n    this.setState({ rows: [], loading: true });\n    this.props.sync(this.state.bin.timeseries, this.state.bin.year, this.state.bin.day, this.state.bin.file);\n    axios\n        .get('/process/targets/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.props.preferences.sort + '/')\n        .then((targetResponse) => {\n            this.setState({ \n                targets: targetResponse.data,\n                history: this.state.history.concat([JSON.stringify(targetResponse.data)]),\n             });\n        });\n    axios\n        .get('/process/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + \n            '/' + this.props.preferences.sort + '/' + Math.round(this.props.preferences.scale * 1000) + '/' +\n            this.props.preferences.phytoguide + '/')\n        .then((res) => {this.setState({ \n            rows: res.data.options.rows,\n            loading: false,\n          })})\n        .catch((err) => console.log(err));\n    document.getElementById('sync').classList.toggle('syncing');\n  }\n\n  handleHistogramClick() {\n    const histogram = document.getElementById('histogram');\n    const histogram_dropdown = document.getElementById('histogram_dropdown');\n    histogram_dropdown.classList.toggle('show-day');\n    histogram.scrollTop = histogram.scrollHeight;\n  }\n\n  handleRowClick(j) {\n    var targets = this.state.targets;\n    const row = this.state.rows[j];\n    for (var i in row) {\n        var k = row[i]\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n    }\n    this.setState({ \n        targets: targets,\n        history: this.state.history.concat([JSON.stringify(targets)])\n    });\n    const start = row[0]\n    const end = row[i];\n    const targetRow = targets.slice(start, end+1);\n\n    this.props.classifyRow(targetRow, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort, start, end);\n  }\n\n  disablePlanktonClick(targetNum, bool, infoShowing) {\n    const infoClassList = document.getElementById(targetNum + '-info').classList;\n    if ((infoShowing) || (infoClassList.contains('show-info'))) {\n        if (!this.state.infoShowing.includes(targetNum)) {\n            this.setState({ infoShowing: this.state.infoShowing.concat([targetNum]) });\n        }\n        this.setState({ planktonClickEnabled: false });\n    } else {\n        const newInfoShowing = this.state.infoShowing.filter(function(item) {\n            return item !== targetNum\n        })\n        this.setState({ planktonClickEnabled: bool, infoShowing: newInfoShowing });\n    }\n  }\n\n  handlePlanktonClick(i) {\n    if (this.state.planktonClickEnabled) {\n        var targets = this.state.targets;\n        const k = targets.findIndex(target => target.number === i);\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const history = this.state.history;\n        this.setState({\n            history: history.concat([JSON.stringify(targets)]),\n            targets: targets,\n        });\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n\n        this.props.classifyTarget(targets[k], this.state.bin.timeseries, this.state.bin.file, targets[k].number);\n    }\n  }\n\n  showNotes() {\n      const noteDropdown = document.getElementById(\"note-dropdown\");\n      noteDropdown.classList.toggle('show');\n      const showButton = document.getElementById(\"show-notes-button\");\n      (showButton.innerHTML === \"Show Notes\") ? showButton.innerHTML = \"Hide Notes\" : showButton.innerHTML = \"Show Notes\";\n\n  }\n\n  hideInfo() {\n    const showButton = document.getElementById(\"hide-info-button\");\n    (showButton.innerHTML === \"Hide Info\") ? showButton.innerHTML = \"Show Info\" : showButton.innerHTML = \"Hide Info\";\n    (this.state.infoButtonStatus === '') ? this.setState({ infoButtonStatus: 'hide' }) : this.setState({ infoButtonStatus: '' });\n  }\n\n  handleScale(dir) {\n    const initialScale = this.state.scale\n    var  newScale = 0;\n    if (dir === 'up') {\n        newScale = initialScale + 0.01;\n    } else if  (dir === 'down') {\n        newScale = initialScale - 0.01;\n    }\n    axios\n      .get('process/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + \n        '/' + this.props.preferences.sort + '/' + Math.round((newScale) * 1000) + '/' +\n        this.props.preferences.phytoguide + '/')\n      .then((rowResponse) => { this.setState({ \n          scale: newScale,\n          rows: rowResponse.data.options.rows \n        }); });\n  }\n\n  handleDownload() {\n    document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/mat/' + this.state.bin.ifcb + '/' + this.state.bin.file + '/'\n  }\n\n  handleCompleteClick() {\n    this.setState({ complete: !this.state.complete });\n    axios\n        .get('/complete/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.props.user.username + '/')\n        .catch((err) => console.log(err));\n\n  }\n\n  openPreferences() {\n    document.getElementById(\"overlay\").style.display = \"block\";\n    document.getElementById('preferences').classList.toggle('show-pref');\n  }\n\n  closePreferences() {\n    document.getElementById(\"overlay\").style.display = \"none\";\n    document.getElementById('preferences').classList.toggle('show-pref');\n    this.props.history.go(0);\n  }\n\n  renderPreferences() {\n      return (\n        <Preferences \n            history={this.props.history}\n            load={this.props.preferences.load}\n            scale={this.props.preferences.scale}\n            sort={this.props.preferences.sort}\n            phytoGuide={this.props.preferences.phytoguide}\n        />\n      );\n  }\n\n  renderTimeSeriesControl() {\n    return <TimeSeriesControl\n        timeseries={this.state.bin.timeseries}\n        options={this.state.timeSeriesOptions}\n        onClick={(option) => this.getNewTimeSeries(option)}\n    />;\n  }\n\n  renderYearControl() {\n    return <YearControl\n        year={this.state.bin.year}\n        options={this.state.yearOptions}\n        onClick={(option) => this.getNewYear(option)} \n    />;\n  }\n\n  renderDayControl() {\n    const options = this.state.filledDays.slice().reverse();\n    return <DayControl\n        day={this.state.bin.day} \n        options={options}\n        onClick={(option) => this.handleNewDay(option)}\n    />;\n  }\n\n  renderFileControl() {\n    return <FileControl\n        file={this.state.bin.file} \n        options={this.state.fileOptions}\n        onClick={(option) => this.handleNewFile(option)} \n    />;\n  }\n\n  renderSync() {\n    return(\n        <div className=\"round-button sync\" id=\"sync\" onClick={() => this.handleSyncClick()}></div>\n    );\n  }\n\n  renderDownload() {\n      return(\n        <div className=\"round-button download\" onClick={() => this.handleDownload()}>\n            <div style={{display: 'none'}}>\n               <iframe id=\"download-src\" />\n            </div>\n        </div>\n      );\n  }\n\n  renderDoneButton() {\n    var message\n    var appearance\n    var visibility\n\n    if(this.state.complete) {\n        message = 'Finished';\n        appearance = 'complete-done-button';\n    } else {\n        message = 'Mark as Complete';\n        appearance = 'incomplete-done-button';\n    }\n\n    if(this.state.loading) {\n        visibility = 'hide';\n    }\n    \n    return(\n        <div className={\"done-button lab-complete-button \" + appearance + ' ' + visibility} onClick={() => this.handleCompleteClick()}>\n            <div className={\"done-check\"}></div>\n            <p className=\"done-text\">{message}</p>\n        </div>\n      )\n  }\n\n  renderClassMenu() {\n    return <ClassMenu \n          classes={this.state.classes}\n          descriptions={this.state.classDescriptions}\n          examples={this.state.classExamples}\n          nonexamples={this.state.classNonexamples}\n          onClick={(name) => this.handleMenuClick(name)}\n          handleSelectAllClick={() => this.handleSelectAllClick()}\n          handleUndoClick={() => this.handleUndoClick()}\n          scale={this.state.scale}\n          showPhytoGuide={this.props.preferences.phytoguide}\n          categorizeMode={false}\n          initial={0}\n      />;\n  }\n\n  renderBar(gb, i) {\n    const currentDay = (element) => element === this.state.bin.day;\n    return <Bar \n        key={i}\n        onClick={(i) => this.handleBar(i)}\n        onHover={(i) => this.handleBarHover(i)}\n        number={i}\n        height={gb}\n        day={this.state.dayOptions[i]}\n        current={this.state.dayOptions.findIndex(currentDay)}\n    />;\n  }\n\n  renderNavButton(direction) {\n    var dir;\n    var text;\n    var className;\n    (direction === 'next') ? (dir = 1) : (dir = -1);\n    (direction === 'next') ? (className = 'next-button') : (className='previous-button');\n\n    const currentFile = (element) => \n        'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n        element.slice(0,3) + element.slice(4,6) + element.slice(7,9) === this.state.bin.file;\n    const fileNumber = this.state.fileOptions.findIndex(currentFile);\n    if ((fileNumber === this.state.fileOptions.length-1 && dir === 1) || (fileNumber === 0 && dir === -1)) {\n        const currentDay = (element) => element === this.state.bin.day;\n        const dayNumber = this.state.filledDays.findIndex(currentDay);\n        if ((dayNumber === this.state.filledDays.length-1 && dir === 1) || (dayNumber === 0 && dir === -1)) {\n            const currentYear = (element) => element === Number(this.state.bin.year);\n            const yearOptions = this.state.yearOptions.slice().reverse()\n            const yearNumber = yearOptions.findIndex(currentYear);\n            if ((yearNumber === yearOptions.length-1 && dir === 1)) {\n                return <NavButton\n                    text={'Up to Date'}\n                    className={'up-to-date-button'}\n                />;\n            } else if (yearNumber === 0 && dir === -1) {\n                return <NavButton\n                    text={'No Previous Data'}\n                    className={'up-to-date-button'}\n                />;\n            } else {\n                text = (direction === 'next') ? ('Next Year   >') : ('<   Previous Year');\n                return <NavButton\n                    text={text}\n                    onClick={() => this.getNewYear(yearOptions[yearNumber + dir])}\n                    className={className}\n                />\n            }\n        } else {\n            text = (direction === 'next') ? ('Next Day   >') : ('<   Previous Day');\n            return <NavButton\n                text={text}\n                onClick={() => this.handleNewDay(this.state.filledDays[dayNumber + dir])}\n                className={className}\n            />\n        }\n    } else {\n        text = (direction === 'next') ? ('Next File   >') : ('<   Previous File');\n        return <NavButton\n            text={text}\n            onClick={() => this.handleNewFile(this.state.fileOptions[fileNumber + dir])}\n            className={className}\n        />\n    }\n\n    \n  }\n\n  renderLoader() {\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\" style={{'margin':'0 0 3vw 0'}}></img>\n  }\n\n  returnToClassify() {\n    this.setState({ newFile: 'blank' });\n  }\n\n  jumpToLastEdit() {\n    axios\n        .get('/lastedit/' + this.props.user.username + '/')\n        .then((res) => this.setState({ lastEditBin: res.data.bin, lastEditTarget: res.data.options }))\n        .catch((err) => console.log(err));\n  }\n\n  renderNotFound() {\n      return(\n        <div className='main'>\n            <div className=\"page\">\n                <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>File Not Found</h1>\n                        <p className=\"not-found-message\">The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL.</p>\n                        <div className=\"return-button\" onClick={() => this.returnToClassify()}>Return to Classify</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n  }\n\n  onTargetJumpChange(event) {\n    this.setState({\n        jumpEntry: event.target.value,\n    });\n  }\n\n  onTargetJumpSubmit(e) {\n    e.preventDefault();\n\n    var k = this.state.targets.findIndex(target => target.number === this.state.jumpEntry);\n    var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n    \n    if (isNaN(scrollToIndex) || scrollToIndex<0) {\n      scrollToIndex = undefined;\n    }\n    \n    this.setState({\n        jumpSubmit: this.state.jumpEntry,\n        scrollToIndex: scrollToIndex\n    });\n  }\n\n  renderPage() {\n    const cache = new CellMeasurerCache({\n        defaultHeight: 10,\n        minHeight: 10,\n        fixedWidth: true\n      });\n\n    const jumpEntry = this.state.jumpEntry;\n    const scrollToIndex = this.state.scrollToIndex;\n\n\n    const rowRenderer = ({index, key, parent, style}) => (\n        \n        (this.state.targets.length < 1) ? <div/> : \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={index}\n            >\n            {({ measure, registerChild }) => (\n            <div ref={registerChild} key={key} style={style}>\n                <div onLoad={measure} className=\"row\">\n                    <div className=\"row-select\" \n                        alt={'Select row'} onClick={() => this.handleRowClick(index)}>\n                    </div>\n                    <div className=\"image-row\">\n                        {this.state.rows[index].map((i) => \n                            <Plankton \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                timestamp={this.state.bin.file}\n                                id={i}\n                                targetNum={this.state.targets[i].number}\n                                class_name={this.state.targets[i].class_name}\n                                class_abbr={this.state.targets[i].class_abbr}\n                                height={this.state.targets[i].height}\n                                width={this.state.targets[i].width}\n                                scale={this.props.scaleEntry / 10}\n                                ifcb={this.state.bin.ifcb}\n                                editor={this.state.targets[i].editor}\n                                date={this.state.targets[i].date}\n                                onClick={(i) => this.handlePlanktonClick(i)}\n                                infoChange={(targetNum, bool, infoShowing) => this.disablePlanktonClick(targetNum, bool, infoShowing)}\n                                infoShowing={this.state.infoShowing}\n                                infoButtonStatus={this.state.infoButtonStatus}\n                                public={false}\n                                categorizeMode={false}\n                                noteOption={true}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n            )}\n            </CellMeasurer>\n        )\n      return(\n        \n        <div className='main'>\n            <div className=\"page\">\n            <div className=\"content\">\n                <div className=\"overlay\" id=\"overlay\" onClick={() => this.closePreferences()}></div>\n                {this.renderPreferences()}\n                    <div className=\"inner-content\">\n                        <h4 onClick={() => this.jumpToLastEdit()}>Last Edit →</h4>\n                        <h1>Manual Classifications</h1>\n                        <div className=\"time-controls\">\n                            {this.renderTimeSeriesControl()}\n                            {this.renderYearControl()}\n                            {this.renderDayControl()}\n                            {this.renderFileControl()}\n                            <div className=\"target-jump-container\">\n                                <form onSubmit={this.onTargetJumpSubmit}>\n                                    <input\n                                        type=\"textarea\" \n                                        className=\"target-jump-input\"\n                                        onChange={this.onTargetJumpChange}\n                                        value={jumpEntry || ''}\n                                        placeholder=\"Target...\"\n                                    />\n                                </form>\n                                <p className=\"time-label jump-label\" id='targetjump_label'>Jump to Target</p>\n                            </div>\n                            <div className=\"show-notes-button\" id=\"show-notes-button\" onClick={() => this.showNotes()}>Show Notes</div>\n                            <div className=\"hide-info-button\" id=\"hide-info-button\" onClick={() => this.hideInfo()}>Hide Info</div>\n                            {this.renderSync()}\n                            {this.renderDownload()}\n                            <div className=\"round-button histogram\" onClick={() => this.handleHistogramClick()}></div>\n                            <div className=\"preferences-button\" onClick={() => this.openPreferences()}></div>\n                        </div>\n                        <div className='histogram-dropdown-container' id='histogram_dropdown'>\n                            <div className=\"histogram-dropdown\" id='histogram'>\n                                <div className=\"timeline\">\n                                    <div className=\"bars\">\n                                        {this.state.barHeights.map((gb, i) => this.renderBar(gb, i))}\n                                    </div>\n                                    <div className=\"axis\">\n                                        <p className=\"month\">Jan</p>\n                                        <p className=\"month\">Feb</p>\n                                        <p className=\"month\">Mar</p>\n                                        <p className=\"month\">Apr</p>\n                                        <p className=\"month\">May</p>\n                                        <p className=\"month\">Jun</p>\n                                        <p className=\"month\">Jul</p>\n                                        <p className=\"month\">Aug</p>\n                                        <p className=\"month\">Sep</p>\n                                        <p className=\"month\">Oct</p>\n                                        <p className=\"month\">Nov</p>\n                                        <p className=\"month\">Dec</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='day-option'>\n                                <p className='day-option-text'>{this.state.dayOption}</p>\n                            </div>\n                        </div>\n                        <div className=\"note-container\" id=\"note-dropdown\">\n                            {((this.state.bin.timeseries) === '' || this.state.bin.file === '') ? \n                            <div></div> :\n                            <BinNote \n                                timeseries={this.state.bin.timeseries}\n                                ifcb={this.state.bin.ifcb}\n                                file={this.state.bin.file}\n                                type='bin'\n                                image='None'\n                            /> }\n                        </div>\n                        <div className=\"annotations\">\n                            {this.renderClassMenu()}\n                            <div className=\"image-grid\" id=\"image-grid\">\n                                {\n                                (this.state.loading || this.props.isSaving) ? this.renderLoader() : console.log()\n                                }\n                                <div>\n                                    {this.renderDoneButton()}\n                                    <List\n                                        height={800} // fix later\n                                        rowCount={this.state.rows.length}\n                                        rowHeight={cache.rowHeight}\n                                        rowRenderer={rowRenderer}\n                                        scrollToAlignment=\"start\"\n                                        scrollToIndex={scrollToIndex}\n                                        width={document.documentElement.clientWidth*0.72}\n                                    />\n                                </div>\n                                <img src={toTop} alt=\"Back to Top\" className=\"to-top\" id=\"to-top\" onClick={() => this.backToTop()}></img>\n                            </div>\n                        </div>\n                        <div className='navigation-container'>\n                            <div style={{'display':'flex'}}>\n                                {this.renderNavButton('previous')}\n                                {this.renderNavButton('next')}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n      );\n  }\n\n  render() {\n    \n    if(this.props.onHome) {\n        return <Redirect push to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect push to=\"/learn\" />\n    }\n    \n    if(this.props.onNotebook) {\n        return <Redirect push to=\"/notebook/\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect push to=\"/analysis/\" />\n    }\n\n    if(this.state.newFile.length !== 0) {\n        if (this.state.newFile === 'blank') {\n            return <Redirect push to='/classify' />\n        }\n        const newURL = '/classify/' + this.state.newTimeSeries + '/' + this.state.newFile;\n        return <Redirect push to={newURL} />\n    }\n\n    if (this.state.rows !== [] && this.state.initialTargetJump === '' && !this.state.loading) {\n        const urlInfo = this.props.location.pathname.split('/');\n        if (urlInfo.length > 4) {\n            const targetNum = urlInfo[4];\n            var k = this.state.targets.findIndex(target => target.number === targetNum);\n            var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n\n            if (isNaN(scrollToIndex) || scrollToIndex<0) {\n                scrollToIndex = undefined;\n            }\n\n            this.setState({\n                jumpEntry: targetNum,\n                jumpSubmit: targetNum,\n                initialTargetJump: targetNum,\n                scrollToIndex: scrollToIndex\n            });\n        }\n    }\n\n    if (typeof(this.state.lastEditBin) !== 'string') {\n        this.setState({ loading: true });\n        const bin = this.state.lastEditBin;\n        return <Redirect push to={\"/classify/\" + bin.timeseries + '/' + bin.file + '/' + this.state.lastEditTarget.target} />\n    }\n\n    return(\n        <div className='body'>\n        <title>{'IFCB | ' + this.state.bin.file}</title>\n        <Header />\n        {(this.state.bin.file === 'Not Found') ? this.renderNotFound() : this.renderPage()}\n        \n        <script>{document.addEventListener(\"scroll\", this.flipBackToTop)}</script>\n    </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => ({\n    preferences: state.auth.preferences,\n    isSaving: state.classify.isSaving,\n    user: state.auth.user,\n    scaleEntry: state.classify.scaleEntry,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps, { classifyTarget, classifyRow, classifyAll, save, sync, changeScale })(Annotations);","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/akashiwo-character.18a198bc.png\";","import React from \"react\";\nimport akashiwo from \"../../assets/akashiwo-character.png\";\nimport \"../../css/classify-styles.css\";\n\nclass Tutorial extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            toc: [\n                {id: 0, title: \"Welcome!\", text: \"Let's get started classifying phytoplankton.\", buttons: null},\n                {id: 1, title: \"Start categorizing\", text: \"Your first task is to find the images that the AutoClassification algorithm misidentified. Use the left menu to select a species, then click on all the phytoplankton that DON’T belong.\", buttons: null},\n                {id: 2, title: \"What if you're unsure?\", text: \"If you’re torn on whether an image belongs or not, leave it in its original category (don’t click). But don’t worry too much— our scientists always check over your data before using it, so it’s okay if you sometimes make a mistake.\", buttons: null},\n                {id: 3, title: \"Keep going!\", text: \"When you finish with all the plankton on the screen, click on another species from the sample and categorize. When you’ve gone through all the species, hit the finish button so we know the file is complete.\", buttons: null},\n                {id: 4, title: \"Switch modes\", text: \"If you’re up for a challenge, switch over to identify mode using the toggle bar above the images.\", buttons: null},\n                {id: 5, title: \"Start identifying\", text: \"Now you’ll see all the images that you marked as misidentified or that the AutoClassification algorithm couldn’t figure out. Select a classification in the left menu, then click on all the images that match it.\", buttons: null},\n                {id: 6, title: \"Try another method\", text: \"You can also work the other way: choose an image, then hover over the classifications in the left menu until you find the one that matches it. Select the classification, then click on the image to classify it.\", buttons: null},\n                {id: 7, title: \"What if you're unsure?\", text: \"Again, if you’re not sure where an image belongs, just leave it unclassified. If you’re finding that identify mode is too challenging, you can always stick to just categorizing.\", buttons: null},\n                {id: 8, title: \"Finish strong\", text: \"When you’re done identifying, click the finish the button. Load up a new sample by selecting a day and an IFCB location in the sample menu and keep classifying!\", buttons: null},\n                {id: 9, title: 'Congrats!', text: \"You’re ready to dive in. You can always revisit this tutorial if you need any help.\", buttons: null},\n            ],\n            tracks: [\n                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n            ],\n            slide: 0,\n            track: 0,\n        }\n    }\n\n    back() {\n        const i = this.state.tracks[this.state.track].findIndex(slide => slide === this.state.slide);\n        const slide = this.state.tracks[this.state.track][i-1];\n        this.setState({ slide: slide });\n    }\n\n    next() {\n        const i = this.state.tracks[this.state.track].findIndex(slide => slide === this.state.slide);\n        const slide = this.state.tracks[this.state.track][i+1];\n        this.setState({ slide: slide });\n    }\n\n    handleButton(track) {\n        const prevTrack = this.state.track;\n        this.setState({ track: track });\n        const i = this.state.tracks[prevTrack].findIndex(slide => slide === this.state.slide);\n        const slide = this.state.tracks[track][i+1];\n        this.setState({ slide: slide });\n    }\n\n    render() {\n\n        const slide = this.state.toc[this.state.slide];\n\n        return (\n            <div className=\"public-time-controls\">\n                <img src={akashiwo} alt=\"Drawing of a celebratory phytoplankton\" className=\"akashiwo-character\"></img>\n                <div id={\"tutorial-1\"} className=\"visible-tutorial-text\">\n                    <p className=\"tutorial-title\">{slide.title}</p>\n                    <p className=\"tutorial-body\">{slide.text}</p>\n                    {slide.buttons ? <div className='tutorial-button-container'>{slide.buttons.map((button) => <div key={button.track} className='tutorial-button' onClick={() => this.handleButton(button.track)}>{button.text}</div>)}</div> : <div/>}\n                    <div className='tutorial-nav-container'>\n                        {this.state.slide > 0 ? <p className=\"tutorial-back\" onClick={() => this.back()}>{'< Back'}</p> : <div/>}\n                        {this.state.slide < this.state.toc.length - 1 && !slide.buttons ? <p className=\"tutorial-next\" onClick={() => this.next()}>{'Next >'}</p> : <div/>}\n                    </div>\n                </div>\n            </div>\n        );\n\n\n    }\n}\n\nexport default (Tutorial);","import React from \"react\";\nimport axios from \"axios\";\nimport Header from '../layout/Header';\nimport Plankton from './Plankton';\nimport Tutorial from './Tutorial';\nimport ClassMenu from './ClassMenu';\nimport DatePicker from \"react-datepicker\";\nimport confetti from 'canvas-confetti';\nimport '../../css/datepicker.css';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport { List, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { classifyPublicTarget, classifyRow, classifyAll, save, sync } from \"../../actions/classify\";\nimport { changeScale } from \"../../actions/preferences\";\n\nimport '../../css/classify-styles.css';\nimport loader from \"./loader.GIF\";\n\nclass PublicClassify extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          newFile: '',\n          newTimeSeries: '',\n          classes: [],\n          classAbbrs: [],\n          classDescriptions: [],\n          classExamples: [],\n          classNonexamples: [],\n          categories: [],\n          categoryIndices: [],\n          classPicker: 'Unclassified',\n          classMark: 'UNC',\n          initialClassIndex: 0,\n          planktonClickEnabled: true,\n          categorizeMode: true,\n          emptyCategories: false,\n          emptyIdentifications: false,\n          infoShowing: [],\n          bin: {timeseries:'', ifcb:'', year:'', day:'', file:''},\n          timeSeriesOptions: [],\n          timeSeriesNames: [],\n          yearOptions: [],\n          dayOptions: [],\n          dateOptions: [],\n          fileOptions: [],\n          filledDays: [],\n          targets: [],\n          targetSet: [],\n          targetNumbers: [],\n          history: [],\n          rows: [],\n          scrollToIndex: undefined,\n          jumpEntry: '',\n          jumpSubmit: '',\n          initialTargetJump: '',\n          lastEditBin: '',\n          lastEditTarget: '',\n          scale: 0.056,\n          lastScroll: 0,\n          dayOption: '',\n          categorizationComplete: false,\n          identificationComplete: false,\n      }\n  }\n\n  static propTypes = {\n    preferences: PropTypes.object,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    changeScale: PropTypes.func,\n    classifyTarget: PropTypes.func.isRequired,\n    classifyRow: PropTypes.func.isRequired,\n    classifyAll: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    isSaving: PropTypes.bool,\n    sync: PropTypes.func.isRequired,\n    isSyncing: PropTypes.bool,\n    user: PropTypes.object,\n    scaleEntry: PropTypes.number,\n    onNotebook: PropTypes.bool,\n    onAnalysis: PropTypes.bool,\n  };\n\n  getNewTimeSeries(option) {\n    this.setState({ loading: true });\n\n    var k = this.state.timeSeriesOptions.findIndex(t => t === String(option));\n    const timeseries = this.state.timeSeriesNames[k];\n\n    axios\n        .get('/process/public/timeseries/' + timeseries + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  processTargets(timeseries, file) {\n    axios\n        .get('/process/public/targets/' + timeseries + '/' + file + '/' + this.props.user.username + '/')\n        .then((targetResponse) => {\n            const initialClass = targetResponse.data[0].class_name;\n            const initialAbbr = targetResponse.data[0].class_abbr;\n            const categories = [...new Set(targetResponse.data.map(t => t.class_name))].filter(n => n!=='Unclassified');\n            this.setState({ \n                targets: targetResponse.data,\n                targetSet: targetResponse.data.filter(t => t.class_name === initialClass),\n                targetNumbers: targetResponse.data.map(t => t.number),\n                classPicker: initialClass,\n                classMark: initialAbbr,\n                initialClassIndex: this.state.classes.findIndex(c => c === initialClass),\n                history: [JSON.stringify(targetResponse.data)],\n                categories: categories,\n                categoryIndices: this.state.classes.map((n,i) => (i)).filter((i) => categories.includes(this.state.classes[i])),\n                loading: false,\n            });\n            if (initialClass === 'Unclassified') {\n                axios\n                    .get('/sync/public/' + timeseries + '/' + this.state.bin.year + '/' + this.state.bin.day + '/' + this.state.bin.file + '/' + this.props.user.username + '/')\n                    .then((syncRes) => {\n                        axios\n                            .get('/process/public/targets/' + timeseries + '/' + file + '/' + this.props.user.username + '/')\n                            .then((targetResponse) => {\n                                const initialClass = targetResponse.data[0].class_name;\n                                const initialAbbr = targetResponse.data[0].class_abbr;\n                                const categories = [...new Set(targetResponse.data.map(t => t.class_name))].filter(n => n!=='Unclassified');\n                                this.setState({ \n                                    targets: targetResponse.data,\n                                    targetSet: targetResponse.data.filter(t => t.class_name === initialClass),\n                                    targetNumbers: targetResponse.data.map(t => t.number),\n                                    classPicker: initialClass,\n                                    classMark: initialAbbr,\n                                    initialClassIndex: this.state.classes.findIndex(c => c === initialClass),\n                                    history: [JSON.stringify(targetResponse.data)],\n                                    categories: categories,\n                                    categoryIndices: this.state.classes.map((n,i) => (i)).filter((i) => categories.includes(this.state.classes[i])),\n                                    loading: false,\n                                });\n                            });\n                    })\n                    .catch((err) => (console.log(err)));\n                if(initialClass === 'Unclassified') {\n                    this.setState({ emptyCategories: true });\n                }\n            }\n            if (!this.state.categorizeMode && this.state.targetSet.length < 1) {\n                this.setState({ emptyIdentifications: true });\n            }\n            axios\n                .get('/process/public/rows/' + timeseries + '/' + file + '/' + initialAbbr + '/' + this.props.user.username + '/')\n                .then((rowResponse) => {\n                    this.setState({ rows: rowResponse.data.options.rows });\n                    if (categories.length < 1) {\n                        this.setState({ initialClassIndex: 0 });\n                    } else {\n                        this.setState({ initialClassIndex: categories.findIndex(c => c === initialClass) });\n                    }\n                });\n    });\n  }\n  \n\n  componentDidMount() {\n    const urlInfo = this.props.location.pathname.split('/')\n\n    axios\n        .get('/api/timeseries/')\n        .then((res) => {\n            this.setState({ \n                timeSeriesOptions: res.data.map((c) => (c.public_name)),\n                timeSeriesNames: res.data.map((c) => (c.name)),\n                });\n            if(urlInfo.length<3) {\n                this.getNewTimeSeries('Santa Cruz Wharf');\n            }\n            })\n        .catch((err) => console.log(err));\n\n    const timeseries = urlInfo[2];\n    const file = urlInfo[3];\n    this.setState({ loading: true });\n\n    axios\n        .get('/classes/SCW/')\n        .then((res) => {\n            this.setState({ \n                classes: res.data.map((c) => (c.display_name.replace('_', ' '))),\n                classAbbrs: res.data.map((c) => (c.abbr)),\n                classDescriptions: res.data.map((c) => (c.description)),\n                classExamples: res.data.map((c) => (c.examples.split(',').filter(n => n.length > 1))),\n                classNonexamples: res.data.map((c) => (c.nonexamples.split(',').filter(n => n.length))),\n            });\n        })\n        .catch((err) => console.log(err));\n\n    if (file !== undefined) {\n        axios\n            .get('/process/public/file/' + timeseries + '/' + file + '/' + this.props.user.username + '/')\n            .then((res) => {\n                this.setState({ \n                    bin: res.data.bin, \n                    yearOptions: res.data.options.year_options.reverse(),\n                    dayOptions: res.data.options.day_options[1],\n                    dateOptions: res.data.options.filled_days.map((date) => (new Date(date))),\n                    fileOptions: res.data.options.file_options,\n                    filledDays: res.data.options.filled_days,\n                    dayOption: res.data.bin.day,\n                })\n                this.processTargets(timeseries, file);\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n                return;\n            });\n        axios\n            .get('/complete/public/status/' + timeseries + '/' + file + '/' + this.props.user.username + '/')\n            .then((completionStatusResponse) => {\n                this.setState({\n                    categorizationComplete: completionStatusResponse.data.options.categorized,\n                    identificationComplete: completionStatusResponse.data.options.identified,\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                return;\n            });\n    }\n\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.url !== prevProps.match.url) {\n        this.props.history.go(0);\n    }\n  }\n\n  highlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  unhighlightTarget(targetNum) {\n    const container = document.getElementById(targetNum);\n    const text = document.getElementById(targetNum+'-text');\n    container.style.backgroundColor = '#FFFFFF';\n    text.style.color = '#4E4E4E';\n  }\n\n  getNewYear(option) {\n    this.setState({ loading: true });\n    axios\n        .get('/process/year/' + this.state.bin.timeseries + '/' + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleBarHover(option) {\n      this.setState({ dayOption: this.state.dayOptions[option] });\n  }\n\n  handleBar(option) {\n    const histogram = document.getElementById('histogram_dropdown').classList;\n    if (histogram.contains('show-day')) {\n        histogram.toggle('show-day');\n    }\n\n    this.setState({ loading: true });\n    axios\n        .get('/process/day/' + this.state.bin.timeseries + '/' + this.state.bin.year + '/'  + option + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  onDateChange(day) {\n    axios\n        .get('/process/public/day/' + this.state.bin.timeseries + '/' + String(day).split(' ').slice(1,4).join('') + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: this.state.bin.timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n\n  handleNewFile(option) {\n\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    \n    const file = 'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n    option.slice(0,3) + option.slice(4,6) + option.slice(7,9);\n    \n    this.setState({ \n        newTimeSeries: this.state.bin.timeseries,\n        newFile: file\n    })\n  }\n\n  handleMouseOver(element) {\n    element.style.backgroundColor = '#16609F';\n  }\n\n  handleMouseOut(element) {\n    element.style.backgroundColor = '#079CCC';\n  }\n\n  handleMenuClick(name) {\n      const prevMenu = document.getElementById(this.state.classPicker);\n      if (prevMenu.classList.contains('select-menu')) {\n        prevMenu.classList.remove('select-menu');\n      }\n\n      const nameAbbr = (element) => element === name;\n      const classMark = this.state.classAbbrs[this.state.classes.findIndex(nameAbbr)]\n      this.setState({ \n          classPicker: name,\n          classMark: classMark,\n        });\n      if (this.state.categorizeMode) {\n        this.setState({ \n            rows: [],\n            targetSet: this.state.targets.filter(t => t.class_name === name) \n        });\n        axios\n            .get('/process/public/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + classMark + '/' + this.props.user.username + '/')\n            .then((rowResponse) => {\n                this.setState({ rows: rowResponse.data.options.rows });\n            });\n      }\n      const menu = document.getElementById(name);\n      menu.classList.add('select-menu');\n  }\n\n  handleUndoClick() {\n    if (this.state.history.length > 1) {\n      const newHistory = this.state.history.slice(0, this.state.history.length-1);\n      const targets = JSON.parse(newHistory[newHistory.length-1]);\n      const rows = this.state.rows;\n      this.setState({ rows: [] });\n      this.setState({\n          targets: targets,\n          history: newHistory,\n      });\n      this.setState({ rows: rows });\n      this.props.save(targets, this.state.bin.timeseries, this.state.bin.file, this.props.preferences.sort);\n    }\n  }\n\n  handleHistogramClick() {\n    const histogram = document.getElementById('histogram');\n    const histogram_dropdown = document.getElementById('histogram_dropdown');\n    histogram_dropdown.classList.toggle('show-day');\n    histogram.scrollTop = histogram.scrollHeight;\n  }\n\n  handleModeToggle() {\n    this.setState({ loading: true, rows: [] });\n    document.getElementById('mode-left').classList.toggle('mode-selected');\n    document.getElementById('mode-right').classList.toggle('mode-selected');\n    document.getElementById('mode-left-text').classList.toggle('mode-text-selected');\n    document.getElementById('mode-right-text').classList.toggle('mode-text-selected');\n    \n    axios\n        .get('/process/public/targets/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.props.user.username + '/')\n        .then((targetResponse) => {\n            const initialClass = targetResponse.data[0].class_name;\n            const initialAbbr = targetResponse.data[0].class_abbr;\n            var categories = [...new Set(targetResponse.data.map(t => t.class_name))].filter(n => n!=='Unclassified');\n            var classAbbr;\n            var classPicker;\n            var classMark; \n            this.state.categorizeMode ? classAbbr = 'UNCL' : classAbbr = initialAbbr;\n            this.state.categorizeMode ? classPicker = this.state.classes[0]: classPicker = initialClass;\n            this.state.categorizeMode ? classMark = this.state.classAbbrs[0]: classMark = initialAbbr;\n            this.setState({ \n                targets: targetResponse.data,\n                targetSet: targetResponse.data.filter(t => t.class_abbr === classAbbr),\n                targetNumbers: targetResponse.data.map(t => t.number),\n                classPicker: classPicker,\n                classMark: classMark,\n                history: [JSON.stringify(targetResponse.data)],\n                categories: categories,\n                categoryIndices: this.state.classes.map((n,i) => (i)).filter((i) => categories.includes(this.state.classes[i])),\n                categorizeMode: !this.state.categorizeMode,\n            });\n            if (initialClass === 'Unclassified') {\n                this.setState({ emptyCategories: true });\n            }\n\n            if (!this.state.categorizeMode && this.state.targetSet.length < 1) {\n                this.setState({ emptyIdentifications: true });\n            }\n\n            axios\n                .get('/process/public/rows/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + classAbbr + '/' + this.props.user.username + '/')\n                .then((rowResponse) => {\n                    this.setState({ \n                        rows: rowResponse.data.options.rows, \n                        loading: false,\n                     });\n                     if (categories.length < 1) {\n                        this.setState({ initialClassIndex: 0 });\n                    } else {\n                        this.setState({ initialClassIndex: this.state.categories.findIndex(c => c === initialClass) });\n                    }\n                });\n    });\n\n  }\n\n  handlePlanktonClick(i) {\n    if (this.state.planktonClickEnabled) {\n        var targets = this.state.targets;\n        const k = targets.findIndex(target => target.number === i);\n        const classAbbr = (element) => element === this.state.classPicker;\n        targets[k].class_name = this.state.classPicker;\n        targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        targets[k].editor = this.props.user.username;\n        const history = this.state.history;\n        this.setState({\n            history: history.concat([JSON.stringify(targets)]),\n            targets: targets,\n        });\n        const container = document.getElementById(targets[k].number);\n        const text = document.getElementById(targets[k].number+'-text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n\n        this.props.classifyPublicTarget(targets[k], this.state.bin.timeseries, this.state.bin.file, targets[k].number, this.props.user.username);\n    }\n  }\n\n  handlePlanktonCheck(i) {\n    if (this.state.planktonClickEnabled) {\n        var targets = this.state.targets;\n        const k = targets.findIndex(target => target.number === i);\n        const classAbbr = (element) => element === this.state.classPicker;\n        if (targets[k].class_name === this.state.classPicker) {\n            targets[k].class_name = 'Unclassified';\n            targets[k].class_abbr = 'UNCL';\n        } else {\n            targets[k].class_name = this.state.classPicker;\n            targets[k].class_abbr = this.state.classAbbrs[this.state.classes.findIndex(classAbbr)];\n        }\n        targets[k].editor = this.props.user.username;\n        const history = this.state.history;\n        this.setState({\n            history: history.concat([JSON.stringify(targets)]),\n            targets: targets,\n        });\n\n        this.props.classifyPublicTarget(targets[k], this.state.bin.timeseries, this.state.bin.file, targets[k].number, this.props.user.username);\n    }\n  }\n\n  handleDoneClick() {\n    var url\n    var colors = ['#1DC3D7', '#6FB530'];\n    if(this.state.categorizeMode) {\n        if(!this.state.categorizationComplete) {\n            confetti({\n                particleCount: 100,\n                spread: 70,\n                origin: { y: 0.6 },\n                colors: colors\n              });\n        }\n        url = '/complete/public/categorization/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.props.user.username + '/';\n        this.setState({ categorizationComplete: !this.state.categorizationComplete });\n    } else {\n        if(!this.state.identificationComplete) {\n            confetti({\n                particleCount: 100,\n                spread: 70,\n                origin: { y: 0.6 },\n                colors: colors\n              });\n        }\n        url = '/complete/public/identification/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + this.props.user.username + '/';\n        this.setState({ identficationComplete: !this.state.identficationComplete });\n    }\n    axios.get(url).catch((err) => console.log(err));\n\n  }\n\n  renderClassMenu() {\n    return <ClassMenu \n          classes={this.state.classes}\n          categories={this.state.categories}\n          descriptions={this.state.classDescriptions}\n          examples={this.state.classExamples}\n          nonexamples={this.state.classNonexamples}\n          initial={this.state.initialClassIndex}\n          onClick={(name) => this.handleMenuClick(name)}\n          handleSelectAllClick={() => this.handleSelectAllClick()}\n          handleUndoClick={() => this.handleUndoClick()}\n          scale={this.state.scale}\n          showPhytoGuide={this.props.preferences.phytoguide}\n          categorizeMode={this.state.categorizeMode}\n          categoryIndices={this.state.categoryIndices}\n          public={true}\n      />;\n  }\n\n  renderModeToggle() {\n      return( \n        <div className=\"mode-toggle\">\n            <div className=\"mode-left mode-selected\" id=\"mode-left\" onClick={() => this.handleModeToggle()}>\n                <p className=\"mode-text mode-text-selected\" id=\"mode-left-text\">Categorize</p>\n            </div>\n            <div className=\"mode-right\" id=\"mode-right\" onClick={() => this.handleModeToggle()}>\n                <p className=\"mode-text\" id=\"mode-right-text\">Identify</p>\n            </div>\n        </div>\n      );\n  }\n\n  renderDoneButton() {\n    var message\n    var appearance\n\n    if(this.state.categorizeMode) {\n        if(this.state.categorizationComplete) {\n            message = 'Categorization Complete';\n            appearance = 'complete-done-button';\n        } else {\n            message = 'Finished Categorizing?';\n            appearance = 'incomplete-done-button';\n        }\n    } else {\n        if(this.state.identificationComplete) {\n            message = 'Identification Complete';\n            appearance = 'complete-done-button';\n        } else {\n            message = 'Finished Identifying?';\n            appearance = 'incomplete-done-button';\n        }\n    }\n    \n    return(\n        <div className={\"done-button \" + appearance} onClick={() => this.handleDoneClick()}>\n            <div className={\"done-check\"}></div>\n            <p className=\"done-text\">{message}</p>\n        </div>\n      )\n  }\n\n  renderLoader() {\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\" style={{'margin':'0 0 3vw 0'}}></img>\n  }\n\n  returnToClassify() {\n    this.setState({ newFile: 'blank' });\n  }\n\n  renderNotFound() {\n      return(\n        <div className='main'>\n            <div className=\"page\">\n                <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>File Not Found</h1>\n                        <p className=\"not-found-message\">The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL.</p>\n                        <div className=\"return-button\" onClick={() => this.returnToClassify()}>Return to Classify</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n  }\n\n  renderPage() {\n    const cache = new CellMeasurerCache({\n        defaultHeight: 10,\n        minHeight: 10,\n        fixedWidth: true\n      });\n\n    const scrollToIndex = this.state.scrollToIndex;\n\n    const selectedDate = (this.state.bin.day === '') ? new Date() : new Date(this.state.bin.day + '-' + this.state.bin.year);\n\n    const rowRenderer = ({index, key, parent, style}) => (\n        \n        (this.state.targets.length < 1) ? <div/> : \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={index}\n            >\n            {({ measure, registerChild }) => (\n            <div ref={registerChild} key={key} style={style}>\n                <div onLoad={measure} className=\"row\">\n                    <div className=\"image-row\">\n                        {this.state.rows[index].map((i) => \n                            <Plankton \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                timestamp={this.state.bin.file}\n                                id={i}\n                                targetNum={this.state.targetSet[i].number}\n                                class_name={this.state.targetSet[i].class_name}\n                                class_abbr={this.state.targetSet[i].class_abbr}\n                                height={this.state.targetSet[i].height}\n                                width={this.state.targetSet[i].width}\n                                scale={this.props.scaleEntry / 10}\n                                ifcb={this.state.bin.ifcb}\n                                editor={'jamiewalton'}\n                                date={this.state.targetSet[i].date}\n                                onClick={(i) => this.handlePlanktonClick(i)}\n                                onCheck={(i) => this.handlePlanktonCheck(i)}\n                                infoChange={(targetNum, bool, infoShowing) => this.disablePlanktonClick(targetNum, bool, infoShowing)}\n                                infoShowing={this.state.infoShowing}\n                                public={true}\n                                categorizeMode={this.state.categorizeMode}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n            )}\n            </CellMeasurer>\n        )\n      return(\n        \n        <div className='main'>\n            <div className=\"page\">\n            <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>Classify Phytoplankton</h1>\n                        <div style={{'display':'flex'}}>\n                            <div style={{'display':'flex'}}>\n                                <div className=\"public-time-controls\">\n                                    <DatePicker \n                                        onChange={(day) => this.onDateChange(day)}\n                                        value={selectedDate}\n                                        selected={selectedDate}\n                                        includeDates={this.state.dateOptions}\n                                        placeholderText={this.state.bin.day + '-' + this.state.bin.year}\n                                        className='datepicker'\n                                        inline\n                                    />\n                                    <div className=\"timeseries-box\">\n                                        <p className=\"tutorial-title sample-title\">Sample</p>\n                                        {this.state.timeSeriesOptions.filter(n => n!=='').map((option, i) => \n                                            <li key={i} className=\"tutorial-button\" onClick={() => this.getNewTimeSeries(option)}>{option}</li>)}\n                                    </div>\n                                </div>\n                            </div>\n                            <Tutorial/>\n                        </div>\n                        <div className=\"annotations\">\n                            {this.renderClassMenu()}\n                            <div>\n                                <div className=\"status-buttons\">\n                                    {this.renderModeToggle()}\n                                    {this.renderDoneButton()}\n                                </div>\n                                <div className=\"image-grid remove-top-margin\" id=\"image-grid\">\n                                    {\n                                    (this.state.loading || this.props.isSaving) ? this.renderLoader() : console.log()\n                                    }\n                                    {\n                                    (this.state.emptyCategories && this.state.categorizeMode) ? <p className=\"empty-categories-text\">Nothing to categorize! Switch over to Identify mode to start classifying.</p> :\n                                    (this.state.emptyIdentifications && !this.state.categorizeMode) ? <p className=\"empty-categories-text\">Nothing to identify! You're finished with this file.</p> :\n                                        <List\n                                            height={800} // fix later\n                                            rowCount={this.state.rows.length}\n                                            rowHeight={cache.rowHeight}\n                                            rowRenderer={rowRenderer}\n                                            scrollToAlignment=\"start\"\n                                            scrollToIndex={scrollToIndex}\n                                            width={document.documentElement.clientWidth*0.72}\n                                        />\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n      );\n  }\n\n  render() {\n    \n    if(this.props.onHome) {\n        return <Redirect push to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect push to=\"/learn\" />\n    }\n    \n    if(this.props.onNotebook) {\n        return <Redirect push to=\"/notebook/\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect push to=\"/analysis/\" />\n    }\n\n    if(this.state.newFile.length !== 0) {\n        if (this.state.newFile === 'blank') {\n            return <Redirect push to='/classify' />\n        }\n        const newURL = '/classify/' + this.state.newTimeSeries + '/' + this.state.newFile;\n        return <Redirect push to={newURL} />\n    }\n\n    if (this.state.rows !== [] && this.state.initialTargetJump === '' && !this.state.loading) {\n        const urlInfo = this.props.location.pathname.split('/');\n        if (urlInfo.length > 4) {\n            const targetNum = urlInfo[4];\n            var k = this.state.targets.findIndex(target => target.number === targetNum);\n            var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n\n            if (isNaN(scrollToIndex) || scrollToIndex<0) {\n                scrollToIndex = undefined;\n            }\n\n            this.setState({\n                jumpEntry: targetNum,\n                jumpSubmit: targetNum,\n                initialTargetJump: targetNum,\n                scrollToIndex: scrollToIndex\n            });\n        }\n    }\n\n    return(\n        <div className='body'>\n        <title>{'IFCB | ' + this.state.bin.file}</title>\n        <Header />\n        {(this.state.bin.file === 'Not Found') ? this.renderNotFound() : this.renderPage()}\n        \n        <script>{document.addEventListener(\"scroll\", this.flipBackToTop)}</script>\n    </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => ({\n    preferences: state.auth.preferences,\n    isSaving: state.classify.isSaving,\n    user: state.auth.user,\n    scaleEntry: state.classify.scaleEntry,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps, { classifyPublicTarget, classifyRow, classifyAll, save, sync, changeScale })(PublicClassify);","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Annotations from \"./Annotations\";\nimport PublicClassify from \"./PublicClassify\";\n\n\nclass Classify extends React.Component {\n\n  static propTypes = {\n    group: PropTypes.object.isRequired,\n};\n\n  render() {\n    if(this.props.group[0] === 1) {\n      return <Annotations location={this.props.location} match={this.props.match} history={this.props.history}/>\n    } else {\n      return <PublicClassify location={this.props.location} match={this.props.match} history={this.props.history}/>\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  group: state.auth.user.groups,\n});\n\nexport default connect(mapStateToProps, { })(Classify);","import React, { Component } from 'react';\nimport { Grid, AutoSizer, CellMeasurerCache, CellMeasurer } from 'react-virtualized';\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport { filterNotebook, receiveNotesChange } from \"../../actions/classify\";\nimport Header from '../layout/Header';\nimport Note from \"./Note\";\nimport '../../css/notebook-styles.css';\n\nclass Filter extends Component {\n    renderOption(option) {\n        return(\n            <div className=\"filter-option\" onClick={() => this.props.applyFilter(this.props.filter, option)}>{option}</div>\n        );\n    }\n    \n    render() {\n        return(\n            <div>\n                <div className=\"filter-choice\" onClick={() => this.props.onClick(this.props.filter)}>\n                    <p className=\"filter-choice-text\">{this.props.filter}</p>\n                    <p className=\"filter-choice-plus\" id={this.props.filter + \"-plus\"}>+</p>\n                </div>\n                <div className=\"filter-dropdown\" id={this.props.filter + \"-dropdown\"}>\n                    {this.props.options.map((option) => (this.renderOption(option[this.props.filter])))}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Notebook extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            notes: [{\n                \"id\": \"\",\n                \"author\": \"\",\n                \"date\": \"\",\n                \"entry\": \"\",\n                \"parent\": null,\n                \"replies\": [],\n                \"timeseries\": \"\",\n                \"ifcb\": \"\",\n                \"file\": \"\",\n                \"image\": \"\"\n            }],\n            flags: [],\n            classes: [],\n            searchTerms: \"\",\n            authors: [{author: ''}],\n            bins: [{bin: ''}],\n            timeseries: [{timeseries: ''}],\n            ifcbs: [{ifcb: ''}],\n            types: [\n                {type: 'Bin Note'}, \n                {type: 'Target Note'}\n            ],\n            appliedFilters: [],\n            rowCount: 0,\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        notes: PropTypes.array,\n        filterNotebook: PropTypes.func,\n        receiveNotesChange: PropTypes.func,\n        noteChangeFlag: PropTypes.bool,\n    }\n\n    getNotebook(filters) {\n        if (filters.length === 0) {\n            axios\n                .get('/notebook/')\n                .then((res) => {\n                    this.setState({ \n                        notes: res.data,\n                        flags: Array(res.data.length).fill(''),\n                        rowCount: Math.ceil(res.data.length/3),\n                    });\n                })\n                .catch((err) => console.log(err));\n        } else {\n            this.props.filterNotebook(filters);\n        }\n    }\n\n    componentDidMount() {\n        this.getNotebook([]);\n        axios\n            .get('/notebook/filters/')\n            .then((res) => {\n                this.setState({ \n                    authors: res.data.options.authors,\n                    bins: res.data.options.bins,\n                    timeseries: res.data.options.timeseries,\n                    ifcbs: res.data.options.ifcbs,\n                });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    componentDidUpdate(prevProps) {\n        if(this.props.noteChangeFlag) {\n            this.getNotebook(this.state.appliedFilters);\n            this.props.receiveNotesChange();\n        }\n\n        if(this.props.notes !== prevProps.notes) {\n            console.log(prevProps.notes);\n            console.log(this.props.notes);\n            this.setState({ notes: this.props.notes });\n        }\n    }\n\n    onChange = e => this.setState({ searchTerms: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        const newAppliedFilters = this.state.appliedFilters.concat([ {category: \"search\", choice: this.state.searchTerms} ]);\n        this.setState({ appliedFilters: newAppliedFilters })\n        this.props.filterNotebook(newAppliedFilters);\n    }\n\n    handleFilterChoiceClick(option) {\n        document.getElementById(option + '-plus').classList.toggle('rotate-plus');\n        document.getElementById(option + '-dropdown').classList.toggle('show-filter-dropdown');\n    }\n\n    handleApplyFilter(category, choice) {\n        console.log('Applying filter!');\n        const duplicates = this.state.appliedFilters.filter(entry => (entry['category'] === category) && (entry['choice'] === choice))\n        if (duplicates.length === 0) {\n            const newAppliedFilters = this.state.appliedFilters.concat([ {category: category, choice: choice} ])\n            this.getNotebook(newAppliedFilters);\n            console.log(this.props.notes);\n            this.setState({ appliedFilters: newAppliedFilters });\n        }\n    }\n\n    handleRemoveFilter(filter) {\n        const applied = this.state.appliedFilters;\n        const index = applied.findIndex(entry => entry === filter);\n        const newAppliedFilters = applied.slice(0, index).concat(applied.slice(index+1,applied.length));\n        this.setState({ appliedFilters: newAppliedFilters });\n        this.getNotebook(newAppliedFilters);\n    }\n\n    renderFilterChoice(filter, options) {\n        return(\n            <Filter\n                filter={filter}\n                options={options}\n                onClick={(option) => this.handleFilterChoiceClick(option)}\n                applyFilter={(category, choice) => this.handleApplyFilter(category, choice)}\n            />\n        );\n    }\n\n    renderAppliedFilters(filter) {\n        return (\n            <div className=\"filter-choice applied\" onClick={() => this.handleRemoveFilter(filter)}>\n                <p className=\"filter-choice-text applied-text\">{filter.category.toUpperCase() + ': ' + filter.choice}</p>\n                <p className=\"filter-choice-plus applied-text rotate-plus\" id={this.props.filter + \"-plus\"}>+</p>\n            </div>\n        );\n    }\n\n\n  render() {\n    if(this.props.onClassify) {\n        return <Redirect push to=\"/classify\" />\n    }\n\n    if(this.props.onHome) {\n        return <Redirect push to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect push to=\"/learn\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect push to=\"/analysis/\" />\n    }\n\n    const cache = new CellMeasurerCache({\n        defaultHeight: 200,\n        minHeight: 200,\n        fixedWidth: true\n      });\n\n    // Grid data as an array of arrays\n    const notes = this.state.notes;\n    const username = this.props.user.username;\n    var skips = 0;\n    var rendered = [];\n\n    function renderReply(note, count) {\n        return(\n            <div className=\"reply\" style={{margin: \"0 0 0 \" + String(count) + \"vw\"}}>\n                <Note\n                    note={note}\n                    user={username}\n                    timeseries={note.timeseries}\n                    ifcb={note.ifcb}\n                    file={note.file}\n                    type='bin'\n                    image={note.image}\n                />\n                <div className=\"reply\" style={{margin: \"0 0 0 \" + String((count+1)) + \"vw\"}}>\n                {(note.replies.length !== 0) ?\n                    note.replies.map((reply) => renderReply(reply, count+1)) :\n                    <div></div>\n                }\n                </div>\n            </div>\n        );\n    }\n    \n    function cellRenderer({columnIndex, key, parent, rowIndex, style}) {\n        if ((rowIndex === 0) && (columnIndex === 0)) {\n            skips = 0;\n            rendered = [];\n        }\n        var noteIndex = (3*rowIndex) + columnIndex + skips;\n        if ((noteIndex) < notes.length) {\n            if ((notes[noteIndex].parent !== null) || (rendered.includes(noteIndex))) {\n                while (notes[noteIndex].parent !== null || (rendered.includes(noteIndex))) {\n                    noteIndex = noteIndex + 1;\n                    skips = skips + 1;\n                    if (noteIndex >= notes.length) {\n                        return\n                    }\n                }\n            }\n            rendered = rendered.concat([noteIndex]);\n            const note = notes[noteIndex];\n            const count = 0;\n            var url = '';\n            if (note.image !== 'None') {\n                url = 'http://akashiwo.oceandatacenter.ucsc.edu:8000/' + note.timeseries + '/' + note.file + '_' + note.ifcb + '_' + note.image + '.jpg';\n            }\n            const flatNote = JSON.stringify(note);\n            const includesFlag = flatNote.includes('true');\n            return (\n                <CellMeasurer\n                    cache={cache}\n                    columnIndex={columnIndex}\n                    key={key}\n                    parent={parent}\n                    rowIndex={rowIndex}\n                >\n                {({ measure, registerChild }) => (\n                    <div ref={registerChild} key={key} style={style}>\n                        <div className=\"notebook-note\" onLoad={measure}>\n                            {(url === '') ? <div></div> : \n                            <img src={url} className=\"notebook-image\" alt={'Target ' + note.image}></img>}\n                            {(includesFlag) ? <div className=\"flag\"></div> : <div></div>}\n                            <div className=\"notebook-entry\"> \n                                <div>\n                                    {(note.image === 'None') ? \n                                    <div className=\"notebook-entry\">\n                                        <p className=\"notebook-entry-heading\">{note.timeseries + ', ' + note.file}</p>\n                                    </div> :\n                                    <div className=\"notebook-entry\">\n                                        <p className=\"notebook-entry-heading\">{'Target ' + note.image}</p>\n                                        <p className=\"notebook-entry-subtitle\">{note.timeseries + ', ' + note.file}</p>\n                                    </div>\n                                    }\n                                    <Note\n                                        note={note}\n                                        user={username}\n                                        timeseries={note.timeseries}\n                                        ifcb={note.ifcb}\n                                        file={note.file}\n                                        type='bin'\n                                        image={note.image}\n                                    />\n                                    {(note.replies.length !== 0) ?\n                                        note.replies.map((reply) => renderReply(reply, count+1)) :\n                                        <div></div>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n                </CellMeasurer>\n            );\n            } else {return}\n      }\n\n    return (\n            <div>\n                <Header />\n                <title>IFCB | Notebook</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Notebook</h1>\n                            </div>\n                            <div className=\"day-dropdown withmargin\" id='filter_dropdown'>\n                                <form className=\"search-form\" id=\"search-form\" onSubmit={this.onSubmit}>\n                                    <div className=\"search-bar\">\n                                        <div className=\"search-icon\"></div>\n                                        <input\n                                            type=\"text\"\n                                            className=\"search-input\"\n                                            name=\"searchTerms\"\n                                            onChange={this.onChange}\n                                            value={this.state.searchTerms}\n                                        />\n                                    </div>\n                                    <div className=\"applied-filters\">{this.state.appliedFilters.map((filter) => (this.renderAppliedFilters(filter)))}</div>\n                                    <div className=\"filter-buttons\">\n                                        {this.renderFilterChoice('author', this.state.authors)}\n                                        {this.renderFilterChoice('file', this.state.bins)}\n                                        {this.renderFilterChoice('timeseries', this.state.timeseries)}\n                                        {this.renderFilterChoice('ifcb', this.state.ifcbs)}\n                                    </div>\n                                </form>\n                            </div>\n                            <div className=\"notebook-content\">\n                                <AutoSizer>\n                                {({ width, height }) => (\n                                    <Grid\n                                        cellRenderer={cellRenderer}\n                                        columnCount={3}\n                                        columnWidth={document.documentElement.clientWidth*0.29}\n                                        rowHeight={cache.rowHeight}\n                                        deferredMeasurementCache={cache}\n                                        rowCount={this.state.rowCount}\n                                        height={height}\n                                        width={width}\n                                        notes={this.state.notes}\n                                    />\n                                )}\n                                </AutoSizer>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    noteChangeFlag: state.classify.noteChangeFlag,\n    notes: state.classify.notes,\n });\n\nexport default connect(mapStateToProps, {filterNotebook, receiveNotesChange})(Notebook);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Header from '../layout/Header';\nimport { goto_classdownload, goto_search, goto_communityreview, goto_labreview } from \"../../actions/menu\";\nimport '../../css/analysis-styles.css';\n\nclass AnalysisOption extends Component {\n    render() {\n        return(\n            <div className=\"analysis-option-container\">\n                <h2 className=\"analysis-option-heading\">{this.props.heading}</h2>\n                <p className=\"analysis-option-description\">{this.props.description}</p>\n                <div className=\"analysis-option-button\" onClick={this.props.handleClick}>Start</div>\n            </div>\n        );\n    }\n}\n\nclass Analysis extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            analysisOptions: [\n                {heading: 'Search', description: \"Find any image or collection of images with the help of classification filtering, file look-up, and more.\"},\n                {heading: 'Download by Class', description: \"Download a ZIP file containing all, or a desired subset of, images classified as a particular species.\"},\n                {heading: 'Analyze Community Data', description: \"Check over community scientist classifications, review completion statuses, and download their datasets.\"},\n                {heading: 'Analyze Lab Data', description: \"Review lab classification files and download the datasets.\"},\n            ],\n            bin: '',\n            target: '',\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onClassDownload: PropTypes.bool,\n        onSearch: PropTypes.bool,\n        onCommunityReview: PropTypes.bool,\n        onLabReview: PropTypes.bool,\n        goto_classdownload: PropTypes.func,\n        goto_search: PropTypes.func,\n    }\n\n    renderAnalysisOption(option) {\n        var handleClick\n        if (option.heading === 'Search') {\n            handleClick = this.props.goto_search;\n        } else if (option.heading === 'Download by Class') {\n            handleClick = this.props.goto_classdownload;\n        } else if (option.heading === 'Analyze Community Data') {\n            handleClick = this.props.goto_communityreview;\n        } else if (option.heading === 'Analyze Lab Data') {\n            handleClick = this.props.goto_labreview;\n        }\n        return (\n            <AnalysisOption\n                key={option.heading}\n                heading={option.heading}\n                description={option.description}\n                handleClick={handleClick}\n            />\n        );\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect push to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n\n        if(this.props.onClassDownload) {\n            return <Redirect push to=\"/analysis/classdownload\" />\n        }\n\n        if(this.props.onSearch) {\n            return <Redirect push to=\"/analysis/search\" />\n        }\n\n        if(this.props.onCommunityReview) {\n            return <Redirect push to=\"/analysis/communityreview\" />\n        }\n\n        if(this.props.onLabReview) {\n            return <Redirect push to=\"/analysis/labreview\" />\n        }\n\n        return(\n            <div>\n                <Header />\n                <title>IFCB | Analysis</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <div className=\"analysis-options\">\n                                {this.state.analysisOptions.map((option) => (this.renderAnalysisOption(option)))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onClassify: state.menu.onClassify,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onClassDownload: state.menu.onClassDownload,\n    onSearch: state.menu.onSearch,\n    onCommunityReview: state.menu.onCommunityReview,\n    onLabReview: state.menu.onLabReview,\n });\n\nexport default connect(mapStateToProps, { goto_classdownload, goto_search, goto_communityreview, goto_labreview })(Analysis);","import React, { Component } from 'react';\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass ClassDownload extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classes: [],\n            classifiers: [],\n            classChoice: '',\n            optionalChoices: {\n                include: [],\n                exclude: [],\n                number: 'all',\n            },\n            loading: false,\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n    }\n\n    componentDidMount() {\n        axios\n            .get('/classes/SCW/')\n            .then((res) => {\n                this.setState({ \n                    classes: res.data.map((c) => (c.display_name)),\n                });\n            })\n            .catch((err) => console.log(err));\n        axios\n            .get('/classdownload/classifiers/')\n            .then((res) => {\n                this.setState({ \n                    classifiers: res.data.options.classifiers,\n                });\n            })\n            .catch((err) => console.log(err));\n    }\n\n    handleClassOptionClick(option) {\n        if (this.state.classChoice !== '') {\n            document.getElementById(this.state.classChoice + '-text').style.color = '#707070';\n            document.getElementById(this.state.classChoice + '-cont').style.backgroundColor = '#F8F7F7';\n        }\n        this.setState({ classChoice: option });\n        document.getElementById(option + '-text').style.color = '#FFFFFF';\n        document.getElementById(option + '-cont').style.backgroundColor = '#16609F';\n    }\n\n    handleClassifierOptionClick(option) {\n        const classifierIncludes = this.state.optionalChoices.include;\n        const classifierExcludes = this.state.optionalChoices.exclude;\n        document.getElementById(option + '-text').style.color = '#707070';\n        document.getElementById(option + '-cont').style.backgroundColor = '#F8F7F7';\n        if (classifierIncludes.includes(option)) {\n            const index = classifierIncludes.indexOf(option);\n            classifierIncludes.splice(index, 1);\n            const newExcludes = classifierExcludes.concat([option]);\n            this.setState({ optionalChoices: {\n                include: classifierIncludes,\n                exclude: newExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#7dad0b';\n            document.getElementById(option + '-text').style.color = '#FFFFFF';\n        } else if (classifierExcludes.includes(option)) {\n            const index = classifierExcludes.indexOf(option);\n            classifierExcludes.splice(index, 1);\n            this.setState({ optionalChoices: {\n                include: classifierIncludes,\n                exclude: classifierExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#F8F7F7';\n            document.getElementById(option + '-text').style.color = '#707070';\n        } else {\n            const newIncludes = classifierIncludes.concat([option]);\n            this.setState({ optionalChoices: {\n                include: newIncludes,\n                exclude: classifierExcludes,\n                number: this.state.optionalChoices.number\n            } });\n            document.getElementById(option + '-cont').style.backgroundColor = '#16609F';\n            document.getElementById(option + '-text').style.color = '#FFFFFF';\n        }\n    }\n\n    handleAllClick() {\n        document.getElementById('all-cont').style.backgroundColor = '#16609F';\n        document.getElementById('all-text').style.color = '#FFFFFF';\n        this.setState({ optionalChoices: {\n            include: this.state.optionalChoices.include,\n            exclude: this.state.optionalChoices.exclude,\n            number: 'all'\n        } })\n    }\n\n    handleNumberChange(e) {\n        this.setState({ optionalChoices: {\n            include: this.state.optionalChoices.include,\n            exclude: this.state.optionalChoices.exclude,\n            number: e.target.value\n        } });\n        document.getElementById('all-cont').style.backgroundColor = '#F8F7F7';\n        document.getElementById('all-text').style.color = '#707070';\n    }\n\n    onChange = e => (this.handleNumberChange(e))\n\n    download() {\n        this.setState({ loading: true });\n        const include = (this.state.optionalChoices.include.length < 1) ? ('None') : (this.state.optionalChoices.include.join('-'));\n        const exclude = (this.state.optionalChoices.exclude.length < 1) ? ('None') : (this.state.optionalChoices.exclude.join('-'));\n        const number = this.state.optionalChoices.number\n        document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/classdownload/' + this.state.classChoice + '/' + include + '/' + exclude + '/' + number + '/'\n    }\n\n    loadFrame() {\n        this.setState({ loading: false });\n    }\n\n    renderClassOption(option) {\n        return(\n            <div className=\"filter-choice download-option\" id={option + '-cont'} onClick={() => this.handleClassOptionClick(option)}>\n                <p className=\"filter-choice-text\" id={option + '-text'}>{option}</p>\n            </div>\n        );\n    }\n\n    renderClassifierOption(option) {\n        return(\n            <div className=\"filter-choice download-option\" id={option + '-cont'} onClick={() => this.handleClassifierOptionClick(option)}>\n                <p className=\"filter-choice-text\" id={option + '-text'}>{option}</p>\n            </div>\n        );\n    }\n\n    renderLoader() {\n        return <img src={loader} alt=\"Loading targets...\" width=\"50\" loop=\"infinite\" style={{margin:'2vw 0 0 0'}}></img>\n      }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect push to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis\" />\n        }\n\n        return(\n            <div>\n                <Header />\n                <title>IFCB | Class Download</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading\">Download by Class</h2>\n                            <div className=\"download-steps\">\n                                <div className=\"download-step-container\">\n                                    <div className=\"download-step-heading\">\n                                        <div className=\"step-icon\">1</div>\n                                        <p className=\"download-step-text\">Choose a classification</p>\n                                    </div>\n                                    <p className=\"download-step-subtext\">Select one classification name.</p>\n                                    <div className=\"class-options\">\n                                        {this.state.classes.map((option) => (this.renderClassOption(option)))}\n                                    </div>\n                                </div>\n                                <div>\n                                    <div className=\"download-step-container classifiers\">\n                                        <div className=\"download-step-heading\">\n                                            <div className=\"step-icon\">2</div>\n                                            <p className=\"download-step-text\">Choose classifiers (optional)</p>\n                                        </div>\n                                        <p className=\"download-step-subtext\">Click an option once to include it or twice to exclude it.</p>\n                                        <div className=\"class-options\">\n                                            {this.state.classifiers.map((option) => (this.renderClassifierOption(option.editor)))}\n                                        </div>\n                                    </div>\n                                    <div className=\"download-step-container\">\n                                    <div className=\"download-step-heading\">\n                                        <div className=\"step-icon\">3</div>\n                                        <p className=\"download-step-text\">Choose number (optional)</p>\n                                    </div>\n                                    <p className=\"download-step-subtext\">Enter in the number of images to include.</p>\n                                    <div className=\"class-options\">\n                                        <form>\n                                        <input \n                                            type=\"number\" \n                                            id=\"number\" \n                                            name=\"number\" \n                                            min=\"1\"\n                                            onChange={this.onChange}\n                                            value={this.state.optionalChoices.number}\n                                        />\n                                        </form>\n                                        <div className=\"filter-choice download-option\" id={'all-cont'}>\n                                            <p className=\"filter-choice-text\" id={'all-text'} onClick={() => this.handleAllClick()}>All</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"download-button\" onClick={() => this.download()}>Download</div>\n                                <div style={{display: 'none'}}>\n                                    <iframe title=\"Download Images\" id=\"download-src\" onload={() => this.loadFrame()} />\n                                </div>\n                                <div>{ (this.state.loading) ? this.renderLoader() : <div/> }</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n });\n\nexport default connect(mapStateToProps)(ClassDownload);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport Header from '../layout/Header';\nimport { searchTargets, getBins } from \"../../actions/classify\";\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport '../../css/classify-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass Target extends Component {\n    \n    showMore() {\n        document.getElementById(this.props.target.id + '-info').style.display = 'block';\n        document.getElementById(this.props.target.id + '-preview').style.display = 'none';\n        \n        const initialWidth = Number(this.props.target.height);\n        const idWidth = document.getElementById(this.props.target.id + '-info').style.width;\n        const scale = idWidth / initialWidth;\n        const style = {height: String(Number(this.props.target.height)*0.056*scale)+'vw'}\n        document.getElementById(this.props.target.id + '-image').style = style;\n\n    }\n\n    showLess() {\n        document.getElementById(this.props.target.id + '-info').style.display = 'none';\n        document.getElementById(this.props.target.id + '-preview').style.display = 'flex';\n        const style = String(Number(this.props.target.height)*0.056)+'vw'\n        document.getElementById(this.props.target.id + '-image').style.height = style;\n    }\n    \n    render() {\n        if (this.props.bins !== []) {\n            \n            const desiredBin = (element) => element.id === this.props.target.bin;\n            const binIndex = this.props.bins.findIndex(desiredBin);\n            const bin = this.props.bins[binIndex];\n            const url = 'http://akashiwo.oceandatacenter.ucsc.edu:8000/data/' + bin.file + '_' + bin.ifcb + '_' + this.props.target.number + '.jpg'\n            \n            return(\n                <div className=\"search-result\">\n                    <img src={url} className=\"image searh-result-image\"\n                        alt={this.props.target.class_name}\n                        id={this.props.target.id + '-image'}\n                        style={{height: String(Number(this.props.target.height)*0.056)+'vw'}}>\n                    </img>\n                    <div className='id' id={this.props.target.id + '-preview'}>\n                        <div className='search-result-plus' id={this.props.target.id + '-plus'} onClick={() => this.showMore()}><p className=\"plus\">+</p></div>\n                    </div>\n                    <div className='id description' style={{display: 'none'}} id={this.props.target.id + '-info'}>\n                        <div className='search-result-plus exit' onClick={() => this.showLess()}>\n                            <p className=\"plus x\">X</p>\n                        </div>\n                        <p className=\"description-heading\">{this.props.target.class_name}</p>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'File: '}</p>\n                            <p>{bin.file}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Time Series: '}</p>\n                            <p>{bin.timeseries}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'IFCB: '}</p>\n                            <p>{bin.ifcb}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Target: '}</p>\n                            <p>{this.props.target.number}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Classifer: '}</p>\n                            <p>{this.props.target.editor}</p>\n                        </div>\n                        <div style={{display: 'flex'}}>\n                            <p className=\"description-label\">{'Date: '}</p>\n                            <p>{this.props.target.date}</p>\n                        </div>\n                        <div className='search-redirect-button' onClick={() => this.props.redirectToFile(bin.timeseries, bin.file, this.props.target.number)}>Go to File</div>\n                    </div>\n                </div>\n            );\n        }\n        else {\n            return <div/>\n        }\n    }\n}\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            targets: [[]],\n            bins: [[]],\n            basicSearch: '',\n            loading: false,\n            renderable: false,\n            redirectInfo: ''\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        searchTargets: PropTypes.func,\n        targetSearchResults: PropTypes.array,\n        binsSearchResults: PropTypes.array,\n    }\n\n    onChange = e => this.setState({ basicSearch: e.target.value })\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.setState({ renderable: false });\n        document.getElementById(\"no-results\").style.display = 'none';\n        this.props.searchTargets(this.state.basicSearch);\n        this.setState({ \n            targets: this.props.targetSearchResults\n        });\n        if (this.props.targetSearchResults === [[]]) {\n            document.getElementById(\"no-results\").style.display = 'flex';\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.targetSearchResults !== this.props.targetSearchResults) {\n            var targets;\n            if (this.props.targetSearchResults[0].length !== undefined) {\n                targets = this.props.targetSearchResults[0];\n            } else {\n                targets = this.props.targetSearchResults;\n            }\n            this.props.getBins(targets.map(target => target.bin));\n        }\n\n        if (prevProps.binsSearchResults !== this.props.binsSearchResults) {\n            this.setState({\n                renderable: true,\n            });\n        }\n    }\n\n    redirectToFile(timeseries, file, target) {\n        this.setState({ redirectInfo: {timeseries: timeseries, file: file, target: target} });\n    }\n\n    renderTarget(target) {\n        return( \n            <Target\n                target={target}\n                bins={this.props.binsSearchResults[0]}\n                key={target.id}\n                redirectToFile={(timeseries, file, target) => this.redirectToFile(timeseries, file, target)}\n            />\n        );\n    }\n\n    renderLoader() {\n        return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\"></img>\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect push to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis\" />\n        }\n\n        if(this.state.redirectInfo !== '') {\n            const timeseries = this.state.redirectInfo.timeseries;\n            const file = this.state.redirectInfo.file;\n            const target = this.state.redirectInfo.target;\n            return <Redirect push to={\"/classify/\" + timeseries + \"/\" + file + \"/\" + target} />\n        }\n\n        var targets;\n        var resultsDisplay;\n        ((typeof this.props.targetSearchResults[0].length !== \"undefined\")) \n           ? (targets = this.props.targetSearchResults[0]) : (targets = this.props.targetSearchResults);\n        (targets.length === 0) ? (resultsDisplay = {display: 'flex'}) : (resultsDisplay = {display: 'none'})\n        \n           return(\n            <div>\n                <Header />\n                <title>IFCB | Search</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading\">Search</h2>\n                            <div>\n                                <form className=\"search-form\" id=\"search-form\" onSubmit={this.onSubmit}>\n                                    <div className=\"search-bar\">\n                                        <div className=\"search-icon\"></div>\n                                        <input\n                                            type=\"text\"\n                                            className=\"search-input\"\n                                            name=\"basicSearch\"\n                                            onChange={this.onChange}\n                                            value={this.state.basicSearch}\n                                        />\n                                    </div>\n                                </form>\n                            </div>\n                            <div>\n                                <p className=\"no-results\" id=\"no-results\" style={resultsDisplay}>No results</p>\n                                <div className=\"image-grid\">\n                                    {\n                                    (this.state.loading) ? this.renderLoader() :\n                                    (this.state.renderable) ? (targets.map((target) => this.renderTarget(target))) : (<div/>)\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    targetSearchResults: state.classify.targetSearchResults,\n    binsSearchResults: state.classify.binsSearchResults,\n });\n\nexport default connect(mapStateToProps, { searchTargets, getBins })(Search);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Header from '../layout/Header';\nimport { Grid, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { goto_communityfile } from \"../../actions/menu\";\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport '../../css/classify-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\n\nclass CommunityFilePreview extends Component {\n    getDate(file) {\n        const timestamp = file.slice(1,5) + '-' + file.slice(5,7) + '-' + file.slice(7,12) + ':' + \n            file.slice(12,14) + ':' + file.slice(14,16);\n        const date = new Date(timestamp);\n        const dateString = date.toDateString().slice(4,10) + ',' + date.toDateString().slice(10,);\n        \n        return dateString\n    }\n\n    handleDownload() {\n        document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/public/mat/' + this.props.ifcb + '/' + this.props.file + '/' + this.props.classifier + '/'\n    }\n\n    render() {\n        var appearance = ''\n        if(this.props.categorized) {\n            appearance = 'community-file-preview-categorized';\n        } else if(this.props.identified) {\n            appearance = 'community-file-preview-identified';\n        }\n        return (\n            <div className={\"community-file-preview-container \" + appearance}>\n                <div>\n                    <p className=\"community-file-date\">{this.getDate(this.props.file)}</p>\n                    <p className=\"community-file-file\">{this.props.file}</p>\n                    <p className=\"community-file-classifier\">{this.props.classifier}</p>\n                </div>\n                <div className=\"community-file-preview-buttons\">\n                    <div className=\"round-button download community-download\" onClick={() => this.handleDownload()}>\n                        <div style={{display: 'none'}}>\n                        <iframe id=\"download-src\" />\n                        </div>\n                    </div>\n                    <div className=\"round-button right-arrow community-download\" onClick={() => this.props.onClick(this.props.timeseries, this.props.file, this.props.classifier)}></div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass CommunityReview extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            files: [],\n            selectedTimeseries: '',\n            selectedFile: '',\n            selectedUser: '',\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        onCommunityFile: PropTypes.bool,\n        goto_communityfile: PropTypes.func,\n    }\n\n    componentDidMount() {\n        axios\n            .get('/communityfiles/')\n            .then((res) => {\n                this.setState({ files: res.data.reverse() })\n            })\n            .catch((err) => console.log(err));\n    }\n\n    handleFileClick(timeseries, file, user) {\n        this.setState({ \n            selectedTimeseries: timeseries,\n            selectedFile: file,\n            selectedUser: user\n         });\n         this.props.goto_communityfile();\n    }\n\n    renderLegend() {\n        return(\n            <div className='community-review-legend'>\n                <div className='legend-entry'>\n                    <div className='legend-bubble identified-bubble' />\n                    <p className='legend-text'>Identification Complete</p>\n                </div>\n                <div className='legend-entry'>\n                    <div className='legend-bubble categorized-bubble' />\n                    <p className='legend-text'>Categorization Complete</p>\n                </div>\n                <div className='legend-entry'>\n                    <div className='legend-bubble incomplete-bubble' />\n                    <p className='legend-text'>Incomplete</p>\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect push to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis\" />\n        }\n\n        if(this.props.onCommunityFile) {\n            return <Redirect push to={\"/analysis/communityreview/\" + this.state.selectedTimeseries + \"/\" + this.state.selectedFile + \"/\" + this.state.selectedUser} />\n        }\n\n        const cache = new CellMeasurerCache({\n            defaultHeight: 10,\n            minHeight: 10,\n            fixedWidth: true\n          });\n\n        const files = this.state.files;\n\n        const cellRenderer = ({columnIndex, key, rowIndex, parent, style}) => ( \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={rowIndex}\n                columnIndex={columnIndex}\n            >\n            {({ measure, registerChild }) => (\n            \n                <div ref={registerChild} key={key} style={style}>\n                    <div onLoad={measure}>\n                        {files[(rowIndex*4)+columnIndex] ?\n                            <CommunityFilePreview\n                                timeseries={files[(rowIndex*4)+columnIndex].bin.timeseries}\n                                file={files[(rowIndex*4)+columnIndex].bin.file}\n                                ifcb={files[(rowIndex*4)+columnIndex].bin.ifcb}\n                                classifier={files[(rowIndex*4)+columnIndex].classifier}\n                                categorized={files[(rowIndex*4)+columnIndex].bin.categorized}\n                                identified={files[(rowIndex*4)+columnIndex].bin.identified}\n                                onClick={() => this.handleFileClick(files[(rowIndex*4)+columnIndex].bin.timeseries, files[(rowIndex*4)+columnIndex].bin.file, files[(rowIndex*4)+columnIndex].classifier)}\n                            /> : \n                            <div/> }\n                        </div>\n                </div>\n            )}\n            </CellMeasurer>\n        )\n        \n           return(\n            <div>\n                <Header />\n                <title>IFCB | Community Review</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading community-review-heading\">Community Review</h2>\n                            {this.renderLegend()}\n                            <div>\n                                {this.state.files.length > 1 ?\n                                    <Grid\n                                        width={document.documentElement.clientWidth*0.8}\n                                        height={800}\n                                        columnWidth={document.documentElement.clientWidth*0.8/4}\n                                        rowHeight={document.documentElement.clientWidth*0.11}\n                                        rowCount={Math.floor(this.state.files.length/4)+1}\n                                        columnCount={4}\n                                        cellRenderer={cellRenderer}\n                                        scrollToAlignment=\"start\"\n                                        className=\"community-review-grid\"\n                                    /> :\n                                    <div/>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    onCommunityFile: state.menu.onCommunityFile,\n });\n\nexport default connect(mapStateToProps, { goto_communityfile })(CommunityReview);","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Header from '../layout/Header';\nimport Plankton from '../annotations/Plankton';\nimport '../../css/datepicker.css';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport { List, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { goto_communityreview } from \"../../actions/menu\";\n\nimport '../../css/classify-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\nclass CommunityFilePreview extends Component {\n    getDate(file) {\n        const timestamp = file.slice(1,5) + '-' + file.slice(5,7) + '-' + file.slice(7,12) + ':' + \n            file.slice(12,14) + ':' + file.slice(14,16);\n        const date = new Date(timestamp);\n        const dateString = date.toDateString().slice(4,10) + ',' + date.toDateString().slice(10,);\n        \n        return dateString\n    }\n\n    handleDownload() {\n        document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/mat/' + this.props.ifcb + '/' + this.props.file + '/'\n    }\n\n    render() {\n        var appearance = ''\n        var status = 'This file is incomplete.'\n        if(this.props.categorized) {\n            appearance = 'community-file-preview-categorized';\n            status = 'This file is fully categorized, but not fully identified.';\n        } else if(this.props.identified) {\n            appearance = 'community-file-preview-identified';\n            status = 'This file is fully categorized and identified.';\n        }\n        return (\n            <div className=\"community-file-info-container\">\n                <div className={\"community-file-preview-container community-file-info \" + appearance}>\n                    <div>\n                        <p className=\"community-file-date community-file-heading\">{this.getDate(this.props.file)}</p>\n                        <p className=\"community-file-file\">{this.props.file}</p>\n                        <p className=\"community-file-classifier\">{this.props.classifier}</p>\n                    </div>\n                    <div className=\"community-file-preview-buttons\">\n                        <div className=\"round-button download community-download\" onClick={() => this.handleDownload()}>\n                            <div style={{display: 'none'}}>\n                            <iframe id=\"download-src\" />\n                            </div>\n                        </div>\n                        <div className=\"round-button right-arrow community-download flip-right-arrow\" onClick={() => this.props.onClick()}></div>\n                    </div>\n                </div>\n                <div className=\"community-file-status-container\">\n                    <p className={\"community-file-status \" + appearance + '-text'}>{status}</p>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass CommunityFile extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          newFile: '',\n          newTimeSeries: '',\n          planktonClickEnabled: true,\n          infoShowing: [],\n          bin: {timeseries:'', ifcb:'', year:'', day:'', file:''},\n          user: '',\n          targets: [],\n          targetNumbers: [],\n          rows: [],\n          scrollToIndex: undefined,\n          jumpEntry: '',\n          jumpSubmit: '',\n          initialTargetJump: '',\n          lastEditBin: '',\n          lastEditTarget: '',\n          lastScroll: 0,\n          categorized: false,\n          identified: false,\n      }\n  }\n\n  static propTypes = {\n    preferences: PropTypes.object,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    changeScale: PropTypes.func,\n    save: PropTypes.func.isRequired,\n    isSaving: PropTypes.bool,\n    sync: PropTypes.func.isRequired,\n    isSyncing: PropTypes.bool,\n    user: PropTypes.object,\n    scaleEntry: PropTypes.number,\n    onNotebook: PropTypes.bool,\n    onAnalysis: PropTypes.bool,\n    goto_communityreview: PropTypes.func,\n  };\n\n  getNewTimeSeries(option) {\n    this.setState({ loading: true });\n\n    var k = this.state.timeSeriesOptions.findIndex(timeseries => timeseries === option);\n    const timeseries = this.state.timeSeriesNames[k];\n\n    axios\n        .get('/process/public/timeseries/' + timeseries + '/')\n        .then((res) => { this.setState({ \n            newTimeSeries: timeseries,\n            newFile: res.data.bin.file\n        }) })\n        .catch((err) => console.log(err));\n  }\n  \n\n  componentDidMount() {\n    const urlInfo = this.props.location.pathname.split('/')\n    const timeseries = urlInfo[3];\n    const file = urlInfo[4];\n    const user = urlInfo[5];\n    this.setState({ loading: true, user: user });\n\n    if (file !== undefined) {\n        axios\n            .get('/process/public/file/' + timeseries + '/' + file + '/' + user + '/')\n            .then((res) => {\n                this.setState({ \n                    bin: res.data.bin, \n                    yearOptions: res.data.options.year_options.reverse(),\n                    dayOptions: res.data.options.day_options[1],\n                    dateOptions: res.data.options.filled_days.map((date) => (new Date(date))),\n                    fileOptions: res.data.options.file_options,\n                    filledDays: res.data.options.filled_days,\n                    dayOption: res.data.bin.day,\n                })\n                axios\n                    .get('/process/public/targets/' + timeseries + '/' + file + '/' + user + '/')\n                    .then((targetResponse) => {\n                        this.setState({ \n                            targets: targetResponse.data,\n                            targetNumbers: targetResponse.data.map(t => t.number),\n                            loading: false,\n                        });\n                        axios\n                            .get('/process/rows/community/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + user + '/')\n                            .then((rowResponse) => {\n                                this.setState({ \n                                    rows: rowResponse.data.options.rows,\n                                });\n                            });\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({ bin: {timeseries:'', ifcb:'', year:'', day:'', file:'Not Found'} });\n                return;\n            });\n        axios\n            .get('/complete/public/status/' + timeseries + '/' + file + '/' + user + '/')\n            .then((completionStatusResponse) => {\n                this.setState({\n                    categorized: completionStatusResponse.data.options.categorized,\n                    identified: completionStatusResponse.data.options.identified,\n                });\n            })\n    }\n\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.url !== prevProps.match.url) {\n        this.props.history.go(0);\n    }\n  }\n\n  disablePlanktonClick(targetNum, bool, infoShowing) {\n    const infoClassList = document.getElementById(targetNum + '-info').classList;\n    if ((infoShowing) || (infoClassList.contains('show-info'))) {\n        if (!this.state.infoShowing.includes(targetNum)) {\n            this.setState({ infoShowing: this.state.infoShowing.concat([targetNum]) });\n        }\n        this.setState({ planktonClickEnabled: false });\n    } else {\n        const newInfoShowing = this.state.infoShowing.filter(function(item) {\n            return item !== targetNum\n        })\n        this.setState({ planktonClickEnabled: bool, infoShowing: newInfoShowing });\n    }\n  }\n\n  renderLoader() {\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\" style={{'margin':'0 0 3vw 0'}}></img>\n  }\n\n  returnToClassify() {\n    this.setState({ newFile: 'blank' });\n  }\n\n  renderNotFound() {\n      return(\n        <div className='main'>\n            <div className=\"page\">\n                <div className=\"content\">\n                    <div className=\"inner-content\">\n                        <h1>File Not Found</h1>\n                        <p className=\"not-found-message\">The IFCB file you're looking for doesn't exist. There may be a typo in the time series, file number, or sort code in the URL.</p>\n                        <div className=\"return-button\" onClick={() => this.returnToClassify()}>Return to Classify</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n  }\n\n  renderPage() {\n    const cache = new CellMeasurerCache({\n        defaultHeight: 10,\n        minHeight: 10,\n        fixedWidth: true\n      });\n\n    const scrollToIndex = this.state.scrollToIndex;\n\n    const selectedDate = (this.state.bin.day === '') ? new Date() : new Date(this.state.bin.day + '-' + this.state.bin.year);\n\n    const rowRenderer = ({index, key, parent, style}) => (\n        \n        (this.state.targets.length < 1) ? <div/> : \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={index}\n            >\n            {({ measure, registerChild }) => (\n            <div ref={registerChild} key={key} style={style}>\n                <div onLoad={measure} className=\"row\">\n                    <div className=\"image-row\">\n                        {this.state.rows[index].map((i) => \n                            <Plankton \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                timestamp={this.state.bin.file}\n                                id={i}\n                                targetNum={this.state.targets[i].number}\n                                class_name={this.state.targets[i].class_name}\n                                class_abbr={this.state.targets[i].class_abbr}\n                                height={this.state.targets[i].height}\n                                width={this.state.targets[i].width}\n                                scale={this.props.scaleEntry / 10}\n                                ifcb={this.state.bin.ifcb}\n                                editor={'jamiewalton'}\n                                date={this.state.targets[i].date}\n                                onClick={() => console.log()}\n                                onCheck={() => console.log()}\n                                infoChange={(targetNum, bool, infoShowing) => this.disablePlanktonClick(targetNum, bool, infoShowing)}\n                                infoShowing={this.state.infoShowing}\n                                public={false}\n                                categorizeMode={false}\n                                noteOption={false}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n            )}\n            </CellMeasurer>\n        )\n      return(\n        \n        <div className='main'>\n            <div className=\"page\">\n            <div className=\"content\">\n                    <div className=\"inner-content\">\n                    <div className=\"notebook-heading\">\n                        <h1 className=\"notebook-header\">Analysis</h1>\n                    </div>\n                    <h2 className=\"analysis-option-heading page-heading community-review-heading\">Community Review</h2>\n                        {this.state.bin.file ? \n                            <CommunityFilePreview \n                                timeseries={this.state.bin.timeseries}\n                                file={this.state.bin.file}\n                                ifcb={this.state.bin.ifcb}\n                                classifier={this.state.user}\n                                categorized={this.state.categorized}\n                                identified={this.state.identified}\n                                onClick={() => this.props.goto_communityreview()}\n                            /> : <div/>}\n                        <div className=\"annotations\">\n                            <div>\n                                <div className=\"image-grid remove-top-margin\" id=\"image-grid\">\n                                    {\n                                    (this.state.loading || this.props.isSaving) ? this.renderLoader() : console.log()\n                                    }\n                                    {\n                                    (this.state.emptyCategories && this.state.categorizeMode) ? <p className=\"empty-categories-text\">Nothing to categorize! Switch over to Identify mode to start classifying.</p> :\n                                        <List\n                                            height={800} // fix later\n                                            rowCount={this.state.rows.length}\n                                            rowHeight={cache.rowHeight}\n                                            rowRenderer={rowRenderer}\n                                            scrollToAlignment=\"start\"\n                                            scrollToIndex={scrollToIndex}\n                                            width={document.documentElement.clientWidth*0.72}\n                                        />\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n      );\n  }\n\n  render() {\n\n    if(this.props.onHome) {\n        return <Redirect push to=\"/\" />\n    }\n\n    if(this.props.onLearn) {\n        return <Redirect push to=\"/learn\" />\n    }\n    \n    if(this.props.onNotebook) {\n        return <Redirect push to=\"/notebook/\" />\n    }\n\n    if(this.props.onAnalysis) {\n        return <Redirect push to=\"/analysis/\" />\n    }\n\n    if(this.props.onCommunityReview) {\n        return <Redirect push to=\"/analysis/communityreview/\" />\n    }\n\n    if(this.state.newFile.length !== 0) {\n        if (this.state.newFile === 'blank') {\n            return <Redirect push to='/classify' />\n        }\n        const newURL = '/classify/' + this.state.newTimeSeries + '/' + this.state.newFile;\n        return <Redirect push to={newURL} />\n    }\n\n    if (this.state.rows !== [] && this.state.initialTargetJump === '' && !this.state.loading) {\n        const urlInfo = this.props.location.pathname.split('/');\n        if (urlInfo.length > 4) {\n            const targetNum = urlInfo[4];\n            var k = this.state.targets.findIndex(target => target.number === targetNum);\n            var scrollToIndex = this.state.rows.findIndex(row => row.includes(k));\n\n            if (isNaN(scrollToIndex) || scrollToIndex<0) {\n                scrollToIndex = undefined;\n            }\n\n            this.setState({\n                jumpEntry: targetNum,\n                jumpSubmit: targetNum,\n                initialTargetJump: targetNum,\n                scrollToIndex: scrollToIndex\n            });\n        }\n    }\n\n    return(\n        <div className='body'>\n        <title>{'IFCB | ' + this.state.bin.file}</title>\n        <Header />\n        {(this.state.bin.file === 'Not Found') ? this.renderNotFound() : this.renderPage()}\n        \n        <script>{document.addEventListener(\"scroll\", this.flipBackToTop)}</script>\n    </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => ({\n    preferences: state.auth.preferences,\n    isSaving: state.classify.isSaving,\n    user: state.auth.user,\n    scaleEntry: state.classify.scaleEntry,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onNotebook: state.menu.onNotebook,\n    onAnalysis: state.menu.onAnalysis,\n    onCommunityReview: state.menu.onCommunityReview,\n });\n\nexport default connect(mapStateToProps, {goto_communityreview })(CommunityFile);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Header from '../layout/Header';\nimport { Grid, CellMeasurer, CellMeasurerCache } from 'react-virtualized';\nimport { goto_communityfile } from \"../../actions/menu\";\nimport '../../css/analysis-styles.css';\nimport '../../css/notebook-styles.css';\nimport '../../css/classify-styles.css';\nimport loader from \"../annotations/loader.GIF\";\n\n\nclass LabFilePreview extends Component {\n    getDate(file) {\n        const timestamp = file.slice(1,5) + '-' + file.slice(5,7) + '-' + file.slice(7,12) + ':' + \n            file.slice(12,14) + ':' + file.slice(14,16);\n        const date = new Date(timestamp);\n        const dateString = date.toDateString().slice(4,10) + ',' + date.toDateString().slice(10,);\n        \n        return dateString\n    }\n\n    handleDownload() {\n        document.getElementById('download-src').src = 'http://odontella.oceandatacenter.ucsc.edu:8000/mat/' + this.props.ifcb + '/' + this.props.file + '/'\n    }\n\n    render() {\n        var appearance = ''\n        if(this.props.complete) {\n            appearance = 'community-file-preview-categorized';\n        }\n\n        return (\n            <div className={\"community-file-preview-container \" + appearance}>\n                <div>\n                    <p className=\"community-file-date\">{this.getDate(this.props.file)}</p>\n                    <p className=\"community-file-file\">{this.props.file}</p>\n                    <p className=\"community-file-classifier\">{this.props.classifier !== null ? 'Completed by ' + this.props.classifier : ''}</p>\n                </div>\n                <div className=\"community-file-preview-buttons\">\n                    <div className=\"round-button download community-download\" onClick={() => this.handleDownload()}>\n                        <div style={{display: 'none'}}>\n                        <iframe id=\"download-src\" />\n                        </div>\n                    </div>\n                    <div className=\"round-button right-arrow community-download\" onClick={() => this.props.onClick(this.props.timeseries, this.props.file)}></div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Filter extends Component {\n    renderOption(option) {\n        return(\n            <div className=\"filter-option\" onClick={() => this.props.applyFilter(this.props.filter, option)}>{option}</div>\n        );\n    }\n    \n    render() {\n        return(\n            <div>\n                <div className=\"filter-choice\" onClick={() => this.props.onClick(this.props.filter)}>\n                    <p className=\"filter-choice-text\">{this.props.filter}</p>\n                    <p className=\"filter-choice-plus\" id={this.props.filter + \"-plus\"}>+</p>\n                </div>\n                <div className=\"filter-dropdown\" id={this.props.filter + \"-dropdown\"}>\n                    {this.props.options.map((option) => (this.renderOption(option)))}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass LabReview extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            originalFiles: [],\n            files: [],\n            selectedTimeseries: '',\n            selectedFile: '',\n            users: [],\n            days: [],\n            timeseries: [],\n            ifcbs: [],\n            statuses: ['Complete', 'Incomplete'],\n            appliedFilters: [],\n            rowCount: 0,\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.object,\n        onClassify: PropTypes.bool,\n        onNotebook: PropTypes.bool,\n        onAnalysis: PropTypes.bool,\n        onCommunityFile: PropTypes.bool,\n        goto_communityfile: PropTypes.func,\n    }\n\n    getDate(file) {\n        const timestamp = file.slice(1,5) + '-' + file.slice(5,7) + '-' + file.slice(7,12) + ':' + \n            file.slice(12,14) + ':' + file.slice(14,16);\n        const date = new Date(timestamp);\n        const dateString = date.toDateString().slice(4,10) + ',' + date.toDateString().slice(10,);\n        \n        return dateString\n    }\n\n    filterFiles() {\n        var files = [];\n        for (let filter of this.state.appliedFilters) {\n            switch(filter.category) {\n                case 'user':\n                    files = files.concat(this.state.originalFiles.filter(f => f.completion_marker === filter.choice))\n                    break\n                case 'day':\n                    var date = new Date(filter.choice)\n                    var day = date.toISOString().slice(5,10)\n                    var year = date.toISOString().slice(0,4)\n                    files = files.concat(this.state.originalFiles.filter(f => f.day === day).filter(f => f.year === year))\n                    break\n                case 'timeseries':\n                    files = files.concat(this.state.originalFiles.filter(f => f.timeseries === filter.choice))\n                    break\n                case 'ifcb':\n                    files = files.concat(this.state.originalFiles.filter(f => f.ifcb === filter.choice))\n                    break\n                case 'status':\n                    var status = (filter.choice === 'Complete') ? true : false\n                    files = files.concat(this.state.originalFiles.filter(f => f.complete === status))\n                    break\n                default:\n                    break\n            }\n        }\n        files = [... new Set(files)]\n        files = files.sort((a, b) => (a.file < b.file) ? 1 : -1);\n        this.setState({ files: files });\n    }\n\n    componentDidMount() {\n        axios\n            .get('/bins/')\n            .then((res) => {\n                const files = res.data.sort((a, b) => (a.file < b.file) ? 1 : -1);\n                this.setState({ \n                    files: files,\n                    originalFiles: files,\n                    users: [...new Set(files.map(f => f.completion_marker))].filter(n => n!==null),\n                    days: [...new Set(files.sort().map(f => this.getDate(f.file)))],\n                    timeseries: [...new Set(files.map(f => f.timeseries))],\n                    ifcbs: [...new Set(files.map(f => f.ifcb))],\n                    rowCount: Math.floor(files.length/4)+1,\n                })\n\n            })\n            .catch((err) => console.log(err));\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(this.state.appliedFilters !== prevState.appliedFilters) {\n            this.filterFiles();\n        }\n    }\n\n    handleFileClick(timeseries, file) {\n        this.setState({ \n            selectedTimeseries: timeseries,\n            selectedFile: file,\n        });\n    }\n\n    renderLegend() {\n        return(\n            <div className='community-review-legend'>\n                <div className='legend-entry'>\n                    <div className='legend-bubble categorized-bubble' />\n                    <p className='legend-text'>Complete</p>\n                </div>\n                <div className='legend-entry'>\n                    <div className='legend-bubble incomplete-bubble' />\n                    <p className='legend-text'>Incomplete</p>\n                </div>\n            </div>\n        );\n    }\n\n    handleFilterChoiceClick(option) {\n        document.getElementById(option + '-plus').classList.toggle('rotate-plus');\n        document.getElementById(option + '-dropdown').classList.toggle('show-filter-dropdown');\n    }\n\n    handleApplyFilter(category, choice) {\n        var appliedFilters = this.state.appliedFilters;\n        if(!appliedFilters.includes({category: category, choice: choice})) {\n            appliedFilters.push({category: category, choice: choice});\n        }\n        this.setState({ appliedFilters: appliedFilters });\n    }\n\n    handleRemoveFilter(filter) {\n        const applied = this.state.appliedFilters;\n        const index = applied.findIndex(entry => entry === filter);\n        const newAppliedFilters = applied.slice(0, index).concat(applied.slice(index+1,applied.length));\n        this.setState({ appliedFilters: newAppliedFilters });\n    }\n\n    renderFilterChoice(filter, options) {\n        return(\n            <Filter\n                filter={filter}\n                options={options}\n                onClick={(option) => this.handleFilterChoiceClick(option)}\n                applyFilter={(category, choice) => this.handleApplyFilter(category, choice)}\n            />\n        );\n    }\n\n    renderAppliedFilters(filter) {\n        return (\n            <div className=\"filter-choice applied\" onClick={() => this.handleRemoveFilter(filter)}>\n                <p className=\"filter-choice-text applied-text\">{filter.category.toUpperCase() + ': ' + filter.choice}</p>\n                <p className=\"filter-choice-plus applied-text rotate-plus\" id={this.props.filter + \"-plus\"}>+</p>\n            </div>\n        );\n    }\n\n    render() {\n        if(this.props.onClassify) {\n            return <Redirect push to=\"/classify\" />\n        }\n\n        if(this.props.onHome) {\n            return <Redirect push to=\"/\" />\n        }\n    \n        if(this.props.onLearn) {\n            return <Redirect push to=\"/learn\" />\n        }\n\n        if(this.props.onNotebook) {\n            return <Redirect push to=\"/notebook/\" />\n        }\n\n        if(this.props.onAnalysis) {\n            return <Redirect push to=\"/analysis\" />\n        }\n\n        if(this.props.onCommunityFile) {\n            return <Redirect push to={\"/analysis/communityreview/\" + this.state.selectedTimeseries + \"/\" + this.state.selectedFile + \"/\" + this.state.selectedUser} />\n        }\n\n        if(this.state.selectedTimeseries !== '') {\n            return <Redirect push to={\"/classify/\" + this.state.selectedTimeseries + '/' + this.state.selectedFile + '/'} />\n        }\n\n        const cache = new CellMeasurerCache({\n            defaultHeight: 10,\n            minHeight: 10,\n            fixedWidth: true\n          });\n\n        const files = this.state.files;\n\n        const cellRenderer = ({columnIndex, key, rowIndex, parent, style}) => ( \n\n            <CellMeasurer\n                cache={cache}\n                key={key}\n                parent={parent}\n                rowIndex={rowIndex}\n                columnIndex={columnIndex}\n            >\n            {({ measure, registerChild }) => (\n            \n                <div ref={registerChild} key={key} style={style}>\n                    <div onLoad={measure}>\n                        {files[(rowIndex*4)+columnIndex] ?\n                            <LabFilePreview\n                                timeseries={files[(rowIndex*4)+columnIndex].timeseries}\n                                file={files[(rowIndex*4)+columnIndex].file}\n                                ifcb={files[(rowIndex*4)+columnIndex].ifcb}\n                                classifier={files[(rowIndex*4)+columnIndex].completion_marker}\n                                complete={files[(rowIndex*4)+columnIndex].complete}\n                                onClick={() => this.handleFileClick(files[(rowIndex*4)+columnIndex].timeseries, files[(rowIndex*4)+columnIndex].file)}\n                            /> : \n                            <div/> }\n                        </div>\n                </div>\n            )}\n            </CellMeasurer>\n        )\n        \n           return(\n            <div>\n                <Header />\n                <title>IFCB | Lab Review</title>\n                <div className='main'>\n                    <div className=\"page\">\n                        <div>\n                            <div className=\"notebook-heading\">\n                                <h1 className=\"notebook-header\">Analysis</h1>\n                            </div>\n                            <h2 className=\"analysis-option-heading page-heading community-review-heading\">Lab Review</h2>\n                            {this.renderLegend()}\n                            <div className=\"applied-filters applied-filter-labreview\">{this.state.appliedFilters.map((filter) => (this.renderAppliedFilters(filter)))}</div>\n                            <div className=\"filter-buttons filter-buttons-labreview\">\n                                {this.renderFilterChoice('user', this.state.users)}\n                                {this.renderFilterChoice('day', this.state.days)}\n                                {this.renderFilterChoice('timeseries', this.state.timeseries)}\n                                {this.renderFilterChoice('ifcb', this.state.ifcbs)}\n                                {this.renderFilterChoice('status', this.state.statuses)}\n                            </div>\n                            <div>\n                                {this.state.files.length > 0 ?\n                                    <Grid\n                                        width={document.documentElement.clientWidth*0.8}\n                                        height={800}\n                                        columnWidth={document.documentElement.clientWidth*0.8/4}\n                                        rowHeight={document.documentElement.clientWidth*0.11}\n                                        rowCount={this.state.rowCount}\n                                        columnCount={4}\n                                        cellRenderer={cellRenderer}\n                                        scrollToAlignment=\"start\"\n                                        className=\"community-review-grid\"\n                                        files={this.state.files}\n                                    /> :\n                                    <div/>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => ({\n    user: state.auth.user,\n    onHome: state.menu.onHome,\n    onLearn: state.menu.onLearn,\n    onClassify: state.menu.onClassify,\n    onNotebook: state.menu.onClassify,\n    onAnalysis: state.menu.onAnalysis,\n    onCommunityFile: state.menu.onCommunityFile,\n });\n\nexport default connect(mapStateToProps, { goto_communityfile })(LabReview);","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\nimport { login } from \"../../actions/auth\";\nimport { goto_home } from \"../../actions/menu\";\n\nimport '../../css/auth-styles.css';\n\n\nexport class Login extends Component {\n    state = {\n        username: '',\n        password: '',\n        attempted: false,\n    }\n\n    static propTypes = {\n        login: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        loginFailed: PropTypes.bool,\n        location: PropTypes.string,\n        goto_home: PropTypes.func,\n        onLogin: PropTypes.bool,\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.props.login(this.state.username, this.state.password);\n        this.setState({ attempted: true });\n    }\n\n    onChange = e => this.setState({ \n        [e.target.name]: e.target.value,\n        attempted: false\n    })\n\n    render() {\n        if(document.getElementById('error')) {\n            const error = document.getElementById('error').classList;\n            if(this.props.isAuthenticated) {\n                if(this.props.onLogin) {\n                    return <Redirect push to={'/classify'} />\n                }\n                return <Redirect push to={this.props.location} />\n            } else if(this.props.loginFailed && this.state.attempted) {\n                if (!error.contains('show')) {\n                    error.add('show');\n                }\n            } else {\n                if (error.contains('show')) {\n                    error.remove('show');\n                }\n            }\n        }\n\n        if(this.props.onHome) {\n            return <Redirect to=\"/\" />\n        }\n        \n        const { username, password } = this.state;\n        return (\n            <div className='body'>\n                <title>IFCB | Login</title>\n                <main className=\"login-main\">\n                <div className=\"header\">\n                    <button  \n                        onClick={this.props.goto_home}\n                        className=\"h3\">\n                            IFCB Classification\n                    </button>\n                    <ul className=\"navbar\">\n                        <li className=\"nav-item\">\n                            <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"main-container\">\n                    <div className=\"sub-container\">\n                    <h2>Welcome back.</h2>\n                    <p className='auth-text'>Sign in to start classifying.</p>\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            onChange={this.onChange}\n                            value={username}\n                        />\n                        <label>Username</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.onChange}\n                            value={password}\n                        />\n                        <label>Password</label>\n                        </div>\n                        <div className=\"form-group\">\n                        <p className=\"error-message\" id=\"error\">Incorrect username or password.</p>\n                        <button type=\"submit\" className=\"login-submit\">\n                            Login\n                        </button>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n   isAuthenticated: state.auth.isAuthenticated,\n   loginFailed: state.auth.loginFailed,\n   location: state.auth.location,\n   onHome: state.menu.onHome,\n   onLogin: state.menu.onLogin,\n});\n\nexport default connect(mapStateToProps, { login, goto_home })(Login);","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\nimport { register } from \"../../actions/auth\";\nimport { goto_home } from \"../../actions/menu\";\n\nexport class Register extends Component {\n    state = {\n        groups: '',\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n        labcode: '',\n        correctLabCode: '',\n        attempted: false,\n        errorMessage: '',\n    }\n\n    static propTypes = {\n        register: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        goto_home: PropTypes.func,\n        registerFailed: PropTypes.bool,\n        onRegister: PropTypes.bool,\n    };\n\n    componentDidMount() {\n        axios\n            .get('/labcode/')\n            .then((res) => this.setState({ correctLabCode: res.data.code }))\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.setState({ attempted: true });\n        const { groups, username, email, password, password2, labcode } = this.state;\n        if(password !== password2) {\n            this.setState({ errorMessage: 'Passwords do not match.' });\n        } else if(this.state.groups === '') {\n            this.setState({ errorMessage: 'No role selected.' });\n        } else if(this.state.groups === 'Lab User' && labcode!==this.state.correctLabCode) {\n            this.setState({ errorMessage: 'Incorrect lab code.' });\n        } else {\n            const newUser = {\n                groups,\n                username,\n                email,\n                password\n            }\n            this.props.register(newUser);\n        }\n    }\n\n    onChange = e => this.setState({ [e.target.name]: e.target.value, attempted: false })\n\n    handleCommunityRole() {\n        if (this.state.groups === 'Lab User') {\n            const otherButton = document.getElementById('role-scientist-button');\n            otherButton.classList.remove('role-button-clicked');\n            const otherIcon = document.getElementById('scientist');\n            otherIcon.classList.remove('role-scientist-icon-hover');\n        }\n\n        this.setState({ groups: 'Public User' });\n        const icon = document.getElementById('community');\n        const button = document.getElementById('role-community-button');\n        const form = document.getElementById('form');\n        const text = document.getElementById('role-text');\n        const labcode = document.getElementById('labcode');\n        \n        icon.classList.add('role-community-icon-hover');\n        button.classList.toggle('role-button-clicked');\n        form.classList.add('show-form');\n        text.classList.add('hide');\n        labcode.classList.add('hide');\n        if(labcode.classList.contains('show-form')) {\n            labcode.classList.remove('show-form');\n        }\n    }\n\n    handleLabRole() {\n        if (this.state.groups === 'Public User') {\n            const otherButton = document.getElementById('role-community-button');\n            otherButton.classList.remove('role-button-clicked');\n            const otherIcon = document.getElementById('community');\n            otherIcon.classList.remove('role-community-icon-hover');\n        }\n        this.setState({ groups: 'Lab User' });\n        const icon = document.getElementById('scientist');\n        const button = document.getElementById('role-scientist-button');\n        const form = document.getElementById('form');\n        const text = document.getElementById('role-text');\n        const labcode = document.getElementById('labcode');\n        \n        icon.classList.add('role-scientist-icon-hover');\n        button.classList.toggle('role-button-clicked');\n        form.classList.add('show-form');\n        text.classList.add('hide');\n        labcode.classList.add('show-form');\n    }\n\n    handleRoleHover(user) {\n        if (this.state.groups !== 'Public User' && user==='community') {\n            const icon = document.getElementById(user);\n            icon.classList.toggle('role-' + user + '-icon-hover');\n        } else if (this.state.groups !== 'Lab User' && user==='scientist') {\n            const icon = document.getElementById(user);\n            icon.classList.toggle('role-' + user + '-icon-hover');\n        }\n    }\n    \n    render() {\n\n        if(this.props.onHome && !this.props.onRegister) {\n            return <Redirect to=\"/\" />\n        }\n\n        if(document.getElementById('error')) {\n            const error = document.getElementById('error').classList;\n            if(this.props.isAuthenticated) {\n                return <Redirect to=\"/classify\" />;\n            } else if(this.props.registerFailed && this.state.attempted) {\n                if (!error.contains('show')) {\n                    error.add('show');\n                }\n            } else {\n                if (error.contains('show')) {\n                    error.remove('show');\n                }\n            }\n        }\n        \n        const { username, email, password, password2, labcode } = this.state;\n        return (\n            <div className='body'>\n                <title>IFCB | Register</title>\n                <main className=\"register-main\">\n                <div className=\"header\">\n                    <button  \n                        onClick={this.props.goto_home}\n                        className=\"h3\">\n                            IFCB Classification\n                    </button>\n                    <ul className=\"navbar\">\n                        <li className=\"nav-item\">\n                            <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"main-container\">\n                    <div className=\"sub-container\">\n                    <h2>Welcome.</h2>\n                    <p  className='auth-text'>Create an account to start classifying.</p>\n                    <p  className='role-text' id='role-text'>Select your role.</p>\n                    <div style={{display:'flex'}}>\n                        <div className=\"role-button\" id='role-community-button' onMouseEnter={() => this.handleRoleHover('community')} onMouseLeave={() => this.handleRoleHover('community')} onClick={() => this.handleCommunityRole()}>\n                            <div className=\"role-community-icon\" id='community'></div>\n                            Community Member\n                        </div>\n                        <div className=\"role-button extra-margin\" id='role-scientist-button' onMouseEnter={() => this.handleRoleHover('scientist')} onMouseLeave={() => this.handleRoleHover('scientist')} onClick={() => this.handleLabRole()}>\n                            <div className=\"role-scientist-icon\" id='scientist'></div>\n                            Lab Member\n                        </div>\n                    </div>\n                    <form onSubmit={this.onSubmit} className='hide' id='form'>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            onChange={this.onChange}\n                            value={username}\n                            placeholder=\"Username\"\n                        />\n                        \n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"email\"\n                            onChange={this.onChange}\n                            value={email}\n                            placeholder=\"Email\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.onChange}\n                            value={password}\n                            placeholder=\"Password\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password2\"\n                            onChange={this.onChange}\n                            value={password2}\n                            placeholder=\"Confirm Password\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            id=\"labcode\"\n                            className=\"form-control\"\n                            name=\"labcode\"\n                            onChange={this.onChange}\n                            value={labcode}\n                            placeholder=\"Lab Code\"\n                        />\n                        </div>\n                        <div className=\"form-group\">\n                        <p className=\"error-message\" id=\"error\">{this.state.errorMessage}</p>\n                        <button type=\"submit\" className=\"register-submit\">\n                            Create Account\n                        </button>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    onHome: state.menu.onHome,\n    onRegister: state.menu.onRegister,\n    registerFailed: state.auth.registerFailed,\n });\n \n export default connect(mapStateToProps, { register, goto_home })(Register);","export default __webpack_public_path__ + \"static/media/loader.a069fadb.GIF\";","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { saveLocation } from \"../../actions/auth\";\nimport loader from \"./loader.GIF\";\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n    <Route \n        {...rest}\n        render={props => {\n            saveLocation(window.location.pathname);\n            if(auth.isLoading) {\n                return <img src={loader} alt=\"Loading...\" width=\"80\" loop=\"infinite\"></img>\n            } else if(!auth.isAuthenticated) {\n                return <Redirect to=\"/login\" />\n            } else {\n                return <Component {...props} />;\n            }\n        }}\n    />\n);\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);","import {\n    USER_LOADED,\n    USER_LOADING,\n    PREFERENCES_LOADED,\n    PREFERENCES_ERROR,\n    LOCATION_SAVED,\n    AUTH_ERROR,\n    LOGIN_ATTEMPT,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n} from '../actions/types';\n\n\nconst initialState = {\n    token: localStorage.getItem('token'),\n    isAuthenticated: null,\n    loginFailed: false,\n    registerFailed: false,\n    isLoading: false,\n    user: null,\n    preferences: {\"id\": 0, \"user\": 0, \"sort\": \"AZ\", \"scale\": \"0.560\", \"load\": \"recent\", \"phytoguide\": true},\n    location: window.location.pathname,\n    locationCount: 1,\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case USER_LOADING:\n            return {\n                ...state,\n                isLoading: true\n            }\n        case USER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                isLoading: false,\n                user: action.payload.user,\n                preferences: action.payload.preferences,\n            };\n        case PREFERENCES_LOADED:\n            return {\n                ...state,\n                preferences: action.payload\n            };\n        case LOCATION_SAVED:\n            return {\n                ...state,\n                location: action.payload\n            }\n        case LOGIN_ATTEMPT:\n            return {\n                ...state,\n                ...action.payload,\n                loginFailed: false\n            }\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated: true,\n                isLoading: false\n            }\n        case PREFERENCES_ERROR:\n            console.log('Failed to load user preferences.');\n        case AUTH_ERROR:\n        case LOGOUT_SUCCESS:\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false,\n                registerFailed: true,\n            }\n        case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false\n            }\n        case LOGIN_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false,\n                loginFailed: true,\n            }\n            \n        default:\n            return state;\n    }\n}\n\n","import {\n    CLASSIFY_PAGE,\n    NOTEBOOK_PAGE,\n    ANALYSIS_PAGE,\n    CLASSDOWNLOAD_PAGE,\n    SEARCH_PAGE,\n    HOME_PAGE,\n    LEARN_PAGE,\n    REGISTER_PAGE,\n    LOGIN_PAGE,\n    COMMUNITYREVIEW_PAGE,\n    COMMUNITYFILE_PAGE,\n    LABREVIEW_PAGE,\n    LOGOUT_SUCCESS,\n} from '../actions/types';\n\nconst initialState = {\n    onHome: false,\n    onLearn: false,\n    onRegister: false,\n    onLogin: false,\n    onClassify: false,\n    onNotebook: false,\n    onAnalysis: false,\n    onClassDownload: false,\n    onSearch: false,\n    onCommunityReview: false,\n    onCommunityFile: false,\n    onLabReview: false,\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case HOME_PAGE:\n            return {\n                ...state,\n                onHome: true,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n        case LEARN_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: true,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n        case REGISTER_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: true,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n        case LOGIN_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: true,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n        case CLASSIFY_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: true,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n        case NOTEBOOK_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: true,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n        \n        case ANALYSIS_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: true,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n\n        case CLASSDOWNLOAD_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: true,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n\n        case SEARCH_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: true,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n\n        case COMMUNITYREVIEW_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: true,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n\n        case COMMUNITYFILE_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: true,\n                onLabReview: false,\n            }\n\n        case LABREVIEW_PAGE:\n            return {\n                ...state,\n                onHome: false,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: true,\n            }\n\n        case LOGOUT_SUCCESS:\n            return {\n                ...state,\n                onHome: true,\n                onLearn: false,\n                onRegister: false,\n                onLogin: false,\n                onClassify: false,\n                onNotebook: false,\n                onAnalysis: false,\n                onClassDownload: false,\n                onSearch: false,\n                onCommunityReview: false,\n                onCommunityFile: false,\n                onLabReview: false,\n            }\n            \n        default:\n            return state;\n    }\n}\n\n","import {\n    SAVE_PROGRESS,\n    SAVE_SUCCESS,\n    SYNC_PROGRESS,\n    SYNC_SUCCESS,\n    SCALE_CHANGED,\n    NOTES_CHANGED,\n    NOTES_RECORDED,\n    NOTEBOOK_FILTERED,\n    REPLY_RESOLVED,\n    REPLY_OPEN,\n    TARGETS_BASIC_SEARCHED,\n    BINS_BASIC_SEARCHED\n} from '../actions/types';\n\nconst initialState = {\n    isSaving: false,\n    isSyncing: false,\n    scaleEntry: 0.560,\n    noteChangeFlag: true,\n    replyChangeFlag: false,\n    notes: [],\n    targetSearchResults: [[]],\n    binsSearchResults: [[]],\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case SAVE_PROGRESS:\n            return {\n                ...state,\n                isSaving: true\n            }\n        case SAVE_SUCCESS:\n            return {\n                ...state,\n                isSaving: false\n            }\n        case SYNC_PROGRESS:\n            return {\n                ...state,\n                isSyncing: true\n            }\n        case SYNC_SUCCESS:\n            return {\n                ...state,\n                isSyncing: false\n            }\n        case SCALE_CHANGED:\n            return {\n                ...state,\n                scaleEntry: action.payload\n            }\n        case NOTES_CHANGED:\n            return {\n                ...state,\n                noteChangeFlag: true\n            }\n        case NOTES_RECORDED:\n            return {\n                ...state,\n                noteChangeFlag: false\n            }\n        case REPLY_OPEN:\n            return {\n                ...state,\n                noteChangeFlag: true\n            }\n        case REPLY_RESOLVED:\n            return {\n                ...state,\n                noteChangeFlag: false\n            }\n        case NOTEBOOK_FILTERED:\n            console.log(action.payload)\n            return {\n                ...state,\n                notes: action.payload\n            }\n        case TARGETS_BASIC_SEARCHED:\n            return {\n                ...state,\n                targetSearchResults: ((typeof(action.payload) === Array) ? (action.payload) : ([action.payload]))\n            }\n        case BINS_BASIC_SEARCHED:\n            return {\n                ...state,\n                binsSearchResults: ((typeof(action.payload) === Array) ? (action.payload) : ([action.payload]))\n            }\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport menu from './menu';\nimport classify from './classify';\n\nexport default combineReducers({\n  auth,\n  menu,\n  classify,\n});","import { createStore, applyMiddleware } from \"redux\"\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware)),\n);\n\nexport default store;","import React, { Component } from 'react';\nimport { withRouter } from \"react-router\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport Landing from './components/layout/Landing';\nimport Learn from './components/layout/Learn';\nimport Classify from './components/annotations/Classify';\nimport Notebook from './components/features/Notebook';\nimport Analysis from './components/features/Analysis';\nimport ClassDownload from './components/features/ClassDownload';\nimport Search from './components/features/Search';\nimport CommunityReview from './components/features/CommunityReview';\nimport CommunityFile from './components/features/CommunityFile';\nimport LabReview from './components/features/LabReview';\nimport Login from './components/accounts/Login';\nimport Register from './components/accounts/Register';\nimport PrivateRoute from './components/common/PrivateRoute';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { loadUser } from './actions/auth';\n\nclass App extends Component {\n\n    componentDidMount() {\n        store.dispatch(loadUser());\n    }\n\n    render() {\n        return(\n            <Provider store={store}>\n                <BrowserRouter>\n                    <Switch>\n                        <PrivateRoute \n                            exact path=\"/classify/:timeseries/:file\" \n                            key={window.location.pathname}\n                            component={withRouter(Classify)} />\n                        <PrivateRoute \n                            exact path=\"/classify/:timeseries/:file/:target\" \n                            key={window.location.pathname}\n                            component={withRouter(Classify)} />\n                        <PrivateRoute exact path=\"/classify/\" component={Classify} />\n                        <PrivateRoute exact path=\"/notebook/\" component={Notebook} />\n                        <PrivateRoute exact path=\"/analysis\" component={Analysis} />\n                        <PrivateRoute exact path=\"/analysis/classdownload\" component={ClassDownload} />\n                        <PrivateRoute exact path=\"/analysis/search\" component={Search} />\n                        <PrivateRoute exact path=\"/analysis/communityreview\" component={CommunityReview} />\n                        <PrivateRoute \n                            exact path=\"/analysis/communityreview/:timeseries/:file/:user\" \n                            key={window.location.pathname}\n                            component={withRouter(CommunityFile)} />\n                        <PrivateRoute exact path=\"/analysis/labreview\" component={LabReview} />\n                        <Route exact path=\"/register\" component={Register} />\n                        <Route exact path=\"/login\" component={Login} />\n                        <Route exact path=\"/\" key={window.location.pathname} component={Landing} />\n                        <Route exact path=\"/learn\" component={Learn} />\n                    </Switch>\n                </BrowserRouter>\n            </Provider>\n        );\n    }\n\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/master.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}