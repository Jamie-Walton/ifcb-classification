{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/jamiewalton/Desktop/Classification_v3/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/jamiewalton/Desktop/Classification_v3/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jamiewalton/Desktop/Classification_v3/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jamiewalton/Desktop/Classification_v3/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jamiewalton/Desktop/Classification_v3/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import Draggable from'react-draggable';import loader from\"./loader.GIF\";import toTop from\"./icons/to-top.png\";import selectWhite from\"./icons/select-white.png\";import dropdown from\"./icons/dropdown.png\";/*\nimport calendar from \"./icons/calendar.png\";\nimport dropup from \"./icons/dropup.png\";\nimport selectGray from \"./icons/select-gray.png\";\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TimeSeriesControl=/*#__PURE__*/function(_React$Component){_inherits(TimeSeriesControl,_React$Component);var _super=_createSuper(TimeSeriesControl);function TimeSeriesControl(){_classCallCheck(this,TimeSeriesControl);return _super.apply(this,arguments);}_createClass(TimeSeriesControl,[{key:\"handleDropdown\",value:function handleDropdown(){document.getElementById('timeseries_dropdown').classList.toggle('show');document.getElementById('timeseries_label').classList.toggle('hide');document.getElementById('timeseries_bar').classList.toggle('accommodate-dropdown');}},{key:\"render\",value:function render(){var _this=this;var options=this.props.options.map(function(x){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this.props.onClick(x);},children:/*#__PURE__*/_jsx(\"button\",{id:x,children:x})},x);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time\",id:\"timeseries_bar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"time-selection\",children:this.props.timeseries}),/*#__PURE__*/_jsx(\"img\",{src:dropdown,className:\"time-icon\",alt:'Select time series',onClick:function onClick(){return _this.handleDropdown();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"time-dropdown\",id:\"timeseries_dropdown\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"timeseries-option\",children:options})}),/*#__PURE__*/_jsx(\"p\",{className:\"time-label\",id:\"timeseries_label\",children:\"Time Series\"})]});}}]);return TimeSeriesControl;}(React.Component);var YearControl=/*#__PURE__*/function(_React$Component2){_inherits(YearControl,_React$Component2);var _super2=_createSuper(YearControl);function YearControl(){_classCallCheck(this,YearControl);return _super2.apply(this,arguments);}_createClass(YearControl,[{key:\"handleDropdown\",value:function handleDropdown(){document.getElementById('year_dropdown').classList.toggle('show');document.getElementById('year_label').classList.toggle('hide');document.getElementById('year_bar').classList.toggle('accommodate-dropdown');}},{key:\"render\",value:function render(){var _this2=this;var options=this.props.options.map(function(x){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this2.props.onClick(x);},children:/*#__PURE__*/_jsx(\"button\",{id:x,children:x})},x);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time\",id:\"year_bar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"time-selection\",children:this.props.year}),/*#__PURE__*/_jsx(\"img\",{src:dropdown,className:\"time-icon\",alt:'Select Year',onClick:function onClick(){return _this2.handleDropdown();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"time-dropdown\",id:\"year_dropdown\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"year-option\",children:options})}),/*#__PURE__*/_jsx(\"p\",{className:\"time-label\",id:\"year_label\",children:\"Year\"})]});}}]);return YearControl;}(React.Component);var DayControl=/*#__PURE__*/function(_React$Component3){_inherits(DayControl,_React$Component3);var _super3=_createSuper(DayControl);function DayControl(){_classCallCheck(this,DayControl);return _super3.apply(this,arguments);}_createClass(DayControl,[{key:\"handleDropdown\",value:function handleDropdown(){document.getElementById('day_dropdown').classList.toggle('show');document.getElementById('day_label').classList.toggle('hide');document.getElementById('day_bar').classList.toggle('accommodate-dropdown');}},{key:\"render\",value:function render(){var _this3=this;var options=this.props.options.map(function(x){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this3.props.onClick(x);},children:/*#__PURE__*/_jsx(\"button\",{id:x,children:x})},x);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time\",id:\"day_bar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"time-selection\",children:this.props.day}),/*#__PURE__*/_jsx(\"img\",{src:dropdown,className:\"time-icon\",alt:'Select Day',onClick:function onClick(){return _this3.handleDropdown();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"time-dropdown\",id:\"day_dropdown\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"day-option\",children:options})}),/*#__PURE__*/_jsx(\"p\",{className:\"time-label\",id:\"day_label\",children:\"Day\"})]});}}]);return DayControl;}(React.Component);var FileControl=/*#__PURE__*/function(_React$Component4){_inherits(FileControl,_React$Component4);var _super4=_createSuper(FileControl);function FileControl(){_classCallCheck(this,FileControl);return _super4.apply(this,arguments);}_createClass(FileControl,[{key:\"handleDropdown\",value:function handleDropdown(){document.getElementById('file_dropdown').classList.toggle('show');document.getElementById('file_label').classList.toggle('hide');document.getElementById('file_bar').classList.toggle('accommodate-dropdown');}},{key:\"render\",value:function render(){var _this4=this;var options=this.props.options.map(function(x){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this4.props.onClick(x);},children:/*#__PURE__*/_jsx(\"button\",{id:x,children:x})},x);});var fileName=this.props.file;var file=fileName.slice(9,12)+':'+fileName.slice(12,14)+':'+fileName.slice(14,16)+'Z';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time\",id:\"file_bar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"time-selection\",children:file}),/*#__PURE__*/_jsx(\"img\",{src:dropdown,className:\"time-icon\",alt:'Select File',onClick:function onClick(){return _this4.handleDropdown();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"time-dropdown\",id:\"file_dropdown\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"file-option\",children:options})}),/*#__PURE__*/_jsx(\"p\",{className:\"time-label\",id:\"file_label\",children:\"File\"})]});}}]);return FileControl;}(React.Component);var SetControl=/*#__PURE__*/function(_React$Component5){_inherits(SetControl,_React$Component5);var _super5=_createSuper(SetControl);function SetControl(){_classCallCheck(this,SetControl);return _super5.apply(this,arguments);}_createClass(SetControl,[{key:\"handleDropdown\",value:function handleDropdown(){document.getElementById('set_dropdown').classList.toggle('show');document.getElementById('set_label').classList.toggle('hide');document.getElementById('set_bar').classList.toggle('accommodate-dropdown');}},{key:\"render\",value:function render(){var _this5=this;var options=this.props.options.map(function(x){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this5.props.onClick(x);},children:/*#__PURE__*/_jsx(\"button\",{id:x,children:x})},x);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"set\",id:\"set_bar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"time-selection\",children:this.props.set}),/*#__PURE__*/_jsx(\"img\",{src:dropdown,className:\"time-icon\",alt:'Select Set',onClick:function onClick(){return _this5.handleDropdown();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"set-dropdown\",id:\"set_dropdown\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"set-option\",children:options})}),/*#__PURE__*/_jsx(\"p\",{className:\"time-label\",id:\"set_label\",children:\"Set\"})]});}}]);return SetControl;}(React.Component);var PlanktonImage=/*#__PURE__*/function(_React$Component6){_inherits(PlanktonImage,_React$Component6);var _super6=_createSuper(PlanktonImage);function PlanktonImage(){_classCallCheck(this,PlanktonImage);return _super6.apply(this,arguments);}_createClass(PlanktonImage,[{key:\"render\",value:function render(){var url=this.props.nameSpace+this.props.timestamp+'_'+this.props.ifcb+'_'+this.props.targetNum+'.jpg';return/*#__PURE__*/_jsx(\"img\",{src:url,className:\"image\",alt:this.props.classification,id:this.props.targetNum+'-image',style:{height:String(Number(this.props.width)*Number(this.props.scale)*0.07)+'vw'}});}}]);return PlanktonImage;}(React.Component);var Plankton=/*#__PURE__*/function(_React$Component7){_inherits(Plankton,_React$Component7);var _super7=_createSuper(Plankton);function Plankton(){_classCallCheck(this,Plankton);return _super7.apply(this,arguments);}_createClass(Plankton,[{key:\"renderImage\",value:function renderImage(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PlanktonImage,{nameSpace:'http://128.114.25.154:8888/'+this.props.ifcb+'/',timestamp:this.props.timestamp,ifcb:this.props.ifcb,targetNum:this.props.targetNum,classification:this.props.classification,width:this.props.width,scale:this.props.scale})});}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/_jsx(\"button\",{className:\"plankton-button\",onClick:function onClick(){return _this6.props.onClick(_this6.props.targetNum);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"plankton\",children:[this.renderImage(),/*#__PURE__*/_jsx(\"div\",{className:'id',id:this.props.targetNum,children:/*#__PURE__*/_jsx(\"p\",{className:'id-text',id:this.props.targetNum+'-text',children:this.props.classification})})]})});}}]);return Plankton;}(React.Component);var Micrometer=/*#__PURE__*/function(_React$Component8){_inherits(Micrometer,_React$Component8);var _super8=_createSuper(Micrometer);function Micrometer(){_classCallCheck(this,Micrometer);return _super8.apply(this,arguments);}_createClass(Micrometer,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Draggable,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"drag-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"micrometer-block\",style:{width:'1.904vw'}}),/*#__PURE__*/_jsx(\"p\",{className:\"micrometer-text\",children:\"10\\xB5m\"})]})});}}]);return Micrometer;}(React.Component);var ClassMenu=/*#__PURE__*/function(_React$Component9){_inherits(ClassMenu,_React$Component9);var _super9=_createSuper(ClassMenu);function ClassMenu(){_classCallCheck(this,ClassMenu);return _super9.apply(this,arguments);}_createClass(ClassMenu,[{key:\"render\",value:function render(){var _this7=this;var options=this.props.classes.map(function(x){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{id:x,onClick:function onClick(){return _this7.props.onClick(x);},children:x})},x);});return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"class-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"annotation-control\",onClick:function onClick(){return _this7.props.handleSelectAllClick();},children:/*#__PURE__*/_jsx(\"p\",{className:\"control-text\",children:\"Select All\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"annotation-control\",onClick:function onClick(){return _this7.props.handleSelectAllClick();},children:/*#__PURE__*/_jsx(\"p\",{className:\"control-text\",children:\"Undo\"})})]}),/*#__PURE__*/_jsx(\"ul\",{children:options})]}),/*#__PURE__*/_jsx(Micrometer,{})]});}}]);return ClassMenu;}(React.Component);var Annotations=/*#__PURE__*/function(_React$Component10){_inherits(Annotations,_React$Component10);var _super10=_createSuper(Annotations);function Annotations(props){var _this8;_classCallCheck(this,Annotations);_this8=_super10.call(this,props);_this8.state={loading:true,classes:[],classPicker:'Unclassified',bin:{timeseries:'',year:'',day:'',file:''},set:1,timeSeriesOptions:[],yearOptions:[],dayOptions:[],fileOptions:[],setOptions:[],targets:[],scale:1};return _this8;}_createClass(Annotations,[{key:\"getNewTimeSeries\",value:function getNewTimeSeries(option){var _this9=this;this.setState({loading:true});axios.get('/process/timeseries/'+option+'/').then(function(binResponse){_this9.setState({bin:binResponse.data.bin,set:binResponse.data.set.number,yearOptions:binResponse.data.options.year_options.reverse(),dayOptions:binResponse.data.options.day_options.reverse(),fileOptions:binResponse.data.options.file_options,setOptions:binResponse.data.options.set_options});axios.get('/process/targets/'+option+'/'+binResponse.data.bin.file+'/1/').then(function(targetResponse){_this9.setState({targets:targetResponse.data,scale:targetResponse.data[0].scale,loading:false});});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this10=this;axios.get(\"/api/timeseries/\").then(function(res){_this10.setState({timeSeriesOptions:res.data.map(function(c){return c.name;})});}).catch(function(err){return console.log(err);});axios.get(\"/api/classes/\").then(function(res){return _this10.setState({classes:res.data.map(function(c){return c.name;})});}).catch(function(err){return console.log(err);});this.getNewTimeSeries('IFCB104');}},{key:\"getNewYear\",value:function getNewYear(option){console.log(option);}},{key:\"handleNewDay\",value:function handleNewDay(option){var _this11=this;document.getElementById('day_dropdown').classList.toggle('show');document.getElementById('day_label').classList.toggle('hide');document.getElementById('day_bar').classList.toggle('accommodate-dropdown');this.setState({loading:true,bin:{timeseries:this.state.bin.timeseries,year:this.state.bin.year,day:option,file:this.state.bin.file},set:1});axios.get('/process/day/'+this.state.bin.timeseries+'/'+this.state.bin.year+'/'+option+'/').then(function(dayResponse){_this11.setState({bin:{timeseries:_this11.state.bin.timeseries,year:_this11.state.bin.year,day:option,file:_this11.dayResponse.bin.file},fileOptions:dayResponse.data.options.file_options,setOptions:dayResponse.data.options.set_option});axios.get('/process/targets/'+_this11.state.bin.timeseries+'/'+_this11.state.bin.file+'/1/').then(function(targetResponse){_this11.setState({targets:targetResponse.data,scale:targetResponse.data[0].scale,loading:false});});}).catch(function(err){return console.log(err);});}},{key:\"handleNewFile\",value:function handleNewFile(option){var _this12=this;document.getElementById('file_dropdown').classList.toggle('show');document.getElementById('file_label').classList.toggle('hide');document.getElementById('file_bar').classList.toggle('accommodate-dropdown');var file='D'+this.state.bin.year+this.state.bin.day.slice(0,2)+this.state.bin.day.slice(3,5)+option.slice(0,3)+option.slice(4,6)+option.slice(7,9);this.setState({loading:true,bin:{timeseries:this.state.bin.timeseries,year:this.state.bin.year,day:this.state.bin.day,file:file},set:1});axios.get('/process/file/'+this.state.bin.timeseries+'/'+file+'/').then(function(res){return _this12.setState({setOptions:res.data.options.set_options});}).catch(function(err){return console.log(err);});axios.get('/process/targets/'+this.state.bin.timeseries+'/'+file+'/1/').then(function(targetResponse){_this12.setState({targets:targetResponse.data,scale:targetResponse.data[0].scale,loading:false});});}},{key:\"handleNewSet\",value:function handleNewSet(option){var _this13=this;this.setState({loading:true,set:option,targets:[]});axios.get('process/targets/'+this.state.bin.timeseries+'/'+this.state.bin.file+'/'+option+'/').then(function(res){_this13.setState({targets:res.data,scale:res.data[0].scale});}).catch(function(err){return console.log(err);});this.setState({loading:false});}},{key:\"handleMenuClick\",value:function handleMenuClick(name){var prevMenu=document.getElementById(this.state.classPicker);prevMenu.style.backgroundColor='#079CCC';prevMenu.addEventListener('mouseover',function(){prevMenu.style.backgroundColor='#16609F';});prevMenu.addEventListener('mouseout',function(){prevMenu.style.backgroundColor='#079CCC';});var ids=document.getElementsByClassName('id');var idTexts=document.getElementsByClassName('id-text');for(var i=0;i<ids.length;i++){if(ids[i].style.backgroundColor!=='#FFFFFF'){ids[i].style.backgroundColor='#FFFFFF';idTexts[i].style.color='#4E4E4E';}}this.setState({classPicker:name});var menu=document.getElementById(name);menu.style.backgroundColor='#16609F';var _iterator=_createForOfIteratorHelper(this.state.targets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var target=_step.value;if(target.classification===name){var container=document.getElementById(target.number);var text=document.getElementById(target.number+'-text');container.style.backgroundColor='#16609F';text.style.color='#FFFFFF';}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}/* Fix this entire function later (will need updates to targets and row calls)\n  handleRowClick(row) {\n      for (const sample of this.state.rows[row]) {\n          this.state.targets[sample] = this.state.classPicker;\n          const container = document.getElementById(sample);\n          const text = document.getElementById(sample+'_text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({targets: this.state.targets});\n  }\n  */},{key:\"backToTop\",value:function backToTop(){document.body.scrollTop=0;// For Safari\ndocument.documentElement.scrollTop=0;}},{key:\"handleSelectAllClick\",value:function handleSelectAllClick(){var targets=this.state.targets;for(var i=0;i<targets.length;i++){targets[i].classification=this.state.classPicker;var container=document.getElementById(targets[i].number);var text=document.getElementById(targets[i].number+'_text');container.style.backgroundColor='#16609F';text.style.color='#FFFFFF';}this.setState({targets:targets});}},{key:\"handlePlanktonClick\",value:function handlePlanktonClick(i){var targets=this.state.targets;var k=targets.findIndex(function(target){return target.number===i;});targets[k].classification=this.state.classPicker;this.setState({targets:targets});var container=document.getElementById(targets[k].number);var text=document.getElementById(targets[k].number+'-text');container.style.backgroundColor='#16609F';text.style.color='#FFFFFF';}},{key:\"renderTimeSeriesControl\",value:function renderTimeSeriesControl(){var _this14=this;return/*#__PURE__*/_jsx(TimeSeriesControl,{timeseries:this.state.bin.timeseries,options:this.state.timeSeriesOptions,onClick:function onClick(option){return _this14.getNewTimeSeries(option);}});}},{key:\"renderYearControl\",value:function renderYearControl(){var _this15=this;return/*#__PURE__*/_jsx(YearControl,{year:this.state.bin.year,options:this.state.yearOptions,onClick:function onClick(option){return _this15.getNewYear(option);}});}},{key:\"renderDayControl\",value:function renderDayControl(){var _this16=this;return/*#__PURE__*/_jsx(DayControl,{day:this.state.bin.day,options:this.state.dayOptions,onClick:function onClick(option){return _this16.handleNewDay(option);}});}},{key:\"renderFileControl\",value:function renderFileControl(){var _this17=this;return/*#__PURE__*/_jsx(FileControl,{file:this.state.bin.file,options:this.state.fileOptions,onClick:function onClick(option){return _this17.handleNewFile(option);}});}},{key:\"renderSetControl\",value:function renderSetControl(){var _this18=this;return/*#__PURE__*/_jsx(SetControl,{set:this.state.set,options:this.state.setOptions,onClick:function onClick(option){return _this18.handleNewSet(option);}});}},{key:\"renderPlankton\",value:function renderPlankton(i){var _this19=this;return/*#__PURE__*/_jsx(Plankton,{ifcb:this.state.bin.timeseries,timestamp:this.state.bin.file,id:i,targetNum:this.state.targets[i].number,classification:this.state.targets[i].classification,scale:this.state.targets[i].scale,width:this.state.targets[i].width,onClick:function onClick(i){return _this19.handlePlanktonClick(i);}});}},{key:\"renderClassMenu\",value:function renderClassMenu(){var _this20=this;return/*#__PURE__*/_jsx(ClassMenu,{classes:this.state.classes,onClick:function onClick(name){return _this20.handleMenuClick(name);},handleSelectAllClick:function handleSelectAllClick(){return _this20.handleSelectAllClick();},handleUndoClick:function handleUndoClick(){return _this20.handleUndoClick();}});}},{key:\"renderMicrometer\",value:function renderMicrometer(){return/*#__PURE__*/_jsx(Micrometer,{scale:this.state.scale});}},{key:\"renderLoader\",value:function renderLoader(){console.log('Loading...');return/*#__PURE__*/_jsx(\"img\",{src:loader,alt:\"Loading targets...\",width:\"80\",loop:\"infinite\"});}},{key:\"render\",value:function render(){var _this21=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Manual Annotations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-controls\",children:[this.renderTimeSeriesControl(),this.renderYearControl(),this.renderDayControl(),this.renderFileControl(),this.renderSetControl()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"annotations\",children:[this.renderClassMenu(),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-grid\",children:[this.state.loading?this.renderLoader():this.state.targets.map(function(target,i){return _this21.renderPlankton(i);}),/*#__PURE__*/_jsx(\"img\",{src:toTop,alt:\"Back to Top\",className:\"to-top\",onClick:function onClick(){return _this21.backToTop();}})]})})]})]});}}]);return Annotations;}(React.Component);export default Annotations;","map":{"version":3,"sources":["/Users/jamiewalton/Desktop/Classification_v3/frontend/src/App.js"],"names":["React","axios","Draggable","loader","toTop","selectWhite","dropdown","TimeSeriesControl","document","getElementById","classList","toggle","options","props","map","x","onClick","timeseries","handleDropdown","Component","YearControl","year","DayControl","day","FileControl","fileName","file","slice","SetControl","set","PlanktonImage","url","nameSpace","timestamp","ifcb","targetNum","classification","height","String","Number","width","scale","Plankton","renderImage","Micrometer","ClassMenu","classes","handleSelectAllClick","Annotations","state","loading","classPicker","bin","timeSeriesOptions","yearOptions","dayOptions","fileOptions","setOptions","targets","option","setState","get","then","binResponse","data","number","year_options","reverse","day_options","file_options","set_options","targetResponse","res","c","name","catch","err","console","log","getNewTimeSeries","dayResponse","set_option","prevMenu","style","backgroundColor","addEventListener","ids","getElementsByClassName","idTexts","i","length","color","menu","target","container","text","body","scrollTop","documentElement","k","findIndex","getNewYear","handleNewDay","handleNewFile","handleNewSet","handlePlanktonClick","handleMenuClick","handleUndoClick","renderTimeSeriesControl","renderYearControl","renderDayControl","renderFileControl","renderSetControl","renderClassMenu","renderLoader","renderPlankton","backToTop"],"mappings":"grBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA;AACA;AACA;AACA;AACA,E,2FAEMC,CAAAA,iB,wSACF,yBAAiB,CACbC,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAA+CC,SAA/C,CAAyDC,MAAzD,CAAgE,MAAhE,EACAH,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDC,MAAtD,CAA6D,MAA7D,EACAH,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,MAApD,CAA2D,sBAA3D,EACH,C,sBAED,iBAAS,gBACL,GAAMC,CAAAA,OAAO,CAAG,KAAKC,KAAL,CAAWD,OAAX,CAAmBE,GAAnB,CAAuB,SAACC,CAAD,qBACvC,WAAY,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACF,KAAL,CAAWG,OAAX,CAAmBD,CAAnB,CAAN,EAArB,uBAAkD,eAAQ,EAAE,CAAEA,CAAZ,UAAgBA,CAAhB,EAAlD,EAASA,CAAT,CADuC,EAAvB,CAAhB,CAEA,mBACI,oCACI,aAAK,SAAS,CAAC,MAAf,CAAsB,EAAE,CAAC,gBAAzB,wBACI,UAAG,SAAS,CAAC,gBAAb,UAA+B,KAAKF,KAAL,CAAWI,UAA1C,EADJ,cAEI,YAAK,GAAG,CAAEX,QAAV,CAAoB,SAAS,CAAC,WAA9B,CACA,GAAG,CAAE,oBADL,CAC2B,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACY,cAAL,EAAN,EADpC,EAFJ,GADJ,cAMI,YAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAC,qBAAlC,uBACI,WAAI,SAAS,CAAC,mBAAd,UAAmCN,OAAnC,EADJ,EANJ,cASI,UAAG,SAAS,CAAC,YAAb,CAA0B,EAAE,CAAC,kBAA7B,yBATJ,GADJ,CAaH,C,+BAvB2BZ,KAAK,CAACmB,S,KA0BhCC,CAAAA,W,8QACF,yBAAiB,CACbZ,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,MAAnD,CAA0D,MAA1D,EACAH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,SAAtC,CAAgDC,MAAhD,CAAuD,MAAvD,EACAH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,CAA8CC,MAA9C,CAAqD,sBAArD,EACH,C,sBAED,iBAAS,iBACL,GAAMC,CAAAA,OAAO,CAAG,KAAKC,KAAL,CAAWD,OAAX,CAAmBE,GAAnB,CAAuB,SAACC,CAAD,qBACvC,WAAY,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,KAAL,CAAWG,OAAX,CAAmBD,CAAnB,CAAN,EAArB,uBAAkD,eAAQ,EAAE,CAAEA,CAAZ,UAAgBA,CAAhB,EAAlD,EAASA,CAAT,CADuC,EAAvB,CAAhB,CAEA,mBACI,oCACI,aAAK,SAAS,CAAC,MAAf,CAAsB,EAAE,CAAC,UAAzB,wBACI,UAAG,SAAS,CAAC,gBAAb,UAA+B,KAAKF,KAAL,CAAWQ,IAA1C,EADJ,cAEI,YAAK,GAAG,CAAEf,QAAV,CAAoB,SAAS,CAAC,WAA9B,CACA,GAAG,CAAE,aADL,CACoB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACY,cAAL,EAAN,EAD7B,EAFJ,GADJ,cAMI,YAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAC,eAAlC,uBACI,WAAI,SAAS,CAAC,aAAd,UAA6BN,OAA7B,EADJ,EANJ,cASI,UAAG,SAAS,CAAC,YAAb,CAA0B,EAAE,CAAC,YAA7B,kBATJ,GADJ,CAaH,C,yBAvBqBZ,KAAK,CAACmB,S,KA0B1BG,CAAAA,U,yQACF,yBAAiB,CACbd,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDC,MAAlD,CAAyD,MAAzD,EACAH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,CAA+CC,MAA/C,CAAsD,MAAtD,EACAH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA6CC,MAA7C,CAAoD,sBAApD,EACH,C,sBAED,iBAAS,iBACL,GAAMC,CAAAA,OAAO,CAAG,KAAKC,KAAL,CAAWD,OAAX,CAAmBE,GAAnB,CAAuB,SAACC,CAAD,qBACvC,WAAY,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,KAAL,CAAWG,OAAX,CAAmBD,CAAnB,CAAN,EAArB,uBAAkD,eAAQ,EAAE,CAAEA,CAAZ,UAAgBA,CAAhB,EAAlD,EAASA,CAAT,CADuC,EAAvB,CAAhB,CAEA,mBACI,oCACI,aAAK,SAAS,CAAC,MAAf,CAAsB,EAAE,CAAC,SAAzB,wBACI,UAAG,SAAS,CAAC,gBAAb,UAA+B,KAAKF,KAAL,CAAWU,GAA1C,EADJ,cAEI,YAAK,GAAG,CAAEjB,QAAV,CAAoB,SAAS,CAAC,WAA9B,CACA,GAAG,CAAE,YADL,CACmB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACY,cAAL,EAAN,EAD5B,EAFJ,GADJ,cAMI,YAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAC,cAAlC,uBACI,WAAI,SAAS,CAAC,YAAd,UAA4BN,OAA5B,EADJ,EANJ,cASI,UAAG,SAAS,CAAC,YAAb,CAA0B,EAAE,CAAC,WAA7B,iBATJ,GADJ,CAaH,C,wBAvBoBZ,KAAK,CAACmB,S,KA0BzBK,CAAAA,W,8QACF,yBAAiB,CACbhB,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,MAAnD,CAA0D,MAA1D,EACAH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,SAAtC,CAAgDC,MAAhD,CAAuD,MAAvD,EACAH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,CAA8CC,MAA9C,CAAqD,sBAArD,EACH,C,sBAED,iBAAS,iBACL,GAAMC,CAAAA,OAAO,CAAG,KAAKC,KAAL,CAAWD,OAAX,CAAmBE,GAAnB,CAAuB,SAACC,CAAD,qBACvC,WAAY,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,KAAL,CAAWG,OAAX,CAAmBD,CAAnB,CAAN,EAArB,uBAAkD,eAAQ,EAAE,CAAEA,CAAZ,UAAgBA,CAAhB,EAAlD,EAASA,CAAT,CADuC,EAAvB,CAAhB,CAEA,GAAIU,CAAAA,QAAQ,CAAG,KAAKZ,KAAL,CAAWa,IAA1B,CACA,GAAMA,CAAAA,IAAI,CAAGD,QAAQ,CAACE,KAAT,CAAe,CAAf,CAAiB,EAAjB,EAAuB,GAAvB,CAA6BF,QAAQ,CAACE,KAAT,CAAe,EAAf,CAAkB,EAAlB,CAA7B,CAAqD,GAArD,CAA2DF,QAAQ,CAACE,KAAT,CAAe,EAAf,CAAkB,EAAlB,CAA3D,CAAmF,GAAhG,CACA,mBACI,oCACI,aAAK,SAAS,CAAC,MAAf,CAAsB,EAAE,CAAC,UAAzB,wBACI,UAAG,SAAS,CAAC,gBAAb,UAA+BD,IAA/B,EADJ,cAEI,YAAK,GAAG,CAAEpB,QAAV,CAAoB,SAAS,CAAC,WAA9B,CACA,GAAG,CAAE,aADL,CACoB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACY,cAAL,EAAN,EAD7B,EAFJ,GADJ,cAMI,YAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAC,eAAlC,uBACI,WAAI,SAAS,CAAC,aAAd,UAA6BN,OAA7B,EADJ,EANJ,cASI,UAAG,SAAS,CAAC,YAAb,CAA0B,EAAE,CAAC,YAA7B,kBATJ,GADJ,CAaH,C,yBAzBqBZ,KAAK,CAACmB,S,KA4B1BS,CAAAA,U,yQACF,yBAAiB,CACbpB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDC,MAAlD,CAAyD,MAAzD,EACAH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,CAA+CC,MAA/C,CAAsD,MAAtD,EACAH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA6CC,MAA7C,CAAoD,sBAApD,EACH,C,sBAED,iBAAS,iBACL,GAAMC,CAAAA,OAAO,CAAG,KAAKC,KAAL,CAAWD,OAAX,CAAmBE,GAAnB,CAAuB,SAACC,CAAD,qBACvC,WAAY,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,KAAL,CAAWG,OAAX,CAAmBD,CAAnB,CAAN,EAArB,uBAAkD,eAAQ,EAAE,CAAEA,CAAZ,UAAgBA,CAAhB,EAAlD,EAASA,CAAT,CADuC,EAAvB,CAAhB,CAEA,mBACI,oCACI,aAAK,SAAS,CAAC,KAAf,CAAqB,EAAE,CAAC,SAAxB,wBACA,UAAG,SAAS,CAAC,gBAAb,UAA+B,KAAKF,KAAL,CAAWgB,GAA1C,EADA,cAEA,YAAK,GAAG,CAAEvB,QAAV,CAAoB,SAAS,CAAC,WAA9B,CACA,GAAG,CAAE,YADL,CACmB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACY,cAAL,EAAN,EAD5B,EAFA,GADJ,cAMI,YAAK,SAAS,CAAC,cAAf,CAA8B,EAAE,CAAC,cAAjC,uBACI,WAAI,SAAS,CAAC,YAAd,UAA4BN,OAA5B,EADJ,EANJ,cASI,UAAG,SAAS,CAAC,YAAb,CAA0B,EAAE,CAAC,WAA7B,iBATJ,GADJ,CAaH,C,wBAvBoBZ,KAAK,CAACmB,S,KA0BzBW,CAAAA,a,gRAEJ,iBAAS,CACT,GAAMC,CAAAA,GAAG,CAAG,KAAKlB,KAAL,CAAWmB,SAAX,CAAuB,KAAKnB,KAAL,CAAWoB,SAAlC,CAA8C,GAA9C,CAAoD,KAAKpB,KAAL,CAAWqB,IAA/D,CAAsE,GAAtE,CAA4E,KAAKrB,KAAL,CAAWsB,SAAvF,CAAmG,MAA/G,CACI,mBACI,YAAK,GAAG,CAAEJ,GAAV,CAAe,SAAS,CAAC,OAAzB,CACA,GAAG,CAAE,KAAKlB,KAAL,CAAWuB,cADhB,CAEA,EAAE,CAAE,KAAKvB,KAAL,CAAWsB,SAAX,CAAuB,QAF3B,CAGA,KAAK,CAAE,CAACE,MAAM,CAAEC,MAAM,CAACC,MAAM,CAAC,KAAK1B,KAAL,CAAW2B,KAAZ,CAAN,CAAyBD,MAAM,CAAC,KAAK1B,KAAL,CAAW4B,KAAZ,CAA/B,CAAkD,IAAnD,CAAN,CAA+D,IAAxE,CAHP,EADJ,CAMH,C,2BAVyBzC,KAAK,CAACmB,S,KAa5BuB,CAAAA,Q,4PAEJ,sBAAc,CACZ,mBACE,kCACI,KAAC,aAAD,EACI,SAAS,CAAE,8BAAgC,KAAK7B,KAAL,CAAWqB,IAA3C,CAAkD,GADjE,CAEI,SAAS,CAAE,KAAKrB,KAAL,CAAWoB,SAF1B,CAGI,IAAI,CAAE,KAAKpB,KAAL,CAAWqB,IAHrB,CAII,SAAS,CAAE,KAAKrB,KAAL,CAAWsB,SAJ1B,CAKI,cAAc,CAAE,KAAKtB,KAAL,CAAWuB,cAL/B,CAMI,KAAK,CAAE,KAAKvB,KAAL,CAAW2B,KANtB,CAOI,KAAK,CAAE,KAAK3B,KAAL,CAAW4B,KAPtB,EADJ,EADF,CAaD,C,sBAED,iBAAS,iBACL,mBACI,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC5B,KAAL,CAAWG,OAAX,CAAmB,MAAI,CAACH,KAAL,CAAWsB,SAA9B,CAAN,EAA7C,uBACI,aAAK,SAAS,CAAC,UAAf,WACK,KAAKQ,WAAL,EADL,cAEI,YAAK,SAAS,CAAE,IAAhB,CAAsB,EAAE,CAAE,KAAK9B,KAAL,CAAWsB,SAArC,uBACI,UAAG,SAAS,CAAE,SAAd,CAAyB,EAAE,CAAE,KAAKtB,KAAL,CAAWsB,SAAX,CAAuB,OAApD,UAA8D,KAAKtB,KAAL,CAAWuB,cAAzE,EADJ,EAFJ,GADJ,EADJ,CAUH,C,sBA7BoBpC,KAAK,CAACmB,S,KAgCvByB,CAAAA,U,iQACF,iBAAS,CACL,mBACI,KAAC,SAAD,wBACI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,kBAAf,CACA,KAAK,CAAE,CAACJ,KAAK,CAAE,SAAR,CADP,EADJ,cAGI,UAAG,SAAS,CAAC,iBAAb,qBAHJ,GADJ,EADJ,CASH,C,wBAXoBxC,KAAK,CAACmB,S,KAczB0B,CAAAA,S,4PACJ,iBAAS,iBACL,GAAMjC,CAAAA,OAAO,CAAG,KAAKC,KAAL,CAAWiC,OAAX,CAAmBhC,GAAnB,CAAuB,SAACC,CAAD,qBACvC,iCAAY,eAAQ,EAAE,CAAEA,CAAZ,CAAe,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,KAAL,CAAWG,OAAX,CAAmBD,CAAnB,CAAN,EAAxB,UAAsDA,CAAtD,EAAZ,EAASA,CAAT,CADuC,EAAvB,CAAhB,CAEA,mBACA,aAAK,SAAS,CAAC,SAAf,wBACA,aAAK,SAAS,CAAC,YAAf,wBACI,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,SAAS,CAAC,oBAAf,CAAoC,OAAO,CAAE,yBAAO,CAAA,MAAI,CAACF,KAAL,CAAWkC,oBAAX,EAAP,EAA7C,uBACI,UAAG,SAAS,CAAC,cAAb,wBADJ,EADF,cAIE,YAAK,SAAS,CAAC,oBAAf,CAAoC,OAAO,CAAE,yBAAO,CAAA,MAAI,CAAClC,KAAL,CAAWkC,oBAAX,EAAP,EAA7C,uBACI,UAAG,SAAS,CAAC,cAAb,kBADJ,EAJF,GADJ,cASI,oBAAKnC,OAAL,EATJ,GADA,cAYA,KAAC,UAAD,IAZA,GADA,CAgBH,C,uBApBqBZ,KAAK,CAACmB,S,KAuBxB6B,CAAAA,W,4HACJ,qBAAYnC,KAAZ,CAAmB,8CACf,0BAAMA,KAAN,EACA,OAAKoC,KAAL,CAAa,CACTC,OAAO,CAAE,IADA,CAETJ,OAAO,CAAE,EAFA,CAGTK,WAAW,CAAE,cAHJ,CAITC,GAAG,CAAE,CAACnC,UAAU,CAAC,EAAZ,CAAgBI,IAAI,CAAC,EAArB,CAAyBE,GAAG,CAAC,EAA7B,CAAiCG,IAAI,CAAC,EAAtC,CAJI,CAKTG,GAAG,CAAE,CALI,CAMTwB,iBAAiB,CAAE,EANV,CAOTC,WAAW,CAAE,EAPJ,CAQTC,UAAU,CAAE,EARH,CASTC,WAAW,CAAE,EATJ,CAUTC,UAAU,CAAE,EAVH,CAWTC,OAAO,CAAE,EAXA,CAYTjB,KAAK,CAAE,CAZE,CAAb,CAFe,cAgBlB,C,wDAED,0BAAiBkB,MAAjB,CAAyB,iBACvB,KAAKC,QAAL,CAAc,CAACV,OAAO,CAAE,IAAV,CAAd,EACAjD,KAAK,CACA4D,GADL,CACS,uBAAyBF,MAAzB,CAAkC,GAD3C,EAEKG,IAFL,CAEU,SAACC,WAAD,CAAiB,CACnB,MAAI,CAACH,QAAL,CAAc,CACVR,GAAG,CAAEW,WAAW,CAACC,IAAZ,CAAiBZ,GADZ,CAEVvB,GAAG,CAAEkC,WAAW,CAACC,IAAZ,CAAiBnC,GAAjB,CAAqBoC,MAFhB,CAGVX,WAAW,CAAES,WAAW,CAACC,IAAZ,CAAiBpD,OAAjB,CAAyBsD,YAAzB,CAAsCC,OAAtC,EAHH,CAIVZ,UAAU,CAAEQ,WAAW,CAACC,IAAZ,CAAiBpD,OAAjB,CAAyBwD,WAAzB,CAAqCD,OAArC,EAJF,CAKVX,WAAW,CAAEO,WAAW,CAACC,IAAZ,CAAiBpD,OAAjB,CAAyByD,YAL5B,CAMVZ,UAAU,CAAEM,WAAW,CAACC,IAAZ,CAAiBpD,OAAjB,CAAyB0D,WAN3B,CAAd,EAQArE,KAAK,CACA4D,GADL,CACS,oBAAsBF,MAAtB,CAA+B,GAA/B,CAAqCI,WAAW,CAACC,IAAZ,CAAiBZ,GAAjB,CAAqB1B,IAA1D,CAAiE,KAD1E,EAEKoC,IAFL,CAEU,SAACS,cAAD,CAAoB,CACtB,MAAI,CAACX,QAAL,CAAc,CACVF,OAAO,CAAEa,cAAc,CAACP,IADd,CAEVvB,KAAK,CAAE8B,cAAc,CAACP,IAAf,CAAoB,CAApB,EAAuBvB,KAFpB,CAGVS,OAAO,CAAE,KAHC,CAAd,EAKH,CARL,EASH,CApBL,EAqBD,C,iCAED,4BAAoB,kBAClBjD,KAAK,CACF4D,GADH,CACO,kBADP,EAEGC,IAFH,CAEQ,SAACU,GAAD,CAAS,CAAC,OAAI,CAACZ,QAAL,CAAc,CAAEP,iBAAiB,CAAEmB,GAAG,CAACR,IAAJ,CAASlD,GAAT,CAAa,SAAC2D,CAAD,QAAQA,CAAAA,CAAC,CAACC,IAAV,EAAb,CAArB,CAAd,EAAoE,CAFtF,EAGGC,KAHH,CAGS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAHT,EAKA3E,KAAK,CACF4D,GADH,CACO,eADP,EAEGC,IAFH,CAEQ,SAACU,GAAD,QAAS,CAAA,OAAI,CAACZ,QAAL,CAAc,CAAEd,OAAO,CAAE0B,GAAG,CAACR,IAAJ,CAASlD,GAAT,CAAa,SAAC2D,CAAD,QAAQA,CAAAA,CAAC,CAACC,IAAV,EAAb,CAAX,CAAd,CAAT,EAFR,EAGGC,KAHH,CAGS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAHT,EAKA,KAAKG,gBAAL,CAAsB,SAAtB,EACD,C,0BAED,oBAAWpB,MAAX,CAAmB,CACfkB,OAAO,CAACC,GAAR,CAAYnB,MAAZ,EACH,C,4BAED,sBAAaA,MAAb,CAAqB,kBACnBnD,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDC,MAAlD,CAAyD,MAAzD,EACAH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,CAA+CC,MAA/C,CAAsD,MAAtD,EACAH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA6CC,MAA7C,CAAoD,sBAApD,EAEA,KAAKiD,QAAL,CAAc,CACVV,OAAO,CAAE,IADC,CAEVE,GAAG,CAAE,CACDnC,UAAU,CAAE,KAAKgC,KAAL,CAAWG,GAAX,CAAenC,UAD1B,CAEDI,IAAI,CAAE,KAAK4B,KAAL,CAAWG,GAAX,CAAe/B,IAFpB,CAGDE,GAAG,CAAEoC,MAHJ,CAIDjC,IAAI,CAAE,KAAKuB,KAAL,CAAWG,GAAX,CAAe1B,IAJpB,CAFK,CAQVG,GAAG,CAAE,CARK,CAAd,EAUA5B,KAAK,CACA4D,GADL,CACS,gBAAkB,KAAKZ,KAAL,CAAWG,GAAX,CAAenC,UAAjC,CAA8C,GAA9C,CAAoD,KAAKgC,KAAL,CAAWG,GAAX,CAAe/B,IAAnE,CAA0E,GAA1E,CAAgFsC,MAAhF,CAAyF,GADlG,EAEKG,IAFL,CAEU,SAACkB,WAAD,CAAiB,CACnB,OAAI,CAACpB,QAAL,CAAc,CACVR,GAAG,CAAE,CACDnC,UAAU,CAAE,OAAI,CAACgC,KAAL,CAAWG,GAAX,CAAenC,UAD1B,CAEDI,IAAI,CAAE,OAAI,CAAC4B,KAAL,CAAWG,GAAX,CAAe/B,IAFpB,CAGDE,GAAG,CAAEoC,MAHJ,CAIDjC,IAAI,CAAE,OAAI,CAACsD,WAAL,CAAiB5B,GAAjB,CAAqB1B,IAJ1B,CADK,CAOV8B,WAAW,CAAEwB,WAAW,CAAChB,IAAZ,CAAiBpD,OAAjB,CAAyByD,YAP5B,CAQVZ,UAAU,CAAEuB,WAAW,CAAChB,IAAZ,CAAiBpD,OAAjB,CAAyBqE,UAR3B,CAAd,EAUAhF,KAAK,CACA4D,GADL,CACS,oBAAsB,OAAI,CAACZ,KAAL,CAAWG,GAAX,CAAenC,UAArC,CAAkD,GAAlD,CAAwD,OAAI,CAACgC,KAAL,CAAWG,GAAX,CAAe1B,IAAvE,CAA8E,KADvF,EAEKoC,IAFL,CAEU,SAACS,cAAD,CAAoB,CACtB,OAAI,CAACX,QAAL,CAAc,CACVF,OAAO,CAAEa,cAAc,CAACP,IADd,CAEVvB,KAAK,CAAE8B,cAAc,CAACP,IAAf,CAAoB,CAApB,EAAuBvB,KAFpB,CAGVS,OAAO,CAAE,KAHC,CAAd,EAKH,CARL,EASP,CAtBD,EAuBKyB,KAvBL,CAuBW,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAvBX,EAwBD,C,6BAED,uBAAcjB,MAAd,CAAsB,kBACpBnD,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,MAAnD,CAA0D,MAA1D,EACAH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,SAAtC,CAAgDC,MAAhD,CAAuD,MAAvD,EACAH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,CAA8CC,MAA9C,CAAqD,sBAArD,EAEA,GAAMe,CAAAA,IAAI,CAAG,IAAM,KAAKuB,KAAL,CAAWG,GAAX,CAAe/B,IAArB,CAA4B,KAAK4B,KAAL,CAAWG,GAAX,CAAe7B,GAAf,CAAmBI,KAAnB,CAAyB,CAAzB,CAA2B,CAA3B,CAA5B,CAA4D,KAAKsB,KAAL,CAAWG,GAAX,CAAe7B,GAAf,CAAmBI,KAAnB,CAAyB,CAAzB,CAA2B,CAA3B,CAA5D,CACbgC,MAAM,CAAChC,KAAP,CAAa,CAAb,CAAe,CAAf,CADa,CACOgC,MAAM,CAAChC,KAAP,CAAa,CAAb,CAAe,CAAf,CADP,CAC2BgC,MAAM,CAAChC,KAAP,CAAa,CAAb,CAAe,CAAf,CADxC,CAEA,KAAKiC,QAAL,CAAc,CACVV,OAAO,CAAE,IADC,CAEVE,GAAG,CAAE,CACDnC,UAAU,CAAE,KAAKgC,KAAL,CAAWG,GAAX,CAAenC,UAD1B,CAEDI,IAAI,CAAE,KAAK4B,KAAL,CAAWG,GAAX,CAAe/B,IAFpB,CAGDE,GAAG,CAAE,KAAK0B,KAAL,CAAWG,GAAX,CAAe7B,GAHnB,CAIDG,IAAI,CAAEA,IAJL,CAFK,CAQVG,GAAG,CAAE,CARK,CAAd,EAUA5B,KAAK,CACA4D,GADL,CACS,iBAAmB,KAAKZ,KAAL,CAAWG,GAAX,CAAenC,UAAlC,CAA+C,GAA/C,CAAqDS,IAArD,CAA4D,GADrE,EAEKoC,IAFL,CAEU,SAACU,GAAD,QAAS,CAAA,OAAI,CAACZ,QAAL,CAAc,CAAEH,UAAU,CAAEe,GAAG,CAACR,IAAJ,CAASpD,OAAT,CAAiB0D,WAA/B,CAAd,CAAT,EAFV,EAGKK,KAHL,CAGW,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAHX,EAIA3E,KAAK,CACA4D,GADL,CACS,oBAAsB,KAAKZ,KAAL,CAAWG,GAAX,CAAenC,UAArC,CAAkD,GAAlD,CAAwDS,IAAxD,CAA+D,KADxE,EAEKoC,IAFL,CAEU,SAACS,cAAD,CAAoB,CACtB,OAAI,CAACX,QAAL,CAAc,CACVF,OAAO,CAAEa,cAAc,CAACP,IADd,CAEVvB,KAAK,CAAE8B,cAAc,CAACP,IAAf,CAAoB,CAApB,EAAuBvB,KAFpB,CAGVS,OAAO,CAAE,KAHC,CAAd,EAKH,CARL,EASD,C,4BAED,sBAAaS,MAAb,CAAqB,kBACnB,KAAKC,QAAL,CAAc,CACVV,OAAO,CAAE,IADC,CAEVrB,GAAG,CAAE8B,MAFK,CAGVD,OAAO,CAAE,EAHC,CAAd,EAKAzD,KAAK,CACF4D,GADH,CACO,mBAAqB,KAAKZ,KAAL,CAAWG,GAAX,CAAenC,UAApC,CAAiD,GAAjD,CAAuD,KAAKgC,KAAL,CAAWG,GAAX,CAAe1B,IAAtE,CAA6E,GAA7E,CAAmFiC,MAAnF,CAA4F,GADnG,EAEGG,IAFH,CAEQ,SAACU,GAAD,CAAS,CAAC,OAAI,CAACZ,QAAL,CAAc,CAC1BF,OAAO,CAAEc,GAAG,CAACR,IADa,CAE1BvB,KAAK,CAAE+B,GAAG,CAACR,IAAJ,CAAS,CAAT,EAAYvB,KAFO,CAAd,EAGX,CALP,EAMGkC,KANH,CAMS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EANT,EAOA,KAAKhB,QAAL,CAAc,CAACV,OAAO,CAAE,KAAV,CAAd,EACD,C,+BAGD,yBAAgBwB,IAAhB,CAAsB,CAClB,GAAMQ,CAAAA,QAAQ,CAAG1E,QAAQ,CAACC,cAAT,CAAwB,KAAKwC,KAAL,CAAWE,WAAnC,CAAjB,CACA+B,QAAQ,CAACC,KAAT,CAAeC,eAAf,CAAiC,SAAjC,CACAF,QAAQ,CAACG,gBAAT,CAA0B,WAA1B,CAAuC,UAAW,CAChDH,QAAQ,CAACC,KAAT,CAAeC,eAAf,CAAiC,SAAjC,CACD,CAFD,EAGAF,QAAQ,CAACG,gBAAT,CAA0B,UAA1B,CAAsC,UAAW,CAC/CH,QAAQ,CAACC,KAAT,CAAeC,eAAf,CAAiC,SAAjC,CACD,CAFD,EAIA,GAAME,CAAAA,GAAG,CAAG9E,QAAQ,CAAC+E,sBAAT,CAAgC,IAAhC,CAAZ,CACA,GAAMC,CAAAA,OAAO,CAAGhF,QAAQ,CAAC+E,sBAAT,CAAgC,SAAhC,CAAhB,CACA,IAAK,GAAIE,CAAAA,CAAC,CAAC,CAAX,CAAcA,CAAC,CAACH,GAAG,CAACI,MAApB,CAA4BD,CAAC,EAA7B,CAAiC,CAC7B,GAAIH,GAAG,CAACG,CAAD,CAAH,CAAON,KAAP,CAAaC,eAAb,GAAiC,SAArC,CAAgD,CAC9CE,GAAG,CAACG,CAAD,CAAH,CAAON,KAAP,CAAaC,eAAb,CAA+B,SAA/B,CACAI,OAAO,CAACC,CAAD,CAAP,CAAWN,KAAX,CAAiBQ,KAAjB,CAAyB,SAAzB,CACH,CACF,CAED,KAAK/B,QAAL,CAAc,CAAET,WAAW,CAAEuB,IAAf,CAAd,EACA,GAAMkB,CAAAA,IAAI,CAAGpF,QAAQ,CAACC,cAAT,CAAwBiE,IAAxB,CAAb,CACAkB,IAAI,CAACT,KAAL,CAAWC,eAAX,CAA6B,SAA7B,CArBkB,yCAuBG,KAAKnC,KAAL,CAAWS,OAvBd,YAuBlB,+CAAyC,IAA9BmC,CAAAA,MAA8B,aACrC,GAAIA,MAAM,CAACzD,cAAP,GAA0BsC,IAA9B,CAAoC,CAChC,GAAMoB,CAAAA,SAAS,CAAGtF,QAAQ,CAACC,cAAT,CAAwBoF,MAAM,CAAC5B,MAA/B,CAAlB,CACA,GAAM8B,CAAAA,IAAI,CAAGvF,QAAQ,CAACC,cAAT,CAAwBoF,MAAM,CAAC5B,MAAP,CAAc,OAAtC,CAAb,CACA6B,SAAS,CAACX,KAAV,CAAgBC,eAAhB,CAAkC,SAAlC,CACAW,IAAI,CAACZ,KAAL,CAAWQ,KAAX,CAAmB,SAAnB,CACH,CACJ,CA9BiB,qDA+BrB,CAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I,yBAEE,oBAAY,CACVnF,QAAQ,CAACwF,IAAT,CAAcC,SAAd,CAA0B,CAA1B,CAA6B;AAC7BzF,QAAQ,CAAC0F,eAAT,CAAyBD,SAAzB,CAAqC,CAArC,CACD,C,oCAED,+BAAuB,CACnB,GAAMvC,CAAAA,OAAO,CAAG,KAAKT,KAAL,CAAWS,OAA3B,CACA,IAAK,GAAI+B,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG/B,OAAO,CAACgC,MAA5B,CAAoCD,CAAC,EAArC,CAAyC,CACrC/B,OAAO,CAAC+B,CAAD,CAAP,CAAWrD,cAAX,CAA4B,KAAKa,KAAL,CAAWE,WAAvC,CACA,GAAM2C,CAAAA,SAAS,CAAGtF,QAAQ,CAACC,cAAT,CAAwBiD,OAAO,CAAC+B,CAAD,CAAP,CAAWxB,MAAnC,CAAlB,CACA,GAAM8B,CAAAA,IAAI,CAAGvF,QAAQ,CAACC,cAAT,CAAwBiD,OAAO,CAAC+B,CAAD,CAAP,CAAWxB,MAAX,CAAkB,OAA1C,CAAb,CACA6B,SAAS,CAACX,KAAV,CAAgBC,eAAhB,CAAkC,SAAlC,CACAW,IAAI,CAACZ,KAAL,CAAWQ,KAAX,CAAmB,SAAnB,CACH,CACD,KAAK/B,QAAL,CAAc,CAAEF,OAAO,CAAEA,OAAX,CAAd,EACH,C,mCAED,6BAAoB+B,CAApB,CAAuB,CACrB,GAAI/B,CAAAA,OAAO,CAAG,KAAKT,KAAL,CAAWS,OAAzB,CACA,GAAMyC,CAAAA,CAAC,CAAGzC,OAAO,CAAC0C,SAAR,CAAkB,SAAAP,MAAM,QAAIA,CAAAA,MAAM,CAAC5B,MAAP,GAAkBwB,CAAtB,EAAxB,CAAV,CACA/B,OAAO,CAACyC,CAAD,CAAP,CAAW/D,cAAX,CAA4B,KAAKa,KAAL,CAAWE,WAAvC,CACA,KAAKS,QAAL,CAAc,CAAEF,OAAO,CAAEA,OAAX,CAAd,EACA,GAAMoC,CAAAA,SAAS,CAAGtF,QAAQ,CAACC,cAAT,CAAwBiD,OAAO,CAACyC,CAAD,CAAP,CAAWlC,MAAnC,CAAlB,CACA,GAAM8B,CAAAA,IAAI,CAAGvF,QAAQ,CAACC,cAAT,CAAwBiD,OAAO,CAACyC,CAAD,CAAP,CAAWlC,MAAX,CAAkB,OAA1C,CAAb,CACA6B,SAAS,CAACX,KAAV,CAAgBC,eAAhB,CAAkC,SAAlC,CACAW,IAAI,CAACZ,KAAL,CAAWQ,KAAX,CAAmB,SAAnB,CACD,C,uCAED,kCAA0B,kBACxB,mBAAO,KAAC,iBAAD,EACH,UAAU,CAAE,KAAK1C,KAAL,CAAWG,GAAX,CAAenC,UADxB,CAEH,OAAO,CAAE,KAAKgC,KAAL,CAAWI,iBAFjB,CAGH,OAAO,CAAE,iBAACM,MAAD,QAAY,CAAA,OAAI,CAACoB,gBAAL,CAAsBpB,MAAtB,CAAZ,EAHN,EAAP,CAKD,C,iCAED,4BAAoB,kBAClB,mBAAO,KAAC,WAAD,EACH,IAAI,CAAE,KAAKV,KAAL,CAAWG,GAAX,CAAe/B,IADlB,CAEH,OAAO,CAAE,KAAK4B,KAAL,CAAWK,WAFjB,CAGH,OAAO,CAAE,iBAACK,MAAD,QAAY,CAAA,OAAI,CAAC0C,UAAL,CAAgB1C,MAAhB,CAAZ,EAHN,EAAP,CAKD,C,gCAED,2BAAmB,kBACjB,mBAAO,KAAC,UAAD,EACH,GAAG,CAAE,KAAKV,KAAL,CAAWG,GAAX,CAAe7B,GADjB,CAEH,OAAO,CAAE,KAAK0B,KAAL,CAAWM,UAFjB,CAGH,OAAO,CAAE,iBAACI,MAAD,QAAY,CAAA,OAAI,CAAC2C,YAAL,CAAkB3C,MAAlB,CAAZ,EAHN,EAAP,CAKD,C,iCAED,4BAAoB,kBAClB,mBAAO,KAAC,WAAD,EACH,IAAI,CAAE,KAAKV,KAAL,CAAWG,GAAX,CAAe1B,IADlB,CAEH,OAAO,CAAE,KAAKuB,KAAL,CAAWO,WAFjB,CAGH,OAAO,CAAE,iBAACG,MAAD,QAAY,CAAA,OAAI,CAAC4C,aAAL,CAAmB5C,MAAnB,CAAZ,EAHN,EAAP,CAKD,C,gCAED,2BAAmB,kBACjB,mBAAO,KAAC,UAAD,EACH,GAAG,CAAE,KAAKV,KAAL,CAAWpB,GADb,CAEH,OAAO,CAAE,KAAKoB,KAAL,CAAWQ,UAFjB,CAGH,OAAO,CAAE,iBAACE,MAAD,QAAY,CAAA,OAAI,CAAC6C,YAAL,CAAkB7C,MAAlB,CAAZ,EAHN,EAAP,CAKD,C,8BAED,wBAAe8B,CAAf,CAAkB,kBACd,mBAAO,KAAC,QAAD,EACC,IAAI,CAAE,KAAKxC,KAAL,CAAWG,GAAX,CAAenC,UADtB,CAEC,SAAS,CAAE,KAAKgC,KAAL,CAAWG,GAAX,CAAe1B,IAF3B,CAGC,EAAE,CAAE+D,CAHL,CAIC,SAAS,CAAE,KAAKxC,KAAL,CAAWS,OAAX,CAAmB+B,CAAnB,EAAsBxB,MAJlC,CAKC,cAAc,CAAE,KAAKhB,KAAL,CAAWS,OAAX,CAAmB+B,CAAnB,EAAsBrD,cALvC,CAMC,KAAK,CAAE,KAAKa,KAAL,CAAWS,OAAX,CAAmB+B,CAAnB,EAAsBhD,KAN9B,CAOC,KAAK,CAAE,KAAKQ,KAAL,CAAWS,OAAX,CAAmB+B,CAAnB,EAAsBjD,KAP9B,CAQC,OAAO,CAAE,iBAACiD,CAAD,QAAO,CAAA,OAAI,CAACgB,mBAAL,CAAyBhB,CAAzB,CAAP,EARV,EAAP,CAUH,C,+BAED,0BAAkB,kBAChB,mBAAO,KAAC,SAAD,EACD,OAAO,CAAE,KAAKxC,KAAL,CAAWH,OADnB,CAED,OAAO,CAAE,iBAAC4B,IAAD,QAAU,CAAA,OAAI,CAACgC,eAAL,CAAqBhC,IAArB,CAAV,EAFR,CAGD,oBAAoB,CAAE,sCAAM,CAAA,OAAI,CAAC3B,oBAAL,EAAN,EAHrB,CAID,eAAe,CAAE,iCAAM,CAAA,OAAI,CAAC4D,eAAL,EAAN,EAJhB,EAAP,CAMD,C,gCAED,2BAAmB,CACf,mBAAO,KAAC,UAAD,EACP,KAAK,CAAE,KAAK1D,KAAL,CAAWR,KADX,EAAP,CAEH,C,4BAED,uBAAe,CACboC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,mBAAO,YAAK,GAAG,CAAE3E,MAAV,CAAkB,GAAG,CAAC,oBAAtB,CAA2C,KAAK,CAAC,IAAjD,CAAsD,IAAI,CAAC,UAA3D,EAAP,CACD,C,sBAED,iBAAS,kBACP,mBACE,oCACE,0CADF,cAEE,aAAK,SAAS,CAAC,eAAf,WACK,KAAKyG,uBAAL,EADL,CAEK,KAAKC,iBAAL,EAFL,CAGK,KAAKC,gBAAL,EAHL,CAIK,KAAKC,iBAAL,EAJL,CAKK,KAAKC,gBAAL,EALL,GAFF,cASE,aAAK,SAAS,CAAC,aAAf,WACK,KAAKC,eAAL,EADL,cAEI,kCACI,aAAK,SAAS,CAAC,YAAf,WAEI,KAAKhE,KAAL,CAAWC,OAAX,CAAqB,KAAKgE,YAAL,EAArB,CACA,KAAKjE,KAAL,CAAWS,OAAX,CAAmB5C,GAAnB,CAAuB,SAAC+E,MAAD,CAASJ,CAAT,QAAe,CAAA,OAAI,CAAC0B,cAAL,CAAoB1B,CAApB,CAAf,EAAvB,CAHJ,cAKI,YAAK,GAAG,CAAErF,KAAV,CAAiB,GAAG,CAAC,aAArB,CAAmC,SAAS,CAAC,QAA7C,CAAsD,OAAO,CAAE,yBAAM,CAAA,OAAI,CAACgH,SAAL,EAAN,EAA/D,EALJ,GADJ,EAFJ,GATF,GADF,CAwBD,C,yBAnUuBpH,KAAK,CAACmB,S,EAsUhC,cAAe6B,CAAAA,WAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport Draggable from 'react-draggable';\n\nimport loader from \"./loader.GIF\";\nimport toTop from \"./icons/to-top.png\"\nimport selectWhite from \"./icons/select-white.png\";\nimport dropdown from \"./icons/dropdown.png\";\n/*\nimport calendar from \"./icons/calendar.png\";\nimport dropup from \"./icons/dropup.png\";\nimport selectGray from \"./icons/select-gray.png\";\n*/\n\nclass TimeSeriesControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('timeseries_dropdown').classList.toggle('show');\n        document.getElementById('timeseries_label').classList.toggle('hide');\n        document.getElementById('timeseries_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return (\n            <div>\n                <div className=\"time\" id='timeseries_bar'>\n                    <p className=\"time-selection\">{this.props.timeseries}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select time series'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='timeseries_dropdown'>\n                    <ul className=\"timeseries-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='timeseries_label'>Time Series</p>\n            </div>\n        );\n    }\n}\n\nclass YearControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('year_dropdown').classList.toggle('show');\n        document.getElementById('year_label').classList.toggle('hide');\n        document.getElementById('year_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='year_bar'>\n                    <p className=\"time-selection\">{this.props.year}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Year'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='year_dropdown'>\n                    <ul className=\"year-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='year_label'>Year</p>\n            </div>\n        );\n    }\n}\n\nclass DayControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('day_dropdown').classList.toggle('show');\n        document.getElementById('day_label').classList.toggle('hide');\n        document.getElementById('day_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"time\" id='day_bar'>\n                    <p className=\"time-selection\">{this.props.day}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select Day'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='day_dropdown'>\n                    <ul className=\"day-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='day_label'>Day</p>\n            </div>\n        );\n    }\n}\n\nclass FileControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('file_dropdown').classList.toggle('show');\n        document.getElementById('file_label').classList.toggle('hide');\n        document.getElementById('file_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        var fileName = this.props.file;\n        const file = fileName.slice(9,12) + ':' + fileName.slice(12,14) + ':' + fileName.slice(14,16) + 'Z';\n        return(\n            <div>\n                <div className=\"time\" id='file_bar'>\n                    <p className=\"time-selection\">{file}</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select File'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"time-dropdown\" id='file_dropdown'>\n                    <ul className=\"file-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id='file_label'>File</p>\n            </div>\n        );\n    }\n}\n\nclass SetControl extends React.Component {\n    handleDropdown() {\n        document.getElementById('set_dropdown').classList.toggle('show');\n        document.getElementById('set_label').classList.toggle('hide');\n        document.getElementById('set_bar').classList.toggle('accommodate-dropdown');\n    }\n    \n    render() {\n        const options = this.props.options.map((x) => \n        <li key={x} onClick={() => this.props.onClick(x)}><button id={x}>{x}</button></li>)\n        return(\n            <div>\n                <div className=\"set\" id=\"set_bar\">\n                <p className=\"time-selection\">{this.props.set}</p>\n                <img src={dropdown} className=\"time-icon\"\n                alt={'Select Set'} onClick={() => this.handleDropdown()}></img>\n                </div>\n                <div className=\"set-dropdown\" id='set_dropdown'>\n                    <ul className=\"set-option\">{options}</ul>\n                </div>\n                <p className=\"time-label\" id=\"set_label\">Set</p>\n            </div>\n        );\n    }\n}\n\nclass PlanktonImage extends React.Component {\n\n  render() {\n  const url = this.props.nameSpace + this.props.timestamp + '_' + this.props.ifcb + '_' + this.props.targetNum + '.jpg';\n      return(\n          <img src={url} className=\"image\" \n          alt={this.props.classification} \n          id={this.props.targetNum + '-image'}\n          style={{height: String(Number(this.props.width)*Number(this.props.scale)*0.07)+'vw'}}></img>\n      );\n  }\n}\n\nclass Plankton extends React.Component {\n  \n  renderImage() {  \n    return (\n      <div>\n          <PlanktonImage \n              nameSpace={'http://128.114.25.154:8888/' + this.props.ifcb + '/'}\n              timestamp={this.props.timestamp}\n              ifcb={this.props.ifcb}\n              targetNum={this.props.targetNum}\n              classification={this.props.classification}\n              width={this.props.width}\n              scale={this.props.scale}\n          />\n      </div>\n      );\n  }\n\n  render() {\n      return(\n          <button className=\"plankton-button\" onClick={() => this.props.onClick(this.props.targetNum)}>\n              <div className=\"plankton\">\n                  {this.renderImage()}\n                  <div className={'id'} id={this.props.targetNum}>\n                      <p className={'id-text'} id={this.props.targetNum + '-text'}>{this.props.classification}</p>\n                  </div>\n              </div>\n          </button>\n      );\n  }\n}\n\nclass Micrometer extends React.Component {\n    render() {\n        return(\n            <Draggable>\n                <div className=\"drag-box\">\n                    <div className=\"micrometer-block\"\n                    style={{width: '1.904vw'}}></div>\n                    <p className=\"micrometer-text\">10µm</p>\n                </div>\n            </Draggable>\n        );\n    }\n}\n\nclass ClassMenu extends React.Component {\n  render() {\n      const options = this.props.classes.map((x) => \n      <li key={x}><button id={x} onClick={() => this.props.onClick(x)}>{x}</button></li>);\n      return(\n      <div className=\"sidebar\">\n      <div className=\"class-menu\">\n          <div className=\"control-box\">\n            <div className=\"annotation-control\" onClick={() =>  this.props.handleSelectAllClick()}>\n                <p className=\"control-text\">Select All</p>\n            </div>\n            <div className=\"annotation-control\" onClick={() =>  this.props.handleSelectAllClick()}>\n                <p className=\"control-text\">Undo</p>\n            </div>\n          </div>\n          <ul>{options}</ul>\n      </div>\n      <Micrometer/>\n      </div>\n      );\n  }\n}\n\nclass Annotations extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          classes: [],\n          classPicker: 'Unclassified',\n          bin: {timeseries:'', year:'', day:'', file:''},\n          set: 1,\n          timeSeriesOptions: [],\n          yearOptions: [],\n          dayOptions: [],\n          fileOptions: [],\n          setOptions: [],\n          targets: [],\n          scale: 1,\n      }\n  }\n\n  getNewTimeSeries(option) {\n    this.setState({loading: true});\n    axios\n        .get('/process/timeseries/' + option + '/')\n        .then((binResponse) => {\n            this.setState({ \n                bin: binResponse.data.bin,\n                set: binResponse.data.set.number,\n                yearOptions: binResponse.data.options.year_options.reverse(),\n                dayOptions: binResponse.data.options.day_options.reverse(),\n                fileOptions: binResponse.data.options.file_options,\n                setOptions: binResponse.data.options.set_options,\n            });\n            axios\n                .get('/process/targets/' + option + '/' + binResponse.data.bin.file + '/1/')\n                .then((targetResponse) => {\n                    this.setState({ \n                        targets: targetResponse.data,\n                        scale: targetResponse.data[0].scale,\n                        loading: false,\n                     });\n                });\n        });\n  };\n\n  componentDidMount() {\n    axios\n      .get(\"/api/timeseries/\")\n      .then((res) => {this.setState({ timeSeriesOptions: res.data.map((c) => (c.name)) })})\n      .catch((err) => console.log(err));\n\n    axios\n      .get(\"/api/classes/\")\n      .then((res) => this.setState({ classes: res.data.map((c) => (c.name)) }))\n      .catch((err) => console.log(err));\n\n    this.getNewTimeSeries('IFCB104');\n  }\n  \n  getNewYear(option) {\n      console.log(option);\n  }\n\n  handleNewDay(option) {\n    document.getElementById('day_dropdown').classList.toggle('show');\n    document.getElementById('day_label').classList.toggle('hide');\n    document.getElementById('day_bar').classList.toggle('accommodate-dropdown');\n    \n    this.setState({\n        loading: true,\n        bin: {\n            timeseries: this.state.bin.timeseries,\n            year: this.state.bin.year,\n            day: option,\n            file: this.state.bin.file\n        },\n        set: 1\n    });\n    axios\n        .get('/process/day/' + this.state.bin.timeseries + '/' + this.state.bin.year + '/' + option + '/')\n        .then((dayResponse) => {\n            this.setState({ \n                bin: {\n                    timeseries: this.state.bin.timeseries,\n                    year: this.state.bin.year,\n                    day: option,\n                    file: this.dayResponse.bin.file\n                },\n                fileOptions: dayResponse.data.options.file_options,\n                setOptions: dayResponse.data.options.set_option\n            });\n            axios\n                .get('/process/targets/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/1/')\n                .then((targetResponse) => {\n                    this.setState({ \n                        targets: targetResponse.data,\n                        scale: targetResponse.data[0].scale,\n                        loading: false,\n                    });\n                });\n    })\n        .catch((err) => console.log(err));\n  }\n\n  handleNewFile(option) {\n    document.getElementById('file_dropdown').classList.toggle('show');\n    document.getElementById('file_label').classList.toggle('hide');\n    document.getElementById('file_bar').classList.toggle('accommodate-dropdown');\n    \n    const file = 'D' + this.state.bin.year + this.state.bin.day.slice(0,2) + this.state.bin.day.slice(3,5) + \n    option.slice(0,3) + option.slice(4,6) + option.slice(7,9);\n    this.setState({\n        loading: true,\n        bin: {\n            timeseries: this.state.bin.timeseries,\n            year: this.state.bin.year,\n            day: this.state.bin.day,\n            file: file\n        },\n        set: 1\n    });\n    axios\n        .get('/process/file/' + this.state.bin.timeseries + '/' + file + '/')\n        .then((res) => this.setState({ setOptions: res.data.options.set_options }))\n        .catch((err) => console.log(err));\n    axios\n        .get('/process/targets/' + this.state.bin.timeseries + '/' + file + '/1/')\n        .then((targetResponse) => {\n            this.setState({ \n                targets: targetResponse.data,\n                scale: targetResponse.data[0].scale,\n                loading: false,\n             });\n        });\n  }\n\n  handleNewSet(option) {\n    this.setState({\n        loading: true,\n        set: option,\n        targets: [],\n    });\n    axios\n      .get('process/targets/' + this.state.bin.timeseries + '/' + this.state.bin.file + '/' + option + '/')\n      .then((res) => {this.setState({ \n          targets: res.data,\n          scale: res.data[0].scale,\n        })})\n      .catch((err) => console.log(err));\n    this.setState({loading: false});\n  }\n\n\n  handleMenuClick(name) {\n      const prevMenu = document.getElementById(this.state.classPicker);\n      prevMenu.style.backgroundColor = '#079CCC';\n      prevMenu.addEventListener('mouseover', function() {\n        prevMenu.style.backgroundColor = '#16609F';\n      });\n      prevMenu.addEventListener('mouseout', function() {\n        prevMenu.style.backgroundColor = '#079CCC';\n      });\n\n      const ids = document.getElementsByClassName('id');\n      const idTexts = document.getElementsByClassName('id-text');\n      for (let i=0; i<ids.length; i++) {\n          if (ids[i].style.backgroundColor !== '#FFFFFF') {\n            ids[i].style.backgroundColor = '#FFFFFF';\n            idTexts[i].style.color = '#4E4E4E';\n        }\n      }\n\n      this.setState({ classPicker: name });\n      const menu = document.getElementById(name);\n      menu.style.backgroundColor = '#16609F';\n      \n      for (const target of this.state.targets) {\n          if (target.classification === name) {\n              const container = document.getElementById(target.number);\n              const text = document.getElementById(target.number+'-text');\n              container.style.backgroundColor = '#16609F';\n              text.style.color = '#FFFFFF';\n          }\n      }\n  }\n\n  /* Fix this entire function later (will need updates to targets and row calls)\n  handleRowClick(row) {\n      for (const sample of this.state.rows[row]) {\n          this.state.targets[sample] = this.state.classPicker;\n          const container = document.getElementById(sample);\n          const text = document.getElementById(sample+'_text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({targets: this.state.targets});\n  }\n  */\n\n  backToTop() {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n  }\n\n  handleSelectAllClick() {\n      const targets = this.state.targets;\n      for (let i = 0; i < targets.length; i++) {\n          targets[i].classification = this.state.classPicker;\n          const container = document.getElementById(targets[i].number);\n          const text = document.getElementById(targets[i].number+'_text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({ targets: targets });\n  }\n\n  handlePlanktonClick(i) {\n    var targets = this.state.targets;\n    const k = targets.findIndex(target => target.number === i);\n    targets[k].classification = this.state.classPicker;\n    this.setState({ targets: targets });\n    const container = document.getElementById(targets[k].number);\n    const text = document.getElementById(targets[k].number+'-text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  renderTimeSeriesControl() {\n    return <TimeSeriesControl\n        timeseries={this.state.bin.timeseries}\n        options={this.state.timeSeriesOptions}\n        onClick={(option) => this.getNewTimeSeries(option)}\n    />;\n  }\n\n  renderYearControl() {\n    return <YearControl\n        year={this.state.bin.year}\n        options={this.state.yearOptions}\n        onClick={(option) => this.getNewYear(option)} \n    />;\n  }\n\n  renderDayControl() {\n    return <DayControl\n        day={this.state.bin.day} \n        options={this.state.dayOptions}\n        onClick={(option) => this.handleNewDay(option)}\n    />;\n  }\n\n  renderFileControl() {\n    return <FileControl\n        file={this.state.bin.file} \n        options={this.state.fileOptions}\n        onClick={(option) => this.handleNewFile(option)} \n    />;\n  }\n\n  renderSetControl() {\n    return <SetControl\n        set={this.state.set} \n        options={this.state.setOptions}\n        onClick={(option) => this.handleNewSet(option)} \n    />;\n  }\n  \n  renderPlankton(i) {\n      return <Plankton \n              ifcb={this.state.bin.timeseries}\n              timestamp={this.state.bin.file}\n              id={i}\n              targetNum={this.state.targets[i].number}\n              classification={this.state.targets[i].classification}\n              scale={this.state.targets[i].scale}\n              width={this.state.targets[i].width}\n              onClick={(i) => this.handlePlanktonClick(i)}\n          />;\n  }\n\n  renderClassMenu() {\n    return <ClassMenu \n          classes={this.state.classes}\n          onClick={(name) => this.handleMenuClick(name)}\n          handleSelectAllClick={() => this.handleSelectAllClick()}\n          handleUndoClick={() => this.handleUndoClick()}\n      />;\n  }\n\n  renderMicrometer() {\n      return <Micrometer\n      scale={this.state.scale}/>\n  }\n\n  renderLoader() {\n    console.log('Loading...');\n    return <img src={loader} alt=\"Loading targets...\" width=\"80\" loop=\"infinite\"></img>\n  }\n\n  render() {  \n    return(\n      <div>\n        <h1>Manual Annotations</h1>\n        <div className=\"time-controls\">\n            {this.renderTimeSeriesControl()}\n            {this.renderYearControl()}\n            {this.renderDayControl()}\n            {this.renderFileControl()}\n            {this.renderSetControl()}\n        </div>\n        <div className=\"annotations\">\n            {this.renderClassMenu()}\n            <div>\n                <div className=\"image-grid\">\n                    {\n                    this.state.loading ? this.renderLoader() :\n                    this.state.targets.map((target, i) => this.renderPlankton(i))\n                    }\n                    <img src={toTop} alt=\"Back to Top\" className=\"to-top\" onClick={() => this.backToTop()}></img>\n                </div>\n            </div>\n        </div>\n      </div>\n      );\n  }\n}\n\nexport default Annotations;"]},"metadata":{},"sourceType":"module"}