{"ast":null,"code":"var _jsxFileName = \"/Users/jamiewalton/Desktop/Classification_v2/frontend/src/App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport selectWhite from \"./icons/select-white.png\";\nimport calendar from \"./icons/calendar.png\";\nimport dropdown from \"./icons/dropdown.png\";\nimport dropup from \"./icons/dropup.png\";\nimport selectGray from \"./icons/select-gray.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TimeSeriesControl extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time\",\n        id: \"timeseries_bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"time-selection\",\n          children: \"IFCB104\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dropdown,\n          className: \"time-icon\",\n          alt: 'Select time series',\n          onClick: this.props.onTimeSeriesClick()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time-dropdown\",\n        id: \"timeseries_dropdown\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"time-label\",\n        id: \"timeseries_label\",\n        children: \"Time Series\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass YearControl extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time\",\n        id: \"year_bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"time-selection\",\n          children: \"2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dropdown,\n          className: \"time-icon\",\n          alt: 'Select year'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time-dropdown\",\n        id: \"year_dropdown\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"time-label\",\n        id: \"year_label\",\n        children: \"Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass DayControl extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time\",\n        id: \"day_bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"time-selection\",\n          children: \"June 6th\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dropdown,\n          className: \"time-icon\",\n          alt: 'Select day'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time-dropdown\",\n        id: \"day_dropdown\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"time-label\",\n        id: \"day_label\",\n        children: \"Day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass FileControl extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time\",\n        id: \"file_bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"time-selection\",\n          children: \"T07:22:15Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dropdown,\n          className: \"time-icon\",\n          alt: 'Select file'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time-dropdown\",\n        id: \"file_dropdown\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"time-label\",\n        id: \"file_label\",\n        children: \"Time Series\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass SetControl extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"set\",\n        id: \"set\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"time-selection\",\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dropdown,\n          className: \"time-icon\",\n          alt: \"select time series\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"time-label\",\n        children: \"Set\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass PlanktonImage extends React.Component {\n  render() {\n    const url = this.props.nameSpace + this.props.timestamp + '_' + this.props.ifcb + '_' + this.props.targetNum + '.jpg';\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: url,\n      className: \"image\",\n      alt: this.props.classification,\n      id: this.props.targetNum + '-image'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nclass Plankton extends React.Component {\n  renderImage() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(PlanktonImage, {\n        nameSpace: this.props.nameSpace,\n        timestamp: this.props.timestamp,\n        ifcb: this.props.ifcb,\n        targetNum: this.props.targetNum,\n        classification: this.props.classification\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"plankton-button\",\n      onClick: () => this.props.onClick(this.props.id),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plankton\",\n        children: [this.renderImage(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"id\",\n          id: this.props.targetNum,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"id-text\",\n            id: this.props.targetNum + '_text',\n            children: this.props.classification\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nclass ClassMenu extends React.Component {\n  render() {\n    const options = this.props.classes.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        id: x,\n        onClick: () => this.props.onClick(x),\n        children: x\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }, this)\n    }, x, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"class-menu\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Annotations extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getTimeSeriesOptions = () => {\n      axios.get(\"/api/timeseries/\").then(res => this.setState({\n        timeSeriesOptions: res.data.map(c => c.name)\n      })).catch(err => console.log(err));\n    };\n\n    this.getClasses = () => {\n      axios.get(\"/api/classes/\").then(res => this.setState({\n        classes: res.data.map(c => c.name)\n      })).catch(err => console.log(err));\n    };\n\n    this.state = {\n      classes: [],\n      classPicker: 'Unclassified',\n      timeSeriesOptions: [],\n      ifcb: 'IFCB104',\n      nameSpace: 'http://128.114.25.154:8888/' + this.state.ifcb + '/',\n      // change to dynamic on backend\n      timestamp: 'D20210612T212626',\n      bin: [{\n        id: 0,\n        number: '00201',\n        classification: null\n      }, {\n        id: 1,\n        number: '00202',\n        classification: null\n      }, {\n        id: 2,\n        number: '00203',\n        classification: null\n      }, {\n        id: 3,\n        number: '00204',\n        classification: null\n      }],\n      rows: [['00201', '00202', '00203', '00204', '00205', '00206'], ['00207', '00208', '00209', '00210', '00211', '00212'], ['00213', '00214', '00215', '00216', '00217', '00218'], ['00219', '00220', '00221', '00222', '00223', '00224'], ['00225', '00226', '00227', '00228', '00229', '00230'], ['00231', '00232', '00233', '00234', '00235', '00236']],\n      rowSpacing: [] // change to pull images from data base and dynamically create keys with all null values\n      // use height and width of each image to calculate row (based on flexbox width) on backend\n\n    };\n  }\n\n  handleTimeSeriesClick(m) {\n    const menu = document.getElementById('timeseries_dropdown');\n    const label = document.getElementById('timeseries_bar');\n\n    if (window.getComputedStyle(menu).display === 'none') {\n      window.getComputedStyle(menu).display = 'flex';\n      window.getComputedStyle(label).display = 'none';\n    } else {\n      window.getComputedStyle(menu).display = 'none';\n      window.getComputedStyle(label).display = 'flex';\n    }\n  }\n\n  handleMenuClick(name) {\n    // Fix hover later\n    // Getting error when doing lots of reclassifications? Fix later\n    const prev = document.getElementById(this.state.classPicker);\n    prev.style.backgroundColor = '#079CCC';\n    this.state.classPicker = name;\n    const btn = document.getElementById(name);\n    btn.style.backgroundColor = '#16609F';\n    const ids = document.getElementsByClassName('id');\n    const idTexts = document.getElementsByClassName('id-text');\n\n    for (let i = 0; i < ids.length; i++) {\n      if (ids[i].style.backgroundColor !== '#FFFFFF') {\n        ids[i].style.backgroundColor = '#FFFFFF';\n        idTexts[i].style.color = '#4E4E4E';\n      }\n    }\n\n    for (const target of this.state.bin) {\n      if (target.classification === name) {\n        const container = document.getElementById(target.id);\n        const text = document.getElementById(target.id + '_text');\n        container.style.backgroundColor = '#16609F';\n        text.style.color = '#FFFFFF';\n      }\n    }\n  }\n  /* Fix this entire function later (will need updates to bin and row calls)\n  handleRowClick(row) {\n      for (const sample of this.state.rows[row]) {\n          this.state.bin[sample] = this.state.classPicker;\n          const container = document.getElementById(sample);\n          const text = document.getElementById(sample+'_text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({bin: this.state.bin});\n  }\n  */\n\n\n  handleSelectAllClick() {\n    const bin = this.state.bin;\n\n    for (let i = 0; i < bin.length; i++) {\n      bin[i].classification = this.state.classPicker;\n      const container = document.getElementById(bin[i].number);\n      const text = document.getElementById(bin[i].number + '_text');\n      container.style.backgroundColor = '#16609F';\n      text.style.color = '#FFFFFF';\n    }\n\n    this.setState({\n      bin: bin\n    });\n  }\n\n  handlePlanktonClick(i) {\n    const bin = this.state.bin;\n    bin[i].classification = this.state.classPicker;\n    this.setState({\n      bin: bin\n    });\n    const container = document.getElementById(bin[i].number);\n    const text = document.getElementById(bin[i].number + '_text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  renderTimeControls() {\n    return /*#__PURE__*/_jsxDEV(TimeControls, {\n      onTimeSeriesClick: this.handleTimeSeriesClick(),\n      onYearClick: this.handleYearClick(),\n      onDayClick: this.handleDayClick(),\n      onFileClick: this.handleFileClick()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }, this);\n  }\n\n  renderPlankton(i) {\n    return /*#__PURE__*/_jsxDEV(Plankton, {\n      nameSpace: this.state.nameSpace,\n      timestamp: this.state.timestamp,\n      ifcb: this.state.ifcb,\n      id: i,\n      targetNum: this.state.bin[i].number,\n      classification: this.state.bin[i].classification,\n      onClick: i => this.handlePlanktonClick(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 11\n    }, this);\n  }\n\n  renderClassMenu() {\n    this.getClasses();\n    return /*#__PURE__*/_jsxDEV(ClassMenu, {\n      classes: this.state.classes,\n      onClick: name => this.handleMenuClick(name)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 12\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"time-controls\",\n        children: [this.renderTimeSeriesControl(), this.renderYearControl(), this.renderDayControl(), this.renderFileControl(), this.renderSetControl()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"annotations\",\n        children: [this.renderClassMenu(), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"annotation-control\",\n              onClick: () => this.handleSelectAllClick(),\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"select-all\",\n                src: selectWhite,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control-text\",\n                children: \"Select All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"annotation-control\",\n              onClick: () => this.handleSelectAllClick(),\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control-text\",\n                children: \"Undo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-grid\",\n            children: this.state.bin.map(target => this.renderPlankton(target.id))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Annotations;","map":{"version":3,"sources":["/Users/jamiewalton/Desktop/Classification_v2/frontend/src/App.js"],"names":["React","axios","selectWhite","calendar","dropdown","dropup","selectGray","TimeSeriesControl","Component","render","props","onTimeSeriesClick","YearControl","DayControl","FileControl","SetControl","PlanktonImage","url","nameSpace","timestamp","ifcb","targetNum","classification","Plankton","renderImage","onClick","id","ClassMenu","options","classes","map","x","Annotations","constructor","getTimeSeriesOptions","get","then","res","setState","timeSeriesOptions","data","c","name","catch","err","console","log","getClasses","state","classPicker","bin","number","rows","rowSpacing","handleTimeSeriesClick","m","menu","document","getElementById","label","window","getComputedStyle","display","handleMenuClick","prev","style","backgroundColor","btn","ids","getElementsByClassName","idTexts","i","length","color","target","container","text","handleSelectAllClick","handlePlanktonClick","renderTimeControls","handleYearClick","handleDayClick","handleFileClick","renderPlankton","renderClassMenu","renderTimeSeriesControl","renderYearControl","renderDayControl","renderFileControl","renderSetControl"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport selectWhite from \"./icons/select-white.png\";\nimport calendar from \"./icons/calendar.png\";\nimport dropdown from \"./icons/dropdown.png\";\nimport dropup from \"./icons/dropup.png\";\nimport selectGray from \"./icons/select-gray.png\";\n\nclass TimeSeriesControl extends React.Component {\n    render() {\n        return (\n            <div>\n                <div class=\"time\" id='timeseries_bar'>\n                    <p class=\"time-selection\">IFCB104</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select time series'} onClick={this.props.onTimeSeriesClick()}></img>\n                </div>\n                <div class=\"time-dropdown\" id='timeseries_dropdown'></div>\n                <p class=\"time-label\" id='timeseries_label'>Time Series</p>\n            </div>\n        );\n    }\n}\n\nclass YearControl extends React.Component {\n    render() {\n        return(\n            <div>\n                <div class=\"time\" id='year_bar'>\n                    <p class=\"time-selection\">2021</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select year'}></img>\n                </div>\n                <div class=\"time-dropdown\" id='year_dropdown'></div>\n                <p class=\"time-label\" id='year_label'>Year</p>\n            </div>\n        );\n    }\n}\n\nclass DayControl extends React.Component {\n    render() {\n        return(\n            <div>\n                <div class=\"time\" id='day_bar'>\n                    <p class=\"time-selection\">June 6th</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select day'}></img>\n                </div>\n                <div class=\"time-dropdown\" id='day_dropdown'></div>\n                <p class=\"time-label\" id='day_label'>Day</p>\n            </div>\n        );\n    }\n}\n\nclass FileControl extends React.Component {\n    render() {\n        return(\n            <div>\n                <div class=\"time\" id='file_bar'>\n                    <p class=\"time-selection\">T07:22:15Z</p>\n                    <img src={dropdown} className=\"time-icon\" \n                    alt={'Select file'}></img>\n                </div>\n                <div class=\"time-dropdown\" id='file_dropdown'></div>\n                <p class=\"time-label\" id='file_label'>Time Series</p>\n            </div>\n        );\n    }\n}\n\nclass SetControl extends React.Component {\n    render() {\n        return(\n            <div>\n                <div class=\"set\" id=\"set\">\n                <p class=\"time-selection\">1</p>\n                <img src={dropdown} className=\"time-icon\" alt=\"select time series\"></img>\n                </div>\n                <p class=\"time-label\">Set</p>\n            </div>\n        );\n    }\n}\n\nclass PlanktonImage extends React.Component {\n\n  render() {\n  const url = this.props.nameSpace + this.props.timestamp + '_' + this.props.ifcb + '_' + this.props.targetNum + '.jpg';\n      return(\n          <img src={url} className=\"image\" alt={this.props.classification} id={this.props.targetNum + '-image'}></img>\n      );\n  }\n}\n\nclass Plankton extends React.Component {\n  \n  renderImage() {\n      return (\n      <div>\n          <PlanktonImage \n              nameSpace={this.props.nameSpace}\n              timestamp={this.props.timestamp}\n              ifcb={this.props.ifcb}\n              targetNum={this.props.targetNum}\n              classification={this.props.classification}\n          />\n      </div>\n      );\n  }\n\n  render() {\n      return(\n          <button className=\"plankton-button\" onClick={() => this.props.onClick(this.props.id)}>\n              <div className=\"plankton\">\n                  {this.renderImage()}\n                  <div className=\"id\" id={this.props.targetNum}>\n                      <p className=\"id-text\" id={this.props.targetNum + '_text'}>{this.props.classification}</p>\n                  </div>\n              </div>\n          </button>\n      );\n  }\n}\n\nclass ClassMenu extends React.Component {\n  render() {\n      const options = this.props.classes.map((x) => \n      <li key={x}><button id={x} onClick={() => this.props.onClick(x)}>{x}</button></li>);\n      return(\n      <div className=\"class-menu\">\n          <ul>{options}</ul>\n      </div>\n      );\n  }\n}\n\nclass Annotations extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          classes: [],\n          classPicker: 'Unclassified',\n          timeSeriesOptions: [],\n          ifcb: 'IFCB104',\n          nameSpace: 'http://128.114.25.154:8888/' + this.state.ifcb + '/', // change to dynamic on backend\n          timestamp: 'D20210612T212626',\n          bin: [\n              {id: 0, number: '00201', classification: null},\n              {id: 1, number: '00202', classification: null},\n              {id: 2, number: '00203', classification: null},\n              {id: 3, number: '00204', classification: null},\n          ],\n          rows: [\n              ['00201', '00202', '00203', '00204', '00205', '00206'], \n              ['00207', '00208', '00209', '00210', '00211', '00212'], \n              ['00213', '00214', '00215', '00216', '00217', '00218'],\n              ['00219', '00220', '00221', '00222', '00223', '00224'],\n              ['00225', '00226', '00227', '00228', '00229', '00230'],\n              ['00231', '00232', '00233', '00234', '00235', '00236'],\n          ],\n\n          rowSpacing: [],\n\n          // change to pull images from data base and dynamically create keys with all null values\n          // use height and width of each image to calculate row (based on flexbox width) on backend\n      }\n  }\n\n  handleTimeSeriesClick(m) {\n      const menu = document.getElementById('timeseries_dropdown')\n      const label = document.getElementById('timeseries_bar')\n      if (window.getComputedStyle(menu).display === 'none') {\n          window.getComputedStyle(menu).display = 'flex';\n          window.getComputedStyle(label).display = 'none';\n      } else {\n        window.getComputedStyle(menu).display = 'none';\n        window.getComputedStyle(label).display = 'flex';\n      }\n  }\n\n  getTimeSeriesOptions = () => {\n    axios\n      .get(\"/api/timeseries/\")\n      .then((res) => this.setState({ timeSeriesOptions: res.data.map((c) => (c.name)) }))\n      .catch((err) => console.log(err));\n  }\n\n  getClasses = () => {\n    axios\n      .get(\"/api/classes/\")\n      .then((res) => this.setState({ classes: res.data.map((c) => (c.name)) }))\n      .catch((err) => console.log(err));\n  }\n\n  handleMenuClick(name) {\n      // Fix hover later\n      // Getting error when doing lots of reclassifications? Fix later\n      const prev = document.getElementById(this.state.classPicker);\n      prev.style.backgroundColor = '#079CCC';\n      this.state.classPicker = name;\n      const btn = document.getElementById(name);\n      btn.style.backgroundColor = '#16609F';\n\n      const ids = document.getElementsByClassName('id');\n      const idTexts = document.getElementsByClassName('id-text');\n      for (let i=0; i<ids.length; i++) {\n          if (ids[i].style.backgroundColor !== '#FFFFFF') {\n              ids[i].style.backgroundColor = '#FFFFFF';\n              idTexts[i].style.color = '#4E4E4E';\n          }\n      }\n      \n      for (const target of this.state.bin) {\n          if (target.classification === name) {\n              const container = document.getElementById(target.id);\n              const text = document.getElementById(target.id+'_text');\n              container.style.backgroundColor = '#16609F';\n              text.style.color = '#FFFFFF';\n          }\n      }\n  }\n\n  /* Fix this entire function later (will need updates to bin and row calls)\n  handleRowClick(row) {\n      for (const sample of this.state.rows[row]) {\n          this.state.bin[sample] = this.state.classPicker;\n          const container = document.getElementById(sample);\n          const text = document.getElementById(sample+'_text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({bin: this.state.bin});\n  }\n  */\n\n  handleSelectAllClick() {\n      const bin = this.state.bin;\n      for (let i = 0; i < bin.length; i++) {\n          bin[i].classification = this.state.classPicker;\n          const container = document.getElementById(bin[i].number);\n          const text = document.getElementById(bin[i].number+'_text');\n          container.style.backgroundColor = '#16609F';\n          text.style.color = '#FFFFFF';\n      }\n      this.setState({bin: bin});\n  }\n\n  handlePlanktonClick(i) {\n    const bin = this.state.bin;\n    bin[i].classification = this.state.classPicker;\n    this.setState({bin: bin});\n    const container = document.getElementById(bin[i].number);\n    const text = document.getElementById(bin[i].number+'_text');\n    container.style.backgroundColor = '#16609F';\n    text.style.color = '#FFFFFF';\n  }\n\n  renderTimeControls() {\n      return(\n          <TimeControls\n            onTimeSeriesClick={this.handleTimeSeriesClick()}\n            onYearClick={this.handleYearClick()}\n            onDayClick={this.handleDayClick()}\n            onFileClick={this.handleFileClick()}\n          />\n      );\n  }\n  \n  renderPlankton(i) {\n      return (\n          <Plankton \n              nameSpace={this.state.nameSpace}\n              timestamp={this.state.timestamp}\n              ifcb={this.state.ifcb}\n              id={i}\n              targetNum={this.state.bin[i].number}\n              classification={this.state.bin[i].classification}\n              onClick={(i) => this.handlePlanktonClick(i)}\n          />\n      );\n  }\n\n  renderClassMenu() { \n    this.getClasses();\n    return <ClassMenu \n          classes={this.state.classes}\n          onClick={(name) => this.handleMenuClick(name)}\n      />;\n  }\n\n  render() {\n      return(\n      <div>\n        <div class=\"time-controls\">\n            {this.renderTimeSeriesControl()}\n            {this.renderYearControl()}\n            {this.renderDayControl()}\n            {this.renderFileControl()}\n            {this.renderSetControl()}\n        </div>\n        <div className=\"annotations\">\n            {this.renderClassMenu()}\n            <div>\n                <div className=\"control-box\">\n                    <div className=\"annotation-control\" onClick={() =>  this.handleSelectAllClick()}>\n                        <img className=\"select-all\" src={selectWhite} alt=\"\"></img>\n                        <p className=\"control-text\">Select All</p>\n                    </div>\n                    <div className=\"annotation-control\" onClick={() =>  this.handleSelectAllClick()}>\n                        <p className=\"control-text\">Undo</p>\n                    </div>\n                </div>\n                <div className=\"image-grid\">\n                    {this.state.bin.map((target) => this.renderPlankton(target.id))}\n                </div>\n            </div>\n        </div>\n      </div>\n      );\n  }\n}\n\nexport default Annotations;"]},"metadata":{},"sourceType":"module"}